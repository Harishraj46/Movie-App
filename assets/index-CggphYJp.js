(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Of={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function UT(){if(_y)return Pl;_y=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Pl.Fragment=e,Pl.jsx=i,Pl.jsxs=i,Pl}var vy;function LT(){return vy||(vy=1,Of.exports=UT()),Of.exports}var yt=LT(),Mf={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function zT(){if(Ey)return At;Ey=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function D(C){return C===null||typeof C!="object"?null:(C=I&&C[I]||C["@@iterator"],typeof C=="function"?C:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,et={};function $(C,X,nt){this.props=C,this.context=X,this.refs=et,this.updater=nt||q}$.prototype.isReactComponent={},$.prototype.setState=function(C,X){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,X,"setState")},$.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function vt(){}vt.prototype=$.prototype;function gt(C,X,nt){this.props=C,this.context=X,this.refs=et,this.updater=nt||q}var ft=gt.prototype=new vt;ft.constructor=gt,Z(ft,$.prototype),ft.isPureReactComponent=!0;var Ut=Array.isArray,Tt={H:null,A:null,T:null,S:null,V:null},zt=Object.prototype.hasOwnProperty;function M(C,X,nt,J,ut,Rt){return nt=Rt.ref,{$$typeof:a,type:C,key:X,ref:nt!==void 0?nt:null,props:Rt}}function S(C,X){return M(C.type,X,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function O(C){var X={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(nt){return X[nt]})}var N=/\/+/g;function U(C,X){return typeof C=="object"&&C!==null&&C.key!=null?O(""+C.key):X.toString(36)}function R(){}function Oe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(X){C.status==="pending"&&(C.status="fulfilled",C.value=X)},function(X){C.status==="pending"&&(C.status="rejected",C.reason=X)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ie(C,X,nt,J,ut){var Rt=typeof C;(Rt==="undefined"||Rt==="boolean")&&(C=null);var pt=!1;if(C===null)pt=!0;else switch(Rt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(C.$$typeof){case a:case e:pt=!0;break;case A:return pt=C._init,ie(pt(C._payload),X,nt,J,ut)}}if(pt)return ut=ut(C),pt=J===""?"."+U(C,0):J,Ut(ut)?(nt="",pt!=null&&(nt=pt.replace(N,"$&/")+"/"),ie(ut,X,nt,"",function(Ln){return Ln})):ut!=null&&(w(ut)&&(ut=S(ut,nt+(ut.key==null||C&&C.key===ut.key?"":(""+ut.key).replace(N,"$&/")+"/")+pt)),X.push(ut)),1;pt=0;var be=J===""?".":J+":";if(Ut(C))for(var Zt=0;Zt<C.length;Zt++)J=C[Zt],Rt=be+U(J,Zt),pt+=ie(J,X,nt,Rt,ut);else if(Zt=D(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(J=C.next()).done;)J=J.value,Rt=be+U(J,Zt++),pt+=ie(J,X,nt,Rt,ut);else if(Rt==="object"){if(typeof C.then=="function")return ie(Oe(C),X,nt,J,ut);throw X=String(C),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return pt}function H(C,X,nt){if(C==null)return C;var J=[],ut=0;return ie(C,J,"","",function(Rt){return X.call(nt,Rt,ut++)}),J}function tt(C){if(C._status===-1){var X=C._result;X=X(),X.then(function(nt){(C._status===0||C._status===-1)&&(C._status=1,C._result=nt)},function(nt){(C._status===0||C._status===-1)&&(C._status=2,C._result=nt)}),C._status===-1&&(C._status=0,C._result=X)}if(C._status===1)return C._result.default;throw C._result}var lt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Pt(){}return At.Children={map:H,forEach:function(C,X,nt){H(C,function(){X.apply(this,arguments)},nt)},count:function(C){var X=0;return H(C,function(){X++}),X},toArray:function(C){return H(C,function(X){return X})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},At.Component=$,At.Fragment=i,At.Profiler=o,At.PureComponent=gt,At.StrictMode=s,At.Suspense=_,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt,At.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Tt.H.useMemoCache(C)}},At.cache=function(C){return function(){return C.apply(null,arguments)}},At.cloneElement=function(C,X,nt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var J=Z({},C.props),ut=C.key,Rt=void 0;if(X!=null)for(pt in X.ref!==void 0&&(Rt=void 0),X.key!==void 0&&(ut=""+X.key),X)!zt.call(X,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&X.ref===void 0||(J[pt]=X[pt]);var pt=arguments.length-2;if(pt===1)J.children=nt;else if(1<pt){for(var be=Array(pt),Zt=0;Zt<pt;Zt++)be[Zt]=arguments[Zt+2];J.children=be}return M(C.type,ut,void 0,void 0,Rt,J)},At.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},At.createElement=function(C,X,nt){var J,ut={},Rt=null;if(X!=null)for(J in X.key!==void 0&&(Rt=""+X.key),X)zt.call(X,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ut[J]=X[J]);var pt=arguments.length-2;if(pt===1)ut.children=nt;else if(1<pt){for(var be=Array(pt),Zt=0;Zt<pt;Zt++)be[Zt]=arguments[Zt+2];ut.children=be}if(C&&C.defaultProps)for(J in pt=C.defaultProps,pt)ut[J]===void 0&&(ut[J]=pt[J]);return M(C,Rt,void 0,void 0,null,ut)},At.createRef=function(){return{current:null}},At.forwardRef=function(C){return{$$typeof:g,render:C}},At.isValidElement=w,At.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:tt}},At.memo=function(C,X){return{$$typeof:v,type:C,compare:X===void 0?null:X}},At.startTransition=function(C){var X=Tt.T,nt={};Tt.T=nt;try{var J=C(),ut=Tt.S;ut!==null&&ut(nt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Pt,lt)}catch(Rt){lt(Rt)}finally{Tt.T=X}},At.unstable_useCacheRefresh=function(){return Tt.H.useCacheRefresh()},At.use=function(C){return Tt.H.use(C)},At.useActionState=function(C,X,nt){return Tt.H.useActionState(C,X,nt)},At.useCallback=function(C,X){return Tt.H.useCallback(C,X)},At.useContext=function(C){return Tt.H.useContext(C)},At.useDebugValue=function(){},At.useDeferredValue=function(C,X){return Tt.H.useDeferredValue(C,X)},At.useEffect=function(C,X,nt){var J=Tt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(C,X)},At.useId=function(){return Tt.H.useId()},At.useImperativeHandle=function(C,X,nt){return Tt.H.useImperativeHandle(C,X,nt)},At.useInsertionEffect=function(C,X){return Tt.H.useInsertionEffect(C,X)},At.useLayoutEffect=function(C,X){return Tt.H.useLayoutEffect(C,X)},At.useMemo=function(C,X){return Tt.H.useMemo(C,X)},At.useOptimistic=function(C,X){return Tt.H.useOptimistic(C,X)},At.useReducer=function(C,X,nt){return Tt.H.useReducer(C,X,nt)},At.useRef=function(C){return Tt.H.useRef(C)},At.useState=function(C){return Tt.H.useState(C)},At.useSyncExternalStore=function(C,X,nt){return Tt.H.useSyncExternalStore(C,X,nt)},At.useTransition=function(){return Tt.H.useTransition()},At.version="19.1.0",At}var Ty;function yd(){return Ty||(Ty=1,Mf.exports=zT()),Mf.exports}var Wn=yd(),Nf={exports:{}},Bl={},xf={exports:{}},Uf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function PT(){return Ay||(Ay=1,function(a){function e(H,tt){var lt=H.length;H.push(tt);t:for(;0<lt;){var Pt=lt-1>>>1,C=H[Pt];if(0<o(C,tt))H[Pt]=tt,H[lt]=C,lt=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var tt=H[0],lt=H.pop();if(lt!==tt){H[0]=lt;t:for(var Pt=0,C=H.length,X=C>>>1;Pt<X;){var nt=2*(Pt+1)-1,J=H[nt],ut=nt+1,Rt=H[ut];if(0>o(J,lt))ut<C&&0>o(Rt,J)?(H[Pt]=Rt,H[ut]=lt,Pt=ut):(H[Pt]=J,H[nt]=lt,Pt=nt);else if(ut<C&&0>o(Rt,lt))H[Pt]=Rt,H[ut]=lt,Pt=ut;else break t}}return tt}function o(H,tt){var lt=H.sortIndex-tt.sortIndex;return lt!==0?lt:H.id-tt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,I=null,D=3,q=!1,Z=!1,et=!1,$=!1,vt=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Ut(H){for(var tt=i(v);tt!==null;){if(tt.callback===null)s(v);else if(tt.startTime<=H)s(v),tt.sortIndex=tt.expirationTime,e(_,tt);else break;tt=i(v)}}function Tt(H){if(et=!1,Ut(H),!Z)if(i(_)!==null)Z=!0,zt||(zt=!0,U());else{var tt=i(v);tt!==null&&ie(Tt,tt.startTime-H)}}var zt=!1,M=-1,S=5,w=-1;function O(){return $?!0:!(a.unstable_now()-w<S)}function N(){if($=!1,zt){var H=a.unstable_now();w=H;var tt=!0;try{t:{Z=!1,et&&(et=!1,gt(M),M=-1),q=!0;var lt=D;try{e:{for(Ut(H),I=i(_);I!==null&&!(I.expirationTime>H&&O());){var Pt=I.callback;if(typeof Pt=="function"){I.callback=null,D=I.priorityLevel;var C=Pt(I.expirationTime<=H);if(H=a.unstable_now(),typeof C=="function"){I.callback=C,Ut(H),tt=!0;break e}I===i(_)&&s(_),Ut(H)}else s(_);I=i(_)}if(I!==null)tt=!0;else{var X=i(v);X!==null&&ie(Tt,X.startTime-H),tt=!1}}break t}finally{I=null,D=lt,q=!1}tt=void 0}}finally{tt?U():zt=!1}}}var U;if(typeof ft=="function")U=function(){ft(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Oe=R.port2;R.port1.onmessage=N,U=function(){Oe.postMessage(null)}}else U=function(){vt(N,0)};function ie(H,tt){M=vt(function(){H(a.unstable_now())},tt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return D},a.unstable_next=function(H){switch(D){case 1:case 2:case 3:var tt=3;break;default:tt=D}var lt=D;D=tt;try{return H()}finally{D=lt}},a.unstable_requestPaint=function(){$=!0},a.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var lt=D;D=H;try{return tt()}finally{D=lt}},a.unstable_scheduleCallback=function(H,tt,lt){var Pt=a.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Pt+lt:Pt):lt=Pt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=lt+C,H={id:A++,callback:tt,priorityLevel:H,startTime:lt,expirationTime:C,sortIndex:-1},lt>Pt?(H.sortIndex=lt,e(v,H),i(_)===null&&H===i(v)&&(et?(gt(M),M=-1):et=!0,ie(Tt,lt-Pt))):(H.sortIndex=C,e(_,H),Z||q||(Z=!0,zt||(zt=!0,U()))),H},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(H){var tt=D;return function(){var lt=D;D=tt;try{return H.apply(this,arguments)}finally{D=lt}}}}(Uf)),Uf}var Sy;function BT(){return Sy||(Sy=1,xf.exports=PT()),xf.exports}var Lf={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function kT(){if(by)return je;by=1;var a=yd();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:I==null?null:""+I,children:_,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,je.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},je.flushSync=function(_){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=A,s.d.f()}},je.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},je.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},je.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,I=g(A,v.crossOrigin),D=typeof v.integrity=="string"?v.integrity:void 0,q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:I,integrity:D,fetchPriority:q}):A==="script"&&s.d.X(_,{crossOrigin:I,integrity:D,fetchPriority:q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},je.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},je.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,I=g(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:I,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},je.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},je.requestFormReset=function(_){s.d.r(_)},je.unstable_batchedUpdates=function(_,v){return _(v)},je.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},je.useFormStatus=function(){return d.H.useHostTransitionStatus()},je.version="19.1.0",je}var Ry;function qT(){if(Ry)return Lf.exports;Ry=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Lf.exports=kT(),Lf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function jT(){if(wy)return Bl;wy=1;var a=BT(),e=yd(),i=qT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),vt=Symbol.for("react.provider"),gt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Ut=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case $:return"Profiler";case et:return"StrictMode";case Tt:return"Suspense";case zt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case ft:return(t.displayName||"Context")+".Provider";case gt:return(t._context.displayName||"Context")+".Consumer";case Ut:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return n=t.displayName||null,n!==null?n:Oe(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Oe(t(n))}catch{}}return null}var ie=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Pt=[],C=-1;function X(t){return{current:t}}function nt(t){0>C||(t.current=Pt[C],Pt[C]=null,C--)}function J(t,n){C++,Pt[C]=t.current,t.current=n}var ut=X(null),Rt=X(null),pt=X(null),be=X(null);function Zt(t,n){switch(J(pt,n),J(Rt,t),J(ut,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Qp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Qp(n),t=Yp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ut),J(ut,t)}function Ln(){nt(ut),nt(Rt),nt(pt)}function Li(t){t.memoizedState!==null&&J(be,t);var n=ut.current,r=Yp(n,t.type);n!==r&&(J(Rt,t),J(ut,r))}function si(t){Rt.current===t&&(nt(ut),nt(Rt)),be.current===t&&(nt(be),Nl._currentValue=lt)}var Ir=Object.prototype.hasOwnProperty,Dr=a.unstable_scheduleCallback,Vr=a.unstable_cancelCallback,Vs=a.unstable_shouldYield,co=a.unstable_requestPaint,gn=a.unstable_now,Vc=a.unstable_getCurrentPriorityLevel,Os=a.unstable_ImmediatePriority,Ta=a.unstable_UserBlockingPriority,Or=a.unstable_NormalPriority,Oc=a.unstable_LowPriority,Aa=a.unstable_IdlePriority,Ms=a.log,ho=a.unstable_setDisableYieldValue,re=null,jt=null;function rn(t){if(typeof Ms=="function"&&ho(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(re,t)}catch{}}var ke=Math.clz32?Math.clz32:Mr,fo=Math.log,Mc=Math.LN2;function Mr(t){return t>>>=0,t===0?32:31-(fo(t)/Mc|0)|0}var Nr=256,xr=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sa(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=In(l):(y&=E,y!==0?c=In(y):r||(r=E&~t,r!==0&&(c=In(r))))):(E=l&~f,E!==0?c=In(E):y!==0?c=In(y):r||(r=l&~t,r!==0&&(c=In(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Ur(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ns(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xs(){var t=Nr;return Nr<<=1,(Nr&4194048)===0&&(Nr=256),t}function Us(){var t=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),t}function li(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function oi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ls(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-ke(r),Q=1<<G;E[G]=0,b[G]=-1;var B=P[G];if(B!==null)for(P[G]=null,G=0;G<B.length;G++){var k=B[G];k!==null&&(k.lane&=-536870913)}r&=~Q}l!==0&&zn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function zn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function zs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-ke(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function zi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ba(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pi(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:fy(t.type))}function mo(t,n){var r=tt.p;try{return tt.p=t,n()}finally{tt.p=r}}var Wt=Math.random().toString(36).slice(2),ye="__reactFiber$"+Wt,he="__reactProps$"+Wt,pn="__reactContainer$"+Wt,Ps="__reactEvents$"+Wt,Nc="__reactListeners$"+Wt,Bi="__reactHandles$"+Wt,go="__reactResources$"+Wt,Lr="__reactMarker$"+Wt;function ki(t){delete t[ye],delete t[he],delete t[Ps],delete t[Nc],delete t[Bi]}function ui(t){var n=t[ye];if(n)return n;for(var r=t.parentNode;r;){if(n=r[pn]||r[ye]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=$p(t);t!==null;){if(r=t[ye])return r;t=$p(t)}return n}t=r,r=t.parentNode}return null}function Pn(t){if(t=t[ye]||t[pn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Qe(t){var n=t[go];return n||(n=t[go]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[Lr]=!0}var Bs=new Set,Ra={};function Dn(t,n){ci(t,n),ci(t+"Capture",n)}function ci(t,n){for(Ra[t]=n,t=0;t<n.length;t++)Bs.add(n[t])}var po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yo={},zr={};function _o(t){return Ir.call(zr,t)?!0:Ir.call(yo,t)?!1:po.test(t)?zr[t]=!0:(yo[t]=!0,!1)}function qi(t,n,r){if(_o(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function kn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Me(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Pr,vo;function hi(t){if(Pr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Pr=n&&n[1]||"",vo=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pr+t+vo}var wa=!1;function Ca(t,n){if(!t||wa)return"";wa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(k){var B=k}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(k){B=k}t.call(Q.prototype)}}else{try{throw Error()}catch(k){B=k}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{wa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?hi(r):""}function ks(t){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Ca(t.type,!1);case 11:return Ca(t.type.render,!1);case 1:return Ca(t.type,!0);case 31:return hi("Activity");default:return""}}function Ia(t){try{var n="";do n+=ks(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ye(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xc(t){var n=qs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Da(t){t._valueTracker||(t._valueTracker=xc(t))}function js(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=qs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Br(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Uc=/[\n"\\]/g;function fe(t){return t.replace(Uc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function an(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ye(n)):t.value!==""+Ye(n)&&(t.value=""+Ye(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?ji(t,y,Ye(n)):r!=null?ji(t,y,Ye(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ye(E):t.removeAttribute("name")}function kr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ye(r):"",n=n!=null?""+Ye(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function ji(t,n,r){n==="number"&&Br(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function fi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ye(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ft(t,n,r){if(n!=null&&(n=""+Ye(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ye(r):""}function qr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ye(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var jr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||jr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Hs(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Eo(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Eo(t,f,n[f])}function Gs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(t){return zc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var di=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mi=null,gi=null;function Fs(t){var n=Pn(t);if(n&&(t=n.stateNode)){var r=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(an(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(s(90));an(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&js(l)}break t;case"textarea":Ft(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&fi(t,!!r.multiple,n,!1)}}}var qn=!1;function To(t,n,r){if(qn)return t(n,r);qn=!0;try{var l=t(n);return l}finally{if(qn=!1,(mi!==null||gi!==null)&&(mu(),mi&&(n=mi,t=gi,gi=mi=null,Fs(n),t)))for(n=0;n<t.length;n++)Fs(t[n])}}function Hr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[he]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(Vn)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{vn=!1}var jn=null,Hi=null,pi=null;function Qs(){if(pi)return pi;var t,n=Hi,r=n.length,l,c="value"in jn?jn.value:jn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return pi=c.slice(t,1<l?1-l:void 0)}function Hn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function Ys(){return!1}function Re(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:Ys,this.isPropagationStopped=Ys,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=Re(kt),Fr=A({},kt,{view:0,detail:0}),Ao=Re(Fr),Ma,Na,Fn,Qr=A({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(Ma=t.screenX-Fn.screenX,Na=t.screenY-Fn.screenY):Na=Ma=0,Fn=t),Ma)},movementY:function(t){return"movementY"in t?t.movementY:Na}}),En=Re(Qr),So=A({},Qr,{dataTransfer:0}),Pc=Re(So),Yr=A({},Fr,{relatedTarget:0}),xa=Re(Yr),Ks=A({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=Re(Ks),bo=A({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),La=Re(bo),Bc=A({},kt,{data:0}),Xs=Re(Bc),Kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ro={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=wo[t])?!!n[t]:!1}function Xr(){return Zs}var Co=A({},Fr,{key:function(t){if(t.key){var n=Kr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ro[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(t){return t.type==="keypress"?Hn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),za=Re(Co),Io=A({},Qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$s=Re(Io),yi=A({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),Do=Re(yi),Vo=A({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oo=Re(Vo),Mo=A({},Qr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pa=Re(Mo),Ke=A({},kt,{newState:0,oldState:0}),No=Re(Ke),xo=[9,13,27,32],Qn=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var m=Vn&&"TextEvent"in window&&!u,p=Vn&&(!Qn||u&&8<u&&11>=u),T=" ",L=!1;function j(t,n){switch(t){case"keyup":return xo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function _e(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Ot(t,n){if(Vt)return t==="compositionend"||!Qn&&j(t,n)?(t=Qs(),pi=Hi=jn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var we={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!we[t.type]:n==="textarea"}function _i(t,n,r,l){mi?gi?gi.push(l):gi=[l]:mi=l,n=Eu(n,"onChange"),0<n.length&&(r=new Oa("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ne=null,Yn=null;function Js(t){qp(t,0)}function Uo(t){var n=Bn(t);if(js(n))return t}function om(t,n){if(t==="change")return n}var um=!1;if(Vn){var kc;if(Vn){var qc="oninput"in document;if(!qc){var cm=document.createElement("div");cm.setAttribute("oninput","return;"),qc=typeof cm.oninput=="function"}kc=qc}else kc=!1;um=kc&&(!document.documentMode||9<document.documentMode)}function hm(){Ne&&(Ne.detachEvent("onpropertychange",fm),Yn=Ne=null)}function fm(t){if(t.propertyName==="value"&&Uo(Yn)){var n=[];_i(n,Yn,t,_n(t)),To(Js,n)}}function hE(t,n,r){t==="focusin"?(hm(),Ne=n,Yn=r,Ne.attachEvent("onpropertychange",fm)):t==="focusout"&&hm()}function fE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uo(Yn)}function dE(t,n){if(t==="click")return Uo(n)}function mE(t,n){if(t==="input"||t==="change")return Uo(n)}function gE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:gE;function Ws(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Ir.call(n,c)||!sn(t[c],n[c]))return!1}return!0}function dm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mm(t,n){var r=dm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=dm(r)}}function gm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?gm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function pm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Br(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Br(t.document)}return n}function jc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var pE=Vn&&"documentMode"in document&&11>=document.documentMode,Ba=null,Hc=null,tl=null,Gc=!1;function ym(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gc||Ba==null||Ba!==Br(l)||(l=Ba,"selectionStart"in l&&jc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&Ws(tl,l)||(tl=l,l=Eu(Hc,"onSelect"),0<l.length&&(n=new Oa("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ba)))}function Zr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ka={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionrun:Zr("Transition","TransitionRun"),transitionstart:Zr("Transition","TransitionStart"),transitioncancel:Zr("Transition","TransitionCancel"),transitionend:Zr("Transition","TransitionEnd")},Fc={},_m={};Vn&&(_m=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function $r(t){if(Fc[t])return Fc[t];if(!ka[t])return t;var n=ka[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in _m)return Fc[t]=n[r];return t}var vm=$r("animationend"),Em=$r("animationiteration"),Tm=$r("animationstart"),yE=$r("transitionrun"),_E=$r("transitionstart"),vE=$r("transitioncancel"),Am=$r("transitionend"),Sm=new Map,Qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qc.push("scrollEnd");function On(t,n){Sm.set(t,n),Dn(n,[t])}var bm=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var r=bm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ia(n)},bm.set(t,n),n)}return{value:t,source:n,stack:Ia(n)}}var An=[],qa=0,Yc=0;function Lo(){for(var t=qa,n=Yc=qa=0;n<t;){var r=An[n];An[n++]=null;var l=An[n];An[n++]=null;var c=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Rm(r,c,f)}}function zo(t,n,r,l){An[qa++]=t,An[qa++]=n,An[qa++]=r,An[qa++]=l,Yc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Kc(t,n,r,l){return zo(t,n,r,l),Po(t)}function ja(t,n){return zo(t,null,null,n),Po(t)}function Rm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ke(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Po(t){if(50<Rl)throw Rl=0,tf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ha={};function EE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,n,r,l){return new EE(t,n,r,l)}function Xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vi(t,n){var r=t.alternate;return r===null?(r=ln(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function wm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Bo(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Xc(t)&&(y=1);else if(typeof t=="string")y=AT(t,r,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=ln(31,r,n,c),t.elementType=w,t.lanes=f,t;case Z:return Jr(r.children,c,f,n);case et:y=8,c|=24;break;case $:return t=ln(12,r,n,c|2),t.elementType=$,t.lanes=f,t;case Tt:return t=ln(13,r,n,c),t.elementType=Tt,t.lanes=f,t;case zt:return t=ln(19,r,n,c),t.elementType=zt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vt:case ft:y=10;break t;case gt:y=9;break t;case Ut:y=11;break t;case M:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=ln(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Jr(t,n,r,l){return t=ln(7,t,l,n),t.lanes=r,t}function Zc(t,n,r){return t=ln(6,t,null,n),t.lanes=r,t}function $c(t,n,r){return n=ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ga=[],Fa=0,ko=null,qo=0,Sn=[],bn=0,Wr=null,Ei=1,Ti="";function ta(t,n){Ga[Fa++]=qo,Ga[Fa++]=ko,ko=t,qo=n}function Cm(t,n,r){Sn[bn++]=Ei,Sn[bn++]=Ti,Sn[bn++]=Wr,Wr=t;var l=Ei;t=Ti;var c=32-ke(l)-1;l&=~(1<<c),r+=1;var f=32-ke(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ei=1<<32-ke(n)+c|r<<c|l,Ti=f+t}else Ei=1<<f|r<<c|l,Ti=t}function Jc(t){t.return!==null&&(ta(t,1),Cm(t,1,0))}function Wc(t){for(;t===ko;)ko=Ga[--Fa],Ga[Fa]=null,qo=Ga[--Fa],Ga[Fa]=null;for(;t===Wr;)Wr=Sn[--bn],Sn[bn]=null,Ti=Sn[--bn],Sn[bn]=null,Ei=Sn[--bn],Sn[bn]=null}var Xe=null,ae=null,Bt=!1,ea=null,Kn=!1,th=Error(s(519));function na(t){var n=Error(s(418,""));throw il(Tn(n,t)),th}function Im(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ye]=t,n[he]=l,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<Cl.length;r++)It(Cl[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),kr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Da(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),qr(n,l.value,l.defaultValue,l.children),Da(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Fp(n.textContent,r)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Tu),n=!0):n=!1,n||na(t)}function Dm(t){for(Xe=t.return;Xe;)switch(Xe.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Xe=Xe.return}}function el(t){if(t!==Xe)return!1;if(!Bt)return Dm(t),Bt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||yf(t.type,t.memoizedProps)),r=!r),r&&ae&&na(t),Dm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=Nn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,ar(t.type)?(t=Tf,Tf=null,ae=t):ae=n):ae=Xe?Nn(t.stateNode.nextSibling):null;return!0}function nl(){ae=Xe=null,Bt=!1}function Vm(){var t=ea;return t!==null&&(Je===null?Je=t:Je.push.apply(Je,t),ea=null),t}function il(t){ea===null?ea=[t]:ea.push(t)}var eh=X(null),ia=null,Ai=null;function Gi(t,n,r){J(eh,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=eh.current,nt(eh)}function nh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function ih(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),nh(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),nh(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function rl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;sn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===be.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}c=c.return}t!==null&&ih(n,t,r,l),n.flags|=262144}function jo(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ra(t){ia=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Om(ia,t)}function Ho(t,n){return ia===null&&ra(t),Om(t,n)}function Om(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ai===null){if(t===null)throw Error(s(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return r}var TE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},AE=a.unstable_scheduleCallback,SE=a.unstable_NormalPriority,Ee={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rh(){return{controller:new TE,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&AE(SE,function(){t.controller.abort()})}var sl=null,ah=0,Qa=0,Ya=null;function bE(t,n){if(sl===null){var r=sl=[];ah=0,Qa=of(),Ya={status:"pending",value:void 0,then:function(l){r.push(l)}}}return ah++,n.then(Mm,Mm),n}function Mm(){if(--ah===0&&sl!==null){Ya!==null&&(Ya.status="fulfilled");var t=sl;sl=null,Qa=0,Ya=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function RE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Nm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&bE(t,n),Nm!==null&&Nm(t,n)};var aa=X(null);function sh(){var t=aa.current;return t!==null?t:$t.pooledCache}function Go(t,n){n===null?J(aa,aa.current):J(aa,n.pool)}function xm(){var t=sh();return t===null?null:{parent:Ee._currentValue,pool:t}}var ll=Error(s(460)),Um=Error(s(474)),Fo=Error(s(542)),lh={then:function(){}};function Lm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qo(){}function zm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Qo,Qo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bm(t),t;default:if(typeof n.status=="string")n.then(Qo,Qo);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bm(t),t}throw ol=n,ll}}var ol=null;function Pm(){if(ol===null)throw Error(s(459));var t=ol;return ol=null,t}function Bm(t){if(t===ll||t===Fo)throw Error(s(483))}var Fi=!1;function oh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Yi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Po(t),Rm(t,null,r),n}return zo(t,l,n,r),Po(t)}function ul(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,zs(t,r)}}function ch(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var hh=!1;function cl(){if(hh){var t=Ya;if(t!==null)throw t}}function hl(t,n,r,l){hh=!1;var c=t.updateQueue;Fi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=b))}if(f!==null){var Q=c.baseState;y=0,G=P=b=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Mt&B)===B:(l&B)===B){B!==0&&B===Qa&&(hh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var mt=t,ct=E;B=n;var Kt=r;switch(ct.tag){case 1:if(mt=ct.payload,typeof mt=="function"){Q=mt.call(Kt,Q,B);break t}Q=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ct.payload,B=typeof mt=="function"?mt.call(Kt,Q,B):mt,B==null)break t;Q=A({},Q,B);break t;case 2:Fi=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=k,b=Q):G=G.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);G===null&&(b=Q),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),er|=y,t.lanes=y,t.memoizedState=Q}}function km(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function qm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)km(r[t],n)}var Ka=X(null),Yo=X(0);function jm(t,n){t=Vi,J(Yo,t),J(Ka,n),Vi=t|n.baseLanes}function fh(){J(Yo,Vi),J(Ka,Ka.current)}function dh(){Vi=Yo.current,nt(Ka),nt(Yo)}var Ki=0,St=null,Qt=null,de=null,Ko=!1,Xa=!1,sa=!1,Xo=0,fl=0,Za=null,wE=0;function oe(){throw Error(s(321))}function mh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!sn(t[r],n[r]))return!1;return!0}function gh(t,n,r,l,c,f){return Ki=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Rg:wg,sa=!1,f=r(l,c),sa=!1,Xa&&(f=Gm(n,r,l,c)),Hm(t),f}function Hm(t){H.H=eu;var n=Qt!==null&&Qt.next!==null;if(Ki=0,de=Qt=St=null,Ko=!1,fl=0,Za=null,n)throw Error(s(300));t===null||Ce||(t=t.dependencies,t!==null&&jo(t)&&(Ce=!0))}function Gm(t,n,r,l){St=t;var c=0;do{if(Xa&&(Za=null),fl=0,Xa=!1,25<=c)throw Error(s(301));if(c+=1,de=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=NE,f=n(r,l)}while(Xa);return f}function CE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?dl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(St.flags|=1024),n}function ph(){var t=Xo!==0;return Xo=0,t}function yh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function _h(t){if(Ko){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ko=!1}Ki=0,de=Qt=St=null,Xa=!1,fl=Xo=0,Za=null}function Ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?St.memoizedState=de=t:de=de.next=t,de}function me(){if(Qt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=de===null?St.memoizedState:de.next;if(n!==null)de=n,Qt=t;else{if(t===null)throw St.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},de===null?St.memoizedState=de=t:de=de.next=t}return de}function vh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var n=fl;return fl+=1,Za===null&&(Za=[]),t=zm(Za,t,n),n=St,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Rg:wg),t}function Zo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===ft)return qe(t)}throw Error(s(438,String(t)))}function Eh(t){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=vh(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=O;return n.index++,r}function bi(t,n){return typeof n=="function"?n(t):n}function $o(t){var n=me();return Th(n,Qt,t)}function Th(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,G=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(Mt&Q)===Q:(Ki&Q)===Q){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===Qa&&(G=!0);else if((Ki&B)===B){P=P.next,B===Qa&&(G=!0);continue}else Q={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=Q,y=f):b=b.next=Q,St.lanes|=B,er|=B;Q=P.action,sa&&r(f,Q),f=P.hasEagerState?P.eagerState:r(f,Q)}else B={lane:Q,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,St.lanes|=Q,er|=Q;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!sn(f,t.memoizedState)&&(Ce=!0,G&&(r=Ya,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ah(t){var n=me(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);sn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Fm(t,n,r){var l=St,c=me(),f=Bt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!sn((Qt||c).memoizedState,r);y&&(c.memoizedState=r,Ce=!0),c=c.queue;var E=Km.bind(null,l,c,t);if(ml(2048,8,E,[t]),c.getSnapshot!==n||y||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,$a(9,Jo(),Ym.bind(null,l,c,r,n),null),$t===null)throw Error(s(349));f||(Ki&124)!==0||Qm(l,n,r)}return r}function Qm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=vh(),St.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Ym(t,n,r,l){n.value=r,n.getSnapshot=l,Xm(n)&&Zm(t)}function Km(t,n,r){return r(function(){Xm(n)&&Zm(t)})}function Xm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!sn(t,r)}catch{return!0}}function Zm(t){var n=ja(t,2);n!==null&&fn(n,t,2)}function Sh(t){var n=Ze();if(typeof t=="function"){var r=t;if(t=r(),sa){rn(!0);try{r()}finally{rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:t},n}function $m(t,n,r,l){return t.baseState=r,Th(t,Qt,typeof l=="function"?l:bi)}function IE(t,n,r,l,c){if(tu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Jm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Jm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=r(c,l),b=H.S;b!==null&&b(y,E),Wm(t,n,E)}catch(P){bh(t,n,P)}finally{H.T=f}}else try{f=r(c,l),Wm(t,n,f)}catch(P){bh(t,n,P)}}function Wm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){tg(t,n,l)},function(l){return bh(t,n,l)}):tg(t,n,r)}function tg(t,n,r){n.status="fulfilled",n.value=r,eg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Jm(t,r)))}function bh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,eg(n),n=n.next;while(n!==l)}t.action=null}function eg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ng(t,n){return n}function ig(t,n){if(Bt){var r=$t.formState;if(r!==null){t:{var l=St;if(Bt){if(ae){e:{for(var c=ae,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Nn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=Nn(c.nextSibling),l=c.data==="F!";break t}}na(l)}l=!1}l&&(n=r[0])}}return r=Ze(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ng,lastRenderedState:n},r.queue=l,r=Ag.bind(null,St,l),l.dispatch=r,l=Sh(!1),f=Dh.bind(null,St,!1,l.queue),l=Ze(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=IE.bind(null,St,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function rg(t){var n=me();return ag(n,Qt,t)}function ag(t,n,r){if(n=Th(t,n,ng)[0],t=$o(bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=dl(n)}catch(y){throw y===ll?Fo:y}else l=n;n=me();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(St.flags|=2048,$a(9,Jo(),DE.bind(null,c,r),null)),[l,f,t]}function DE(t,n){t.action=n}function sg(t){var n=me(),r=Qt;if(r!==null)return ag(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function $a(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=vh(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Jo(){return{destroy:void 0,resource:void 0}}function lg(){return me().memoizedState}function Wo(t,n,r,l){var c=Ze();l=l===void 0?null:l,St.flags|=t,c.memoizedState=$a(1|n,Jo(),r,l)}function ml(t,n,r,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&mh(l,Qt.memoizedState.deps)?c.memoizedState=$a(n,f,r,l):(St.flags|=t,c.memoizedState=$a(1|n,f,r,l))}function og(t,n){Wo(8390656,8,t,n)}function ug(t,n){ml(2048,8,t,n)}function cg(t,n){return ml(4,2,t,n)}function hg(t,n){return ml(4,4,t,n)}function fg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function dg(t,n,r){r=r!=null?r.concat([t]):null,ml(4,4,fg.bind(null,n,t),r)}function Rh(){}function mg(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&mh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function gg(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&mh(n,l[1]))return l[0];if(l=t(),sa){rn(!0);try{t()}finally{rn(!1)}}return r.memoizedState=[l,n],l}function wh(t,n,r){return r===void 0||(Ki&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=_p(),St.lanes|=t,er|=t,r)}function pg(t,n,r,l){return sn(r,n)?r:Ka.current!==null?(t=wh(t,r,l),sn(t,n)||(Ce=!0),t):(Ki&42)===0?(Ce=!0,t.memoizedState=r):(t=_p(),St.lanes|=t,er|=t,n)}function yg(t,n,r,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,Dh(t,!1,n,r);try{var b=c(),P=H.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=RE(b,l);gl(t,n,G,hn(t))}else gl(t,n,l,hn(t))}catch(Q){gl(t,n,{then:function(){},status:"rejected",reason:Q},hn())}finally{tt.p=f,H.T=y}}function VE(){}function Ch(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=_g(t).queue;yg(t,c,n,lt,r===null?VE:function(){return vg(t),r(l)})}function _g(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:lt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function vg(t){var n=_g(t).next.queue;gl(t,n,{},hn())}function Ih(){return qe(Nl)}function Eg(){return me().memoizedState}function Tg(){return me().memoizedState}function OE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();t=Qi(r);var l=Yi(n,t,r);l!==null&&(fn(l,n,r),ul(l,n,r)),n={cache:rh()},t.payload=n;return}n=n.return}}function ME(t,n,r){var l=hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},tu(t)?Sg(n,r):(r=Kc(t,n,r,l),r!==null&&(fn(r,t,l),bg(r,n,l)))}function Ag(t,n,r){var l=hn();gl(t,n,r,l)}function gl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(tu(t))Sg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,sn(E,y))return zo(t,n,c,0),$t===null&&Lo(),!1}catch{}finally{}if(r=Kc(t,n,c,l),r!==null)return fn(r,t,l),bg(r,n,l),!0}return!1}function Dh(t,n,r,l){if(l={lane:2,revertLane:of(),action:l,hasEagerState:!1,eagerState:null,next:null},tu(t)){if(n)throw Error(s(479))}else n=Kc(t,r,l,2),n!==null&&fn(n,t,2)}function tu(t){var n=t.alternate;return t===St||n!==null&&n===St}function Sg(t,n){Xa=Ko=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function bg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,zs(t,r)}}var eu={readContext:qe,use:Zo,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},Rg={readContext:qe,use:Zo,useCallback:function(t,n){return Ze().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:og,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Wo(4194308,4,fg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Wo(4194308,4,t,n)},useInsertionEffect:function(t,n){Wo(4,2,t,n)},useMemo:function(t,n){var r=Ze();n=n===void 0?null:n;var l=t();if(sa){rn(!0);try{t()}finally{rn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Ze();if(r!==void 0){var c=r(n);if(sa){rn(!0);try{r(n)}finally{rn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=ME.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=Ze();return t={current:t},n.memoizedState=t},useState:function(t){t=Sh(t);var n=t.queue,r=Ag.bind(null,St,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Rh,useDeferredValue:function(t,n){var r=Ze();return wh(r,t,n)},useTransition:function(){var t=Sh(!1);return t=yg.bind(null,St,t.queue,!0,!1),Ze().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=St,c=Ze();if(Bt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),$t===null)throw Error(s(349));(Mt&124)!==0||Qm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,og(Km.bind(null,l,f,t),[t]),l.flags|=2048,$a(9,Jo(),Ym.bind(null,l,f,r,n),null),r},useId:function(){var t=Ze(),n=$t.identifierPrefix;if(Bt){var r=Ti,l=Ei;r=(l&~(1<<32-ke(l)-1)).toString(32)+r,n=""+n+"R"+r,r=Xo++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=wE++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Ih,useFormState:ig,useActionState:ig,useOptimistic:function(t){var n=Ze();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Dh.bind(null,St,!0,r),r.dispatch=n,[t,n]},useMemoCache:Eh,useCacheRefresh:function(){return Ze().memoizedState=OE.bind(null,St)}},wg={readContext:qe,use:Zo,useCallback:mg,useContext:qe,useEffect:ug,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:hg,useMemo:gg,useReducer:$o,useRef:lg,useState:function(){return $o(bi)},useDebugValue:Rh,useDeferredValue:function(t,n){var r=me();return pg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=$o(bi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:dl(t),n]},useSyncExternalStore:Fm,useId:Eg,useHostTransitionStatus:Ih,useFormState:rg,useActionState:rg,useOptimistic:function(t,n){var r=me();return $m(r,Qt,t,n)},useMemoCache:Eh,useCacheRefresh:Tg},NE={readContext:qe,use:Zo,useCallback:mg,useContext:qe,useEffect:ug,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:hg,useMemo:gg,useReducer:Ah,useRef:lg,useState:function(){return Ah(bi)},useDebugValue:Rh,useDeferredValue:function(t,n){var r=me();return Qt===null?wh(r,t,n):pg(r,Qt.memoizedState,t,n)},useTransition:function(){var t=Ah(bi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:dl(t),n]},useSyncExternalStore:Fm,useId:Eg,useHostTransitionStatus:Ih,useFormState:sg,useActionState:sg,useOptimistic:function(t,n){var r=me();return Qt!==null?$m(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Eh,useCacheRefresh:Tg},Ja=null,pl=0;function nu(t){var n=pl;return pl+=1,Ja===null&&(Ja=[]),zm(Ja,t,n)}function yl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function iu(t,n){throw n.$$typeof===I?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Cg(t){var n=t._init;return n(t._payload)}function Ig(t){function n(x,V){if(t){var z=x.deletions;z===null?(x.deletions=[V],x.flags|=16):z.push(V)}}function r(x,V){if(!t)return null;for(;V!==null;)n(x,V),V=V.sibling;return null}function l(x){for(var V=new Map;x!==null;)x.key!==null?V.set(x.key,x):V.set(x.index,x),x=x.sibling;return V}function c(x,V){return x=vi(x,V),x.index=0,x.sibling=null,x}function f(x,V,z){return x.index=z,t?(z=x.alternate,z!==null?(z=z.index,z<V?(x.flags|=67108866,V):z):(x.flags|=67108866,V)):(x.flags|=1048576,V)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,V,z,F){return V===null||V.tag!==6?(V=Zc(z,x.mode,F),V.return=x,V):(V=c(V,z),V.return=x,V)}function b(x,V,z,F){var at=z.type;return at===Z?G(x,V,z.props.children,F,z.key):V!==null&&(V.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Cg(at)===V.type)?(V=c(V,z.props),yl(V,z),V.return=x,V):(V=Bo(z.type,z.key,z.props,null,x.mode,F),yl(V,z),V.return=x,V)}function P(x,V,z,F){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=$c(z,x.mode,F),V.return=x,V):(V=c(V,z.children||[]),V.return=x,V)}function G(x,V,z,F,at){return V===null||V.tag!==7?(V=Jr(z,x.mode,F,at),V.return=x,V):(V=c(V,z),V.return=x,V)}function Q(x,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Zc(""+V,x.mode,z),V.return=x,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case D:return z=Bo(V.type,V.key,V.props,null,x.mode,z),yl(z,V),z.return=x,z;case q:return V=$c(V,x.mode,z),V.return=x,V;case S:var F=V._init;return V=F(V._payload),Q(x,V,z)}if(ie(V)||U(V))return V=Jr(V,x.mode,z,null),V.return=x,V;if(typeof V.then=="function")return Q(x,nu(V),z);if(V.$$typeof===ft)return Q(x,Ho(x,V),z);iu(x,V)}return null}function B(x,V,z,F){var at=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:E(x,V,""+z,F);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return z.key===at?b(x,V,z,F):null;case q:return z.key===at?P(x,V,z,F):null;case S:return at=z._init,z=at(z._payload),B(x,V,z,F)}if(ie(z)||U(z))return at!==null?null:G(x,V,z,F,null);if(typeof z.then=="function")return B(x,V,nu(z),F);if(z.$$typeof===ft)return B(x,V,Ho(x,z),F);iu(x,z)}return null}function k(x,V,z,F,at){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(z)||null,E(V,x,""+F,at);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case D:return x=x.get(F.key===null?z:F.key)||null,b(V,x,F,at);case q:return x=x.get(F.key===null?z:F.key)||null,P(V,x,F,at);case S:var wt=F._init;return F=wt(F._payload),k(x,V,z,F,at)}if(ie(F)||U(F))return x=x.get(z)||null,G(V,x,F,at,null);if(typeof F.then=="function")return k(x,V,z,nu(F),at);if(F.$$typeof===ft)return k(x,V,z,Ho(V,F),at);iu(V,F)}return null}function mt(x,V,z,F){for(var at=null,wt=null,st=V,ht=V=0,De=null;st!==null&&ht<z.length;ht++){st.index>ht?(De=st,st=null):De=st.sibling;var Lt=B(x,st,z[ht],F);if(Lt===null){st===null&&(st=De);break}t&&st&&Lt.alternate===null&&n(x,st),V=f(Lt,V,ht),wt===null?at=Lt:wt.sibling=Lt,wt=Lt,st=De}if(ht===z.length)return r(x,st),Bt&&ta(x,ht),at;if(st===null){for(;ht<z.length;ht++)st=Q(x,z[ht],F),st!==null&&(V=f(st,V,ht),wt===null?at=st:wt.sibling=st,wt=st);return Bt&&ta(x,ht),at}for(st=l(st);ht<z.length;ht++)De=k(st,x,ht,z[ht],F),De!==null&&(t&&De.alternate!==null&&st.delete(De.key===null?ht:De.key),V=f(De,V,ht),wt===null?at=De:wt.sibling=De,wt=De);return t&&st.forEach(function(cr){return n(x,cr)}),Bt&&ta(x,ht),at}function ct(x,V,z,F){if(z==null)throw Error(s(151));for(var at=null,wt=null,st=V,ht=V=0,De=null,Lt=z.next();st!==null&&!Lt.done;ht++,Lt=z.next()){st.index>ht?(De=st,st=null):De=st.sibling;var cr=B(x,st,Lt.value,F);if(cr===null){st===null&&(st=De);break}t&&st&&cr.alternate===null&&n(x,st),V=f(cr,V,ht),wt===null?at=cr:wt.sibling=cr,wt=cr,st=De}if(Lt.done)return r(x,st),Bt&&ta(x,ht),at;if(st===null){for(;!Lt.done;ht++,Lt=z.next())Lt=Q(x,Lt.value,F),Lt!==null&&(V=f(Lt,V,ht),wt===null?at=Lt:wt.sibling=Lt,wt=Lt);return Bt&&ta(x,ht),at}for(st=l(st);!Lt.done;ht++,Lt=z.next())Lt=k(st,x,ht,Lt.value,F),Lt!==null&&(t&&Lt.alternate!==null&&st.delete(Lt.key===null?ht:Lt.key),V=f(Lt,V,ht),wt===null?at=Lt:wt.sibling=Lt,wt=Lt);return t&&st.forEach(function(xT){return n(x,xT)}),Bt&&ta(x,ht),at}function Kt(x,V,z,F){if(typeof z=="object"&&z!==null&&z.type===Z&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case D:t:{for(var at=z.key;V!==null;){if(V.key===at){if(at=z.type,at===Z){if(V.tag===7){r(x,V.sibling),F=c(V,z.props.children),F.return=x,x=F;break t}}else if(V.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Cg(at)===V.type){r(x,V.sibling),F=c(V,z.props),yl(F,z),F.return=x,x=F;break t}r(x,V);break}else n(x,V);V=V.sibling}z.type===Z?(F=Jr(z.props.children,x.mode,F,z.key),F.return=x,x=F):(F=Bo(z.type,z.key,z.props,null,x.mode,F),yl(F,z),F.return=x,x=F)}return y(x);case q:t:{for(at=z.key;V!==null;){if(V.key===at)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){r(x,V.sibling),F=c(V,z.children||[]),F.return=x,x=F;break t}else{r(x,V);break}else n(x,V);V=V.sibling}F=$c(z,x.mode,F),F.return=x,x=F}return y(x);case S:return at=z._init,z=at(z._payload),Kt(x,V,z,F)}if(ie(z))return mt(x,V,z,F);if(U(z)){if(at=U(z),typeof at!="function")throw Error(s(150));return z=at.call(z),ct(x,V,z,F)}if(typeof z.then=="function")return Kt(x,V,nu(z),F);if(z.$$typeof===ft)return Kt(x,V,Ho(x,z),F);iu(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(r(x,V.sibling),F=c(V,z),F.return=x,x=F):(r(x,V),F=Zc(z,x.mode,F),F.return=x,x=F),y(x)):r(x,V)}return function(x,V,z,F){try{pl=0;var at=Kt(x,V,z,F);return Ja=null,at}catch(st){if(st===ll||st===Fo)throw st;var wt=ln(29,st,null,x.mode);return wt.lanes=F,wt.return=x,wt}finally{}}}var Wa=Ig(!0),Dg=Ig(!1),Rn=X(null),Xn=null;function Xi(t){var n=t.alternate;J(Te,Te.current&1),J(Rn,t),Xn===null&&(n===null||Ka.current!==null||n.memoizedState!==null)&&(Xn=t)}function Vg(t){if(t.tag===22){if(J(Te,Te.current),J(Rn,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else Zi()}function Zi(){J(Te,Te.current),J(Rn,Rn.current)}function Ri(t){nt(Rn),Xn===t&&(Xn=null),nt(Te)}var Te=X(0);function ru(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Ef(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Vh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Oh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=hn(),c=Qi(l);c.payload=n,r!=null&&(c.callback=r),n=Yi(t,c,l),n!==null&&(fn(n,t,l),ul(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=hn(),c=Qi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Yi(t,c,l),n!==null&&(fn(n,t,l),ul(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=hn(),l=Qi(r);l.tag=2,n!=null&&(l.callback=n),n=Yi(t,l,r),n!==null&&(fn(n,t,r),ul(n,t,r))}};function Og(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ws(r,l)||!Ws(c,f):!0}function Mg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Oh.enqueueReplaceState(n,n.state,null)}function la(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var au=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ng(t){au(t)}function xg(t){console.error(t)}function Ug(t){au(t)}function su(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Lg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Mh(t,n,r){return r=Qi(r),r.tag=3,r.payload={element:null},r.callback=function(){su(t,n)},r}function zg(t){return t=Qi(t),t.tag=3,t}function Pg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Lg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Lg(n,r,l),typeof c!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function xE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&rl(n,r,c,!0),r=Rn.current,r!==null){switch(r.tag){case 13:return Xn===null?nf():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===lh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),af(t,l,c)),!1;case 22:return r.flags|=65536,l===lh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),af(t,l,c)),!1}throw Error(s(435,r.tag))}return af(t,l,c),nf(),!1}if(Bt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==th&&(t=Error(s(422),{cause:l}),il(Tn(t,r)))):(l!==th&&(n=Error(s(423),{cause:l}),il(Tn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Tn(l,r),c=Mh(t.stateNode,l,c),ch(t,c),se!==4&&(se=2)),!1;var f=Error(s(520),{cause:l});if(f=Tn(f,r),bl===null?bl=[f]:bl.push(f),se!==4&&(se=2),n===null)return!0;l=Tn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Mh(r.stateNode,l,t),ch(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(nr===null||!nr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=zg(c),Pg(c,t,r,l),ch(r,c),!1}r=r.return}while(r!==null);return!1}var Bg=Error(s(461)),Ce=!1;function xe(t,n,r,l){n.child=t===null?Dg(n,null,r,l):Wa(n,t.child,r,l)}function kg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ra(n),l=gh(t,n,r,y,f,c),E=ph(),t!==null&&!Ce?(yh(t,n,c),wi(t,n,c)):(Bt&&E&&Jc(n),n.flags|=1,xe(t,n,l,c),n.child)}function qg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Xc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,jg(t,n,f,l,c)):(t=Bo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!kh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ws,r(y,l)&&t.ref===n.ref)return wi(t,n,c)}return n.flags|=1,t=vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function jg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Ws(f,l)&&t.ref===n.ref)if(Ce=!1,n.pendingProps=l=f,kh(t,c))(t.flags&131072)!==0&&(Ce=!0);else return n.lanes=t.lanes,wi(t,n,c)}return Nh(t,n,r,l,c)}function Hg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Gg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Go(n,f!==null?f.cachePool:null),f!==null?jm(n,f):fh(),Vg(n);else return n.lanes=n.childLanes=536870912,Gg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Go(n,f.cachePool),jm(n,f),Zi(),n.memoizedState=null):(t!==null&&Go(n,null),fh(),Zi());return xe(t,n,c,r),n.child}function Gg(t,n,r,l){var c=sh();return c=c===null?null:{parent:Ee._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Go(n,null),fh(),Vg(n),t!==null&&rl(t,n,l,!0),null}function lu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Nh(t,n,r,l,c){return ra(n),r=gh(t,n,r,l,void 0,c),l=ph(),t!==null&&!Ce?(yh(t,n,c),wi(t,n,c)):(Bt&&l&&Jc(n),n.flags|=1,xe(t,n,r,c),n.child)}function Fg(t,n,r,l,c,f){return ra(n),n.updateQueue=null,r=Gm(n,l,r,c),Hm(t),l=ph(),t!==null&&!Ce?(yh(t,n,f),wi(t,n,f)):(Bt&&l&&Jc(n),n.flags|=1,xe(t,n,r,f),n.child)}function Qg(t,n,r,l,c){if(ra(n),n.stateNode===null){var f=Ha,y=r.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Oh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},oh(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?qe(y):Ha,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Vh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Oh.enqueueReplaceState(f,f.state,null),hl(n,l,f,c),cl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=la(r,E);f.props=b;var P=f.context,G=r.contextType;y=Ha,typeof G=="object"&&G!==null&&(y=qe(G));var Q=r.getDerivedStateFromProps;G=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&Mg(n,f,l,y),Fi=!1;var B=n.memoizedState;f.state=B,hl(n,l,f,c),cl(),P=n.memoizedState,E||B!==P||Fi?(typeof Q=="function"&&(Vh(n,r,Q,l),P=n.memoizedState),(b=Fi||Og(n,r,b,l,B,P,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,uh(t,n),y=n.memoizedProps,G=la(r,y),f.props=G,Q=n.pendingProps,B=f.context,P=r.contextType,b=Ha,typeof P=="object"&&P!==null&&(b=qe(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Q||B!==b)&&Mg(n,f,l,b),Fi=!1,B=n.memoizedState,f.state=B,hl(n,l,f,c),cl();var k=n.memoizedState;y!==Q||B!==k||Fi||t!==null&&t.dependencies!==null&&jo(t.dependencies)?(typeof E=="function"&&(Vh(n,r,E,l),k=n.memoizedState),(G=Fi||Og(n,r,G,l,B,k,b)||t!==null&&t.dependencies!==null&&jo(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,lu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Wa(n,t.child,null,c),n.child=Wa(n,null,r,c)):xe(t,n,r,c),n.memoizedState=f.state,t=n.child):t=wi(t,n,c),t}function Yg(t,n,r,l){return nl(),n.flags|=256,xe(t,n,r,l),n.child}var xh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uh(t){return{baseLanes:t,cachePool:xm()}}function Lh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=wn),t}function Kg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Xi(n):Zi(),Bt){var E=ae,b;if(b=E){t:{for(b=E,E=Kn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Nn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Wr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},b=ln(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Xe=n,ae=null,b=!0):b=!1}b||na(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Ef(E)?n.lanes=32:n.lanes=536870912,null;Ri(n)}return E=l.children,l=l.fallback,c?(Zi(),c=n.mode,E=ou({mode:"hidden",children:E},c),l=Jr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Uh(r),c.childLanes=Lh(t,y,r),n.memoizedState=xh,l):(Xi(n),zh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Xi(n),n.flags&=-257,n=Ph(t,n,r)):n.memoizedState!==null?(Zi(),n.child=t.child,n.flags|=128,n=null):(Zi(),c=l.fallback,E=n.mode,l=ou({mode:"visible",children:l.children},E),c=Jr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Wa(n,t.child,null,r),l=n.child,l.memoizedState=Uh(r),l.childLanes=Lh(t,y,r),n.memoizedState=xh,n=c);else if(Xi(n),Ef(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(s(419)),l.stack="",l.digest=y,il({value:l,source:null,stack:null}),n=Ph(t,n,r)}else if(Ce||rl(t,n,r,!1),y=(r&t.childLanes)!==0,Ce||y){if(y=$t,y!==null&&(l=r&-r,l=(l&42)!==0?1:zi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,ja(t,l),fn(y,t,l),Bg;E.data==="$?"||nf(),n=Ph(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ae=Nn(E.nextSibling),Xe=n,Bt=!0,ea=null,Kn=!1,t!==null&&(Sn[bn++]=Ei,Sn[bn++]=Ti,Sn[bn++]=Wr,Ei=t.id,Ti=t.overflow,Wr=n),n=zh(n,l.children),n.flags|=4096);return n}return c?(Zi(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=vi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=vi(P,c):(c=Jr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Uh(r):(b=E.cachePool,b!==null?(P=Ee._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=xm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=Lh(t,y,r),n.memoizedState=xh,l):(Xi(n),r=t.child,t=r.sibling,r=vi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function zh(t,n){return n=ou({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ou(t,n){return t=ln(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ph(t,n,r){return Wa(n,t.child,null,r),t=zh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Xg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),nh(t.return,n,r)}function Bh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Zg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,r),l=Te.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xg(t,r,n);else if(t.tag===19)Xg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(J(Te,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&ru(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Bh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&ru(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Bh(n,!0,r,null,f);break;case"together":Bh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),er|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(rl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=vi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=vi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function kh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&jo(t)))}function UE(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Gi(n,Ee,t.memoizedState.cache),nl();break;case 27:case 5:Li(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Gi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Xi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Kg(t,n,r):(Xi(n),t=wi(t,n,r),t!==null?t.sibling:null);Xi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(rl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Zg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(Te,Te.current),l)break;return null;case 22:case 23:return n.lanes=0,Hg(t,n,r);case 24:Gi(n,Ee,t.memoizedState.cache)}return wi(t,n,r)}function $g(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ce=!0;else{if(!kh(t,r)&&(n.flags&128)===0)return Ce=!1,UE(t,n,r);Ce=(t.flags&131072)!==0}else Ce=!1,Bt&&(n.flags&1048576)!==0&&Cm(n,qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Xc(l)?(t=la(l,t),n.tag=1,n=Qg(null,n,l,t,r)):(n.tag=0,n=Nh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Ut){n.tag=11,n=kg(null,n,l,t,r);break t}else if(c===M){n.tag=14,n=qg(null,n,l,t,r);break t}}throw n=Oe(l)||l,Error(s(306,n,""))}}return n;case 0:return Nh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=la(l,n.pendingProps),Qg(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,uh(t,n),hl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Gi(n,Ee,l),l!==f.cache&&ih(n,[Ee],r,!0),cl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Yg(t,n,l,r);break t}else if(l!==c){c=Tn(Error(s(424)),n),il(c),n=Yg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=Nn(t.firstChild),Xe=n,Bt=!0,ea=null,Kn=!0,r=Dg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(nl(),l===c){n=wi(t,n,r);break t}xe(t,n,l,r)}n=n.child}return n;case 26:return lu(t,n),t===null?(r=ey(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=Au(pt.current).createElement(r),l[ye]=n,l[he]=t,Le(l,r,t),le(l),n.stateNode=l):n.memoizedState=ey(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Li(n),t===null&&Bt&&(l=n.stateNode=Jp(n.type,n.pendingProps,pt.current),Xe=n,Kn=!0,c=ae,ar(n.type)?(Tf=c,ae=Nn(l.firstChild)):ae=c),xe(t,n,n.pendingProps.children,r),lu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=ae)&&(l=uT(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Xe=n,ae=Nn(l.firstChild),Kn=!1,c=!0):c=!1),c||na(n)),Li(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,yf(c,f)?l=null:y!==null&&yf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=gh(t,n,CE,null,null,r),Nl._currentValue=c),lu(t,n),xe(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=ae)&&(r=cT(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,Xe=n,ae=null,t=!0):t=!1),t||na(n)),null;case 13:return Kg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Wa(n,null,l,r):xe(t,n,l,r),n.child;case 11:return kg(t,n,n.type,n.pendingProps,r);case 7:return xe(t,n,n.pendingProps,r),n.child;case 8:return xe(t,n,n.pendingProps.children,r),n.child;case 12:return xe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Gi(n,n.type,l.value),xe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ra(n),c=qe(c),l=l(c),n.flags|=1,xe(t,n,l,r),n.child;case 14:return qg(t,n,n.type,n.pendingProps,r);case 15:return jg(t,n,n.type,n.pendingProps,r);case 19:return Zg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=ou(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=vi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Hg(t,n,r);case 24:return ra(n),l=qe(Ee),t===null?(c=sh(),c===null&&(c=$t,f=rh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},oh(n),Gi(n,Ee,c)):((t.lanes&r)!==0&&(uh(t,n),hl(n,null,null,r),cl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Gi(n,Ee,l)):(l=f.cache,Gi(n,Ee,l),l!==c.cache&&ih(n,[Ee],r,!0))),xe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ci(t){t.flags|=4}function Jg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!sy(n)){if(n=Rn.current,n!==null&&((Mt&4194048)===Mt?Xn!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||n!==Xn))throw ol=lh,Um;t.flags|=8192}}function uu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Us():536870912,t.lanes|=n,is|=n)}function _l(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function LE(t,n,r){var l=n.pendingProps;switch(Wc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Ee),Ln(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(el(n)?Ci(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Vm())),ee(n),null;case 26:return r=n.memoizedState,t===null?(Ci(n),r!==null?(ee(n),Jg(n,r)):(ee(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ci(n),ee(n),Jg(n,r)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ci(n),ee(n),n.flags&=-16777217),null;case 27:si(n),r=pt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}t=ut.current,el(n)?Im(n):(t=Jp(c,l,r),n.stateNode=t,Ci(n))}return ee(n),null;case 5:if(si(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(t=ut.current,el(n))Im(n);else{switch(c=Au(pt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[ye]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ci(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=pt.current,el(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Xe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ye]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Fp(t.nodeValue,r)),t||na(n)}else t=Au(t).createTextNode(l),t[ye]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=el(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ye]=n}else nl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=Vm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ri(n),n):(Ri(n),null)}if(Ri(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),uu(n,n.updateQueue),ee(n),null;case 4:return Ln(),t===null&&ff(n.stateNode.containerInfo),ee(n),null;case 10:return Si(n.type),ee(n),null;case 19:if(nt(Te),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)_l(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ru(t),f!==null){for(n.flags|=128,_l(c,!1),t=f.updateQueue,n.updateQueue=t,uu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)wm(r,t),r=r.sibling;return J(Te,Te.current&1|2),n.child}t=t.sibling}c.tail!==null&&gn()>fu&&(n.flags|=128,l=!0,_l(c,!1),n.lanes=4194304)}else{if(!l)if(t=ru(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,uu(n,t),_l(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return ee(n),null}else 2*gn()-c.renderingStartTime>fu&&r!==536870912&&(n.flags|=128,l=!0,_l(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=gn(),n.sibling=null,t=Te.current,J(Te,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return Ri(n),dh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&uu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&nt(aa),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(Ee),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function zE(t,n){switch(Wc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Ee),Ln(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return si(n),null;case 13:if(Ri(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));nl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Te),null;case 4:return Ln(),null;case 10:return Si(n.type),null;case 22:case 23:return Ri(n),dh(),t!==null&&nt(aa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Ee),null;case 25:return null;default:return null}}function Wg(t,n){switch(Wc(n),n.tag){case 3:Si(Ee),Ln();break;case 26:case 27:case 5:si(n);break;case 4:Ln();break;case 13:Ri(n);break;case 19:nt(Te);break;case 10:Si(n.type);break;case 22:case 23:Ri(n),dh(),t!==null&&nt(aa);break;case 24:Si(Ee)}}function vl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Xt(n,n.return,E)}}function $i(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,P=E;try{P()}catch(G){Xt(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){Xt(n,n.return,G)}}function tp(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{qm(n,r)}catch(l){Xt(t,t.return,l)}}}function ep(t,n,r){r.props=la(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function El(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Xt(t,n,c)}}function Zn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(t,n,c)}else r.current=null}function np(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xt(t,t.return,c)}}function qh(t,n,r){try{var l=t.stateNode;rT(l,t.type,r,n),l[he]=n}catch(c){Xt(t,t.return,c)}}function ip(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ar(t.type)||t.tag===4}function jh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||ip(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Tu));else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Hh(t,n,r),t=t.sibling;t!==null;)Hh(t,n,r),t=t.sibling}function cu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(cu(t,n,r),t=t.sibling;t!==null;)cu(t,n,r),t=t.sibling}function rp(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Le(n,l,r),n[ye]=t,n[he]=r}catch(f){Xt(t,t.return,f)}}var Ii=!1,ue=!1,Gh=!1,ap=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function PE(t,n){if(t=t.containerInfo,gf=Iu,t=pm(t),jc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,P=0,G=0,Q=t,B=null;e:for(;;){for(var k;Q!==r||c!==0&&Q.nodeType!==3||(E=y+c),Q!==f||l!==0&&Q.nodeType!==3||(b=y+l),Q.nodeType===3&&(y+=Q.nodeValue.length),(k=Q.firstChild)!==null;)B=Q,Q=k;for(;;){if(Q===t)break e;if(B===r&&++P===c&&(E=y),B===f&&++G===l&&(b=y),(k=Q.nextSibling)!==null)break;Q=B,B=Q.parentNode}Q=k}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(pf={focusedElem:t,selectionRange:r},Iu=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var mt=la(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(mt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ct){Xt(r,r.return,ct)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)vf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function sp(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ji(t,r),l&4&&vl(5,r);break;case 1:if(Ji(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(r,r.return,y)}else{var c=la(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(r,r.return,y)}}l&64&&tp(r),l&512&&El(r,r.return);break;case 3:if(Ji(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{qm(t,n)}catch(y){Xt(r,r.return,y)}}break;case 27:n===null&&l&4&&rp(r);case 26:case 5:Ji(t,r),n===null&&l&4&&np(r),l&512&&El(r,r.return);break;case 12:Ji(t,r);break;case 13:Ji(t,r),l&4&&up(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=YE.bind(null,r),hT(t,r))));break;case 22:if(l=r.memoizedState!==null||Ii,!l){n=n!==null&&n.memoizedState!==null||ue,c=Ii;var f=ue;Ii=l,(ue=n)&&!f?Wi(t,r,(r.subtreeFlags&8772)!==0):Ji(t,r),Ii=c,ue=f}break;case 30:break;default:Ji(t,r)}}function lp(t){var n=t.alternate;n!==null&&(t.alternate=null,lp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ki(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,$e=!1;function Di(t,n,r){for(r=r.child;r!==null;)op(t,n,r),r=r.sibling}function op(t,n,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(re,r)}catch{}switch(r.tag){case 26:ue||Zn(r,n),Di(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ue||Zn(r,n);var l=te,c=$e;ar(r.type)&&(te=r.stateNode,$e=!1),Di(t,n,r),Dl(r.stateNode),te=l,$e=c;break;case 5:ue||Zn(r,n);case 6:if(l=te,c=$e,te=null,Di(t,n,r),te=l,$e=c,te!==null)if($e)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:te!==null&&($e?(t=te,Zp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),zl(t)):Zp(te,r.stateNode));break;case 4:l=te,c=$e,te=r.stateNode.containerInfo,$e=!0,Di(t,n,r),te=l,$e=c;break;case 0:case 11:case 14:case 15:ue||$i(2,r,n),ue||$i(4,r,n),Di(t,n,r);break;case 1:ue||(Zn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&ep(r,n,l)),Di(t,n,r);break;case 21:Di(t,n,r);break;case 22:ue=(l=ue)||r.memoizedState!==null,Di(t,n,r),ue=l;break;default:Di(t,n,r)}}function up(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zl(t)}catch(r){Xt(n,n.return,r)}}function BE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ap),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ap),n;default:throw Error(s(435,t.tag))}}function Fh(t,n){var r=BE(t);n.forEach(function(l){var c=KE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function on(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ar(E.type)){te=E.stateNode,$e=!1;break t}break;case 5:te=E.stateNode,$e=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,$e=!0;break t}E=E.return}if(te===null)throw Error(s(160));op(f,y,c),te=null,$e=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)cp(n,t),n=n.sibling}var Mn=null;function cp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&($i(3,t,t.return),vl(3,t),$i(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(ue||r===null||Zn(r,r.return)),l&64&&Ii&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Mn;if(on(n,t),un(t),l&512&&(ue||r===null||Zn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Lr]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,r),f[ye]=t,le(f),l=f;break t;case"link":var y=ry("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;case"meta":if(y=ry("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[ye]=t,le(f),l=f}t.stateNode=l}else ay(c,t.type,t.stateNode);else t.stateNode=iy(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?ay(c,t.type,t.stateNode):iy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qh(t,t.memoizedProps,r.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(ue||r===null||Zn(r,r.return)),r!==null&&l&4&&qh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(ue||r===null||Zn(r,r.return)),t.flags&32){c=t.stateNode;try{yn(c,"")}catch(k){Xt(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,qh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Gh=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(k){Xt(t,t.return,k)}}break;case 3:if(Ru=null,c=Mn,Mn=Su(n.containerInfo),on(n,t),Mn=c,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{zl(n.containerInfo)}catch(k){Xt(t,t.return,k)}Gh&&(Gh=!1,hp(t));break;case 4:l=Mn,Mn=Su(t.stateNode.containerInfo),on(n,t),un(t),Mn=l;break;case 12:on(n,t),un(t);break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&($h=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Fh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,P=Ii,G=ue;if(Ii=P||c,ue=G||b,on(n,t),ue=G,Ii=P,un(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Ii||ue||oa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Q=b.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){Xt(b,b.return,k)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(k){Xt(b,b.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Fh(t,r))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Fh(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(ip(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=jh(t);cu(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(yn(y,""),r.flags&=-33);var E=jh(t);cu(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,P=jh(t);Hh(t,P,b);break;default:throw Error(s(161))}}catch(G){Xt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function hp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;hp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sp(t,n.alternate,n),n=n.sibling}function oa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:$i(4,n,n.return),oa(n);break;case 1:Zn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ep(n,n.return,r),oa(n);break;case 27:Dl(n.stateNode);case 26:case 5:Zn(n,n.return),oa(n);break;case 22:n.memoizedState===null&&oa(n);break;case 30:oa(n);break;default:oa(n)}t=t.sibling}}function Wi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(c,f,r),vl(4,f);break;case 1:if(Wi(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Xt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)km(b[c],E)}catch(P){Xt(l,l.return,P)}}r&&y&64&&tp(f),El(f,f.return);break;case 27:rp(f);case 26:case 5:Wi(c,f,r),r&&l===null&&y&4&&np(f),El(f,f.return);break;case 12:Wi(c,f,r);break;case 13:Wi(c,f,r),r&&y&4&&up(c,f);break;case 22:f.memoizedState===null&&Wi(c,f,r),El(f,f.return);break;case 30:break;default:Wi(c,f,r)}n=n.sibling}}function Qh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&al(r))}function Yh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t))}function $n(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fp(t,n,r,l),n=n.sibling}function fp(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,r,l),c&2048&&vl(9,n);break;case 1:$n(t,n,r,l);break;case 3:$n(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t)));break;case 12:if(c&2048){$n(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else $n(t,n,r,l);break;case 13:$n(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?$n(t,n,r,l):Tl(t,n):f._visibility&2?$n(t,n,r,l):(f._visibility|=2,ts(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Qh(y,n);break;case 24:$n(t,n,r,l),c&2048&&Yh(n.alternate,n);break;default:$n(t,n,r,l)}}function ts(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:ts(f,y,E,b,c),vl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?ts(f,y,E,b,c):Tl(f,y):(G._visibility|=2,ts(f,y,E,b,c)),c&&P&2048&&Qh(y.alternate,y);break;case 24:ts(f,y,E,b,c),c&&P&2048&&Yh(y.alternate,y);break;default:ts(f,y,E,b,c)}n=n.sibling}}function Tl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Tl(r,l),c&2048&&Qh(l.alternate,l);break;case 24:Tl(r,l),c&2048&&Yh(l.alternate,l);break;default:Tl(r,l)}n=n.sibling}}var Al=8192;function es(t){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)dp(t),t=t.sibling}function dp(t){switch(t.tag){case 26:es(t),t.flags&Al&&t.memoizedState!==null&&bT(Mn,t.memoizedState,t.memoizedProps);break;case 5:es(t);break;case 3:case 4:var n=Mn;Mn=Su(t.stateNode.containerInfo),es(t),Mn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Al,Al=16777216,es(t),Al=n):es(t));break;default:es(t)}}function mp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Sl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,pp(l,t)}mp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gp(t),t=t.sibling}function gp(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&$i(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,hu(t)):Sl(t);break;default:Sl(t)}}function hu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,pp(l,t)}mp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:$i(8,n,n.return),hu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,hu(n));break;default:hu(n)}t=t.sibling}}function pp(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:$i(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(lp(l),l===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var kE={getCacheForType:function(t){var n=qe(Ee),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},qE=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,Ct=null,Mt=0,Gt=0,cn=null,tr=!1,ns=!1,Kh=!1,Vi=0,se=0,er=0,ua=0,Xh=0,wn=0,is=0,bl=null,Je=null,Zh=!1,$h=0,fu=1/0,du=null,nr=null,Ue=0,ir=null,rs=null,as=0,Jh=0,Wh=null,yp=null,Rl=0,tf=null;function hn(){if((Ht&2)!==0&&Mt!==0)return Mt&-Mt;if(H.T!==null){var t=Qa;return t!==0?t:of()}return Pi()}function _p(){wn===0&&(wn=(Mt&536870912)===0||Bt?xs():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),wn}function fn(t,n,r){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(ss(t,0),rr(t,Mt,wn,!1)),oi(t,r),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(ua|=r),se===4&&rr(t,Mt,wn,!1)),Jn(t))}function vp(t,n,r){if((Ht&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Ur(t,n),c=l?GE(t,n):rf(t,n,!0),f=l;do{if(c===0){ns&&!l&&rr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!jE(r)){c=rf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=bl;var b=E.current.memoizedState.isDehydrated;if(b&&(ss(E,y).flags|=256),y=rf(E,y,!1),y!==2){if(Kh&&!b){E.errorRecoveryDisabledLanes|=f,ua|=f,c=4;break t}f=Je,Je=c,f!==null&&(Je===null?Je=f:Je.push.apply(Je,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){ss(t,0),rr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:rr(l,n,wn,!tr);break t;case 2:Je=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=$h+300-gn(),10<c)){if(rr(l,n,wn,!tr),Sa(l,0,!0)!==0)break t;l.timeoutHandle=Kp(Ep.bind(null,l,r,Je,du,Zh,n,wn,ua,is,tr,f,2,-0,0),c);break t}Ep(l,r,Je,du,Zh,n,wn,ua,is,tr,f,0,-0,0)}}break}while(!0);Jn(t)}function Ep(t,n,r,l,c,f,y,E,b,P,G,Q,B,k){if(t.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:ST},dp(n),Q=RT(),Q!==null)){t.cancelPendingCommit=Q(Cp.bind(null,t,n,f,r,l,c,y,E,b,G,1,B,k)),rr(t,f,y,!P);return}Cp(t,n,f,r,l,c,y,E,b)}function jE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!sn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function rr(t,n,r,l){n&=~Xh,n&=~ua,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ke(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&zn(t,r,n)}function mu(){return(Ht&6)===0?(wl(0),!1):!0}function ef(){if(Ct!==null){if(Gt===0)var t=Ct.return;else t=Ct,Ai=ia=null,_h(t),Ja=null,pl=0,t=Ct;for(;t!==null;)Wg(t.alternate,t),t=t.return;Ct=null}}function ss(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,sT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ef(),$t=t,Ct=r=vi(t.current,null),Mt=n,Gt=0,cn=null,tr=!1,ns=Ur(t,n),Kh=!1,is=wn=Xh=ua=er=se=0,Je=bl=null,Zh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ke(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,Lo(),r}function Tp(t,n){St=null,H.H=eu,n===ll||n===Fo?(n=Pm(),Gt=3):n===Um?(n=Pm(),Gt=4):Gt=n===Bg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Ct===null&&(se=1,su(t,Tn(n,t.current)))}function Ap(){var t=H.H;return H.H=eu,t===null?eu:t}function Sp(){var t=H.A;return H.A=kE,t}function nf(){se=4,tr||(Mt&4194048)!==Mt&&Rn.current!==null||(ns=!0),(er&134217727)===0&&(ua&134217727)===0||$t===null||rr($t,Mt,wn,!1)}function rf(t,n,r){var l=Ht;Ht|=2;var c=Ap(),f=Sp();($t!==t||Mt!==n)&&(du=null,ss(t,n)),n=!1;var y=se;t:do try{if(Gt!==0&&Ct!==null){var E=Ct,b=cn;switch(Gt){case 8:ef(),y=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var P=Gt;if(Gt=0,cn=null,ls(t,E,b,P),r&&ns){y=0;break t}break;default:P=Gt,Gt=0,cn=null,ls(t,E,b,P)}}HE(),y=se;break}catch(G){Tp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ai=ia=null,Ht=l,H.H=c,H.A=f,Ct===null&&($t=null,Mt=0,Lo()),y}function HE(){for(;Ct!==null;)bp(Ct)}function GE(t,n){var r=Ht;Ht|=2;var l=Ap(),c=Sp();$t!==t||Mt!==n?(du=null,fu=gn()+500,ss(t,n)):ns=Ur(t,n);t:do try{if(Gt!==0&&Ct!==null){n=Ct;var f=cn;e:switch(Gt){case 1:Gt=0,cn=null,ls(t,n,f,1);break;case 2:case 9:if(Lm(f)){Gt=0,cn=null,Rp(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Jn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Lm(f)?(Gt=0,cn=null,Rp(n)):(Gt=0,cn=null,ls(t,n,f,7));break;case 5:var y=null;switch(Ct.tag){case 26:y=Ct.memoizedState;case 5:case 27:var E=Ct;if(!y||sy(y)){Gt=0,cn=null;var b=E.sibling;if(b!==null)Ct=b;else{var P=E.return;P!==null?(Ct=P,gu(P)):Ct=null}break e}}Gt=0,cn=null,ls(t,n,f,5);break;case 6:Gt=0,cn=null,ls(t,n,f,6);break;case 8:ef(),se=6;break t;default:throw Error(s(462))}}FE();break}catch(G){Tp(t,G)}while(!0);return Ai=ia=null,H.H=l,H.A=c,Ht=r,Ct!==null?0:($t=null,Mt=0,Lo(),se)}function FE(){for(;Ct!==null&&!Vs();)bp(Ct)}function bp(t){var n=$g(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?gu(t):Ct=n}function Rp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Fg(r,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Fg(r,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:_h(n);default:Wg(r,n),n=Ct=wm(n,Vi),n=$g(r,n,Vi)}t.memoizedProps=t.pendingProps,n===null?gu(t):Ct=n}function ls(t,n,r,l){Ai=ia=null,_h(n),Ja=null,pl=0;var c=n.return;try{if(xE(t,c,n,r,Mt)){se=1,su(t,Tn(r,t.current)),Ct=null;return}}catch(f){if(c!==null)throw Ct=c,f;se=1,su(t,Tn(r,t.current)),Ct=null;return}n.flags&32768?(Bt||l===1?t=!0:ns||(Mt&536870912)!==0?t=!1:(tr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),wp(n,t)):gu(n)}function gu(t){var n=t;do{if((n.flags&32768)!==0){wp(n,tr);return}t=n.return;var r=LE(n.alternate,n,Vi);if(r!==null){Ct=r;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);se===0&&(se=5)}function wp(t,n){do{var r=zE(t.alternate,t);if(r!==null){r.flags&=32767,Ct=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=r}while(t!==null);se=6,Ct=null}function Cp(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do pu();while(Ue!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Yc,Ls(t,r,f,y,E,b),t===$t&&(Ct=$t=null,Mt=0),rs=n,ir=t,as=r,Jh=f,Wh=c,yp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,XE(Or,function(){return Mp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=tt.p,tt.p=2,y=Ht,Ht|=4;try{PE(t,n,r)}finally{Ht=y,tt.p=c,H.T=l}}Ue=1,Ip(),Dp(),Vp()}}function Ip(){if(Ue===1){Ue=0;var t=ir,n=rs,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{cp(n,t);var f=pf,y=pm(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&gm(E.ownerDocument.documentElement,E)){if(b!==null&&jc(E)){var P=b.start,G=b.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,B=Q&&Q.defaultView||window;if(B.getSelection){var k=B.getSelection(),mt=E.textContent.length,ct=Math.min(b.start,mt),Kt=b.end===void 0?ct:Math.min(b.end,mt);!k.extend&&ct>Kt&&(y=Kt,Kt=ct,ct=y);var x=mm(E,ct),V=mm(E,Kt);if(x&&V&&(k.rangeCount!==1||k.anchorNode!==x.node||k.anchorOffset!==x.offset||k.focusNode!==V.node||k.focusOffset!==V.offset)){var z=Q.createRange();z.setStart(x.node,x.offset),k.removeAllRanges(),ct>Kt?(k.addRange(z),k.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),k.addRange(z))}}}}for(Q=[],k=E;k=k.parentNode;)k.nodeType===1&&Q.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Iu=!!gf,pf=gf=null}finally{Ht=c,tt.p=l,H.T=r}}t.current=n,Ue=2}}function Dp(){if(Ue===2){Ue=0;var t=ir,n=rs,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{sp(t,n.alternate,n)}finally{Ht=c,tt.p=l,H.T=r}}Ue=3}}function Vp(){if(Ue===4||Ue===3){Ue=0,co();var t=ir,n=rs,r=as,l=yp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,rs=ir=null,Op(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(nr=null),ba(r),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=tt.p,tt.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=c}}(as&3)!==0&&pu(),Jn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===tf?Rl++:(Rl=0,tf=t):Rl=0,wl(0)}}function Op(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,al(n)))}function pu(t){return Ip(),Dp(),Vp(),Mp()}function Mp(){if(Ue!==5)return!1;var t=ir,n=Jh;Jh=0;var r=ba(as),l=H.T,c=tt.p;try{tt.p=32>r?32:r,H.T=null,r=Wh,Wh=null;var f=ir,y=as;if(Ue=0,rs=ir=null,as=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,gp(f.current),fp(f,f.current,y,r),Ht=E,wl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{tt.p=c,H.T=l,Op(t,n)}}function Np(t,n,r){n=Tn(r,n),n=Mh(t.stateNode,n,2),t=Yi(t,n,2),t!==null&&(oi(t,2),Jn(t))}function Xt(t,n,r){if(t.tag===3)Np(t,t,r);else for(;n!==null;){if(n.tag===3){Np(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(nr===null||!nr.has(l))){t=Tn(r,t),r=zg(2),l=Yi(n,r,2),l!==null&&(Pg(r,l,n,t),oi(l,2),Jn(l));break}}n=n.return}}function af(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new qE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Kh=!0,c.add(r),t=QE.bind(null,t,n,r),n.then(t,t))}function QE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(Mt&r)===r&&(se===4||se===3&&(Mt&62914560)===Mt&&300>gn()-$h?(Ht&2)===0&&ss(t,0):Xh|=r,is===Mt&&(is=0)),Jn(t)}function xp(t,n){n===0&&(n=Us()),t=ja(t,n),t!==null&&(oi(t,n),Jn(t))}function YE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),xp(t,r)}function KE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),xp(t,r)}function XE(t,n){return Dr(t,n)}var yu=null,os=null,sf=!1,_u=!1,lf=!1,ca=0;function Jn(t){t!==os&&t.next===null&&(os===null?yu=os=t:os=os.next=t),_u=!0,sf||(sf=!0,$E())}function wl(t,n){if(!lf&&_u){lf=!0;do for(var r=!1,l=yu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ke(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Pp(l,f))}else f=Mt,f=Sa(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ur(l,f)||(r=!0,Pp(l,f));l=l.next}while(r);lf=!1}}function ZE(){Up()}function Up(){_u=sf=!1;var t=0;ca!==0&&(aT()&&(t=ca),ca=0);for(var n=gn(),r=null,l=yu;l!==null;){var c=l.next,f=Lp(l,n);f===0?(l.next=null,r===null?yu=c:r.next=c,c===null&&(os=r)):(r=l,(t!==0||(f&3)!==0)&&(_u=!0)),l=c}wl(t)}function Lp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ke(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Ns(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=Mt,r=Sa(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Vr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Ur(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Vr(l),ba(r)){case 2:case 8:r=Ta;break;case 32:r=Or;break;case 268435456:r=Aa;break;default:r=Or}return l=zp.bind(null,t),r=Dr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Vr(l),t.callbackPriority=2,t.callbackNode=null,2}function zp(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(pu()&&t.callbackNode!==r)return null;var l=Mt;return l=Sa(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(vp(t,l,n),Lp(t,gn()),t.callbackNode!=null&&t.callbackNode===r?zp.bind(null,t):null)}function Pp(t,n){if(pu())return null;vp(t,n,!0)}function $E(){lT(function(){(Ht&6)!==0?Dr(Os,ZE):Up()})}function of(){return ca===0&&(ca=xs()),ca}function Bp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Va(""+t)}function kp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function JE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Bp((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?Bp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Oa("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ca!==0){var b=y?kp(c,y):new FormData(c);Ch(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?kp(c,y):new FormData(c),Ch(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var uf=0;uf<Qc.length;uf++){var cf=Qc[uf],WE=cf.toLowerCase(),tT=cf[0].toUpperCase()+cf.slice(1);On(WE,"on"+tT)}On(vm,"onAnimationEnd"),On(Em,"onAnimationIteration"),On(Tm,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(yE,"onTransitionRun"),On(_E,"onTransitionStart"),On(vE,"onTransitionCancel"),On(Am,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function qp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){au(G)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){au(G)}c.currentTarget=null,f=b}}}}function It(t,n){var r=n[Ps];r===void 0&&(r=n[Ps]=new Set);var l=t+"__bubble";r.has(l)||(jp(n,t,2,!1),r.add(l))}function hf(t,n,r){var l=0;n&&(l|=4),jp(r,t,l,n)}var vu="_reactListening"+Math.random().toString(36).slice(2);function ff(t){if(!t[vu]){t[vu]=!0,Bs.forEach(function(r){r!=="selectionchange"&&(eT.has(r)||hf(r,!1,t),hf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vu]||(n[vu]=!0,hf("selectionchange",!1,n))}}function jp(t,n,r,l){switch(fy(n)){case 2:var c=IT;break;case 8:c=DT;break;default:c=wf}r=c.bind(null,n,r,t),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function df(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ui(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}To(function(){var P=f,G=_n(r),Q=[];t:{var B=Sm.get(t);if(B!==void 0){var k=Oa,mt=t;switch(t){case"keypress":if(Hn(r)===0)break t;case"keydown":case"keyup":k=za;break;case"focusin":mt="focus",k=xa;break;case"focusout":mt="blur",k=xa;break;case"beforeblur":case"afterblur":k=xa;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Pc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Do;break;case vm:case Em:case Tm:k=Ua;break;case Am:k=Oo;break;case"scroll":case"scrollend":k=Ao;break;case"wheel":k=Pa;break;case"copy":case"cut":case"paste":k=La;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=$s;break;case"toggle":case"beforetoggle":k=No}var ct=(n&4)!==0,Kt=!ct&&(t==="scroll"||t==="scrollend"),x=ct?B!==null?B+"Capture":null:B;ct=[];for(var V=P,z;V!==null;){var F=V;if(z=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||z===null||x===null||(F=Hr(V,x),F!=null&&ct.push(Il(V,F,z))),Kt)break;V=V.return}0<ct.length&&(B=new k(B,mt,null,r,G),Q.push({event:B,listeners:ct}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&r!==di&&(mt=r.relatedTarget||r.fromElement)&&(ui(mt)||mt[pn]))break t;if((k||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,k?(mt=r.relatedTarget||r.toElement,k=P,mt=mt?ui(mt):null,mt!==null&&(Kt=h(mt),ct=mt.tag,mt!==Kt||ct!==5&&ct!==27&&ct!==6)&&(mt=null)):(k=null,mt=P),k!==mt)){if(ct=En,F="onMouseLeave",x="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ct=$s,F="onPointerLeave",x="onPointerEnter",V="pointer"),Kt=k==null?B:Bn(k),z=mt==null?B:Bn(mt),B=new ct(F,V+"leave",k,r,G),B.target=Kt,B.relatedTarget=z,F=null,ui(G)===P&&(ct=new ct(x,V+"enter",mt,r,G),ct.target=z,ct.relatedTarget=Kt,F=ct),Kt=F,k&&mt)e:{for(ct=k,x=mt,V=0,z=ct;z;z=us(z))V++;for(z=0,F=x;F;F=us(F))z++;for(;0<V-z;)ct=us(ct),V--;for(;0<z-V;)x=us(x),z--;for(;V--;){if(ct===x||x!==null&&ct===x.alternate)break e;ct=us(ct),x=us(x)}ct=null}else ct=null;k!==null&&Hp(Q,B,k,ct,!1),mt!==null&&Kt!==null&&Hp(Q,Kt,mt,ct,!0)}}t:{if(B=P?Bn(P):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var at=om;else if(ve(B))if(um)at=mE;else{at=fE;var wt=hE}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Gs(P.elementType)&&(at=om):at=dE;if(at&&(at=at(t,P))){_i(Q,at,r,G);break t}wt&&wt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&ji(B,"number",B.value)}switch(wt=P?Bn(P):window,t){case"focusin":(ve(wt)||wt.contentEditable==="true")&&(Ba=wt,Hc=P,tl=null);break;case"focusout":tl=Hc=Ba=null;break;case"mousedown":Gc=!0;break;case"contextmenu":case"mouseup":case"dragend":Gc=!1,ym(Q,r,G);break;case"selectionchange":if(pE)break;case"keydown":case"keyup":ym(Q,r,G)}var st;if(Qn)t:{switch(t){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Vt?j(t,r)&&(ht="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ht="onCompositionStart");ht&&(p&&r.locale!=="ko"&&(Vt||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Vt&&(st=Qs()):(jn=G,Hi="value"in jn?jn.value:jn.textContent,Vt=!0)),wt=Eu(P,ht),0<wt.length&&(ht=new Xs(ht,t,null,r,G),Q.push({event:ht,listeners:wt}),st?ht.data=st:(st=W(r),st!==null&&(ht.data=st)))),(st=m?_e(t,r):Ot(t,r))&&(ht=Eu(P,"onBeforeInput"),0<ht.length&&(wt=new Xs("onBeforeInput","beforeinput",null,r,G),Q.push({event:wt,listeners:ht}),wt.data=st)),JE(Q,t,P,r,G)}qp(Q,n)})}function Il(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Eu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Hr(t,r),c!=null&&l.unshift(Il(t,c,f)),c=Hr(t,n),c!=null&&l.push(Il(t,c,f))),t.tag===3)return l;t=t.return}return[]}function us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Hp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=Hr(r,f),P!=null&&y.unshift(Il(r,P,b))):c||(P=Hr(r,f),P!=null&&y.push(Il(r,P,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var nT=/\r\n?/g,iT=/\u0000|\uFFFD/g;function Gp(t){return(typeof t=="string"?t:""+t).replace(nT,`
`).replace(iT,"")}function Fp(t,n){return n=Gp(n),Gp(t)===n}function Tu(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":kn(t,"class",l);break;case"tabIndex":kn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,r,l);break;case"style":Hs(t,l,f);break;case"data":if(n!=="object"){kn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Va(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Va(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Tu);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":It("beforetoggle",t),It("toggle",t),qi(t,"popover",l);break;case"xlinkActuate":Me(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Me(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Me(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Me(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Me(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Me(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Me(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Me(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Me(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":qi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Lc.get(r)||r,qi(t,r,l))}}function mf(t,n,r,l,c,f){switch(r){case"style":Hs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Tu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ra.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[he]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):qi(t,r,l)}}}function Le(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,f,y,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":It("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Yt(t,n,l,G,r,null)}}kr(t,f,E,b,P,y,c,!1),Da(t);return;case"select":It("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?fi(t,!!l,n,!1):r!=null&&fi(t,!!l,r,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,n,y,E,r,null)}qr(t,l,c,f),Da(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,b,l,r,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<Cl.length;l++)It(Cl[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,P,l,r,null)}return;default:if(Gs(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&mf(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function rT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,G=null;for(k in r){var Q=r[k];if(r.hasOwnProperty(k)&&Q!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=Q;default:l.hasOwnProperty(k)||Yt(t,n,k,null,l,Q)}}for(var B in l){var k=l[B];if(Q=r[B],l.hasOwnProperty(B)&&(k!=null||Q!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":P=k;break;case"defaultChecked":G=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:k!==Q&&Yt(t,n,B,k,l,Q)}}an(t,y,E,b,P,G,f,c);return;case"select":k=y=E=B=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":k=b;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Yt(t,n,c,f,l,b)}n=E,r=y,l=k,B!=null?fi(t,!!r,B,!1):!!l!=!!r&&(n!=null?fi(t,!!r,n,!0):fi(t,!!r,r?[]:"",!1));return;case"textarea":k=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Ft(t,B,k);return;case"option":for(var mt in r)if(B=r[mt],r.hasOwnProperty(mt)&&B!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":t.selected=!1;break;default:Yt(t,n,mt,null,l,B)}for(b in l)if(B=l[b],k=r[b],l.hasOwnProperty(b)&&B!==k&&(B!=null||k!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,b,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in r)B=r[ct],r.hasOwnProperty(ct)&&B!=null&&!l.hasOwnProperty(ct)&&Yt(t,n,ct,null,l,B);for(P in l)if(B=l[P],k=r[P],l.hasOwnProperty(P)&&B!==k&&(B!=null||k!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Yt(t,n,P,B,l,k)}return;default:if(Gs(n)){for(var Kt in r)B=r[Kt],r.hasOwnProperty(Kt)&&B!==void 0&&!l.hasOwnProperty(Kt)&&mf(t,n,Kt,void 0,l,B);for(G in l)B=l[G],k=r[G],!l.hasOwnProperty(G)||B===k||B===void 0&&k===void 0||mf(t,n,G,B,l,k);return}}for(var x in r)B=r[x],r.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Yt(t,n,x,null,l,B);for(Q in l)B=l[Q],k=r[Q],!l.hasOwnProperty(Q)||B===k||B==null&&k==null||Yt(t,n,Q,B,l,k)}var gf=null,pf=null;function Au(t){return t.nodeType===9?t:t.ownerDocument}function Qp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function yf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _f=null;function aT(){var t=window.event;return t&&t.type==="popstate"?t===_f?!1:(_f=t,!0):(_f=null,!1)}var Kp=typeof setTimeout=="function"?setTimeout:void 0,sT=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,lT=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(t){return Xp.resolve(null).then(t).catch(oT)}:Kp;function oT(t){setTimeout(function(){throw t})}function ar(t){return t==="head"}function Zp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Dl(y.documentElement),r&2&&Dl(y.body),r&4)for(r=y.head,Dl(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Lr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),zl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);zl(n)}function vf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":vf(r),ki(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function uT(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Lr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Nn(t.nextSibling),t===null)break}return null}function cT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Nn(t.nextSibling),t===null))return null;return t}function Ef(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function hT(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Nn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Tf=null;function $p(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Jp(t,n,r){switch(n=Au(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Dl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ki(t)}var Cn=new Map,Wp=new Set;function Su(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Oi=tt.d;tt.d={f:fT,r:dT,D:mT,C:gT,L:pT,m:yT,X:vT,S:_T,M:ET};function fT(){var t=Oi.f(),n=mu();return t||n}function dT(t){var n=Pn(t);n!==null&&n.tag===5&&n.type==="form"?vg(n):Oi.r(t)}var cs=typeof document>"u"?null:document;function ty(t,n,r){var l=cs;if(l&&typeof n=="string"&&n){var c=fe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Wp.has(c)||(Wp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),le(n),l.head.appendChild(n)))}}function mT(t){Oi.D(t),ty("dns-prefetch",t,null)}function gT(t,n){Oi.C(t,n),ty("preconnect",t,n)}function pT(t,n,r){Oi.L(t,n,r);var l=cs;if(l&&t&&n){var c='link[rel="preload"][as="'+fe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+fe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+fe(r.imageSizes)+'"]')):c+='[href="'+fe(t)+'"]';var f=c;switch(n){case"style":f=hs(t);break;case"script":f=fs(t)}Cn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Cn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Vl(f))||n==="script"&&l.querySelector(Ol(f))||(n=l.createElement("link"),Le(n,"link",t),le(n),l.head.appendChild(n)))}}function yT(t,n){Oi.m(t,n);var r=cs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+fe(l)+'"][href="'+fe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=fs(t)}if(!Cn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Cn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ol(f)))return}l=r.createElement("link"),Le(l,"link",t),le(l),r.head.appendChild(l)}}}function _T(t,n,r){Oi.S(t,n,r);var l=cs;if(l&&t){var c=Qe(l).hoistableStyles,f=hs(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Vl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Cn.get(f))&&Af(t,r);var b=y=l.createElement("link");le(b),Le(b,"link",t),b._p=new Promise(function(P,G){b.onload=P,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function vT(t,n){Oi.X(t,n);var r=cs;if(r&&t){var l=Qe(r).hoistableScripts,c=fs(t),f=l.get(c);f||(f=r.querySelector(Ol(c)),f||(t=A({src:t,async:!0},n),(n=Cn.get(c))&&Sf(t,n),f=r.createElement("script"),le(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ET(t,n){Oi.M(t,n);var r=cs;if(r&&t){var l=Qe(r).hoistableScripts,c=fs(t),f=l.get(c);f||(f=r.querySelector(Ol(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Cn.get(c))&&Sf(t,n),f=r.createElement("script"),le(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ey(t,n,r,l){var c=(c=pt.current)?Su(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=hs(r.href),r=Qe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=hs(r.href);var f=Qe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Vl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Cn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Cn.set(t,r),f||TT(c,t,r,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=fs(r),r=Qe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function hs(t){return'href="'+fe(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function ny(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function TT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",r),le(n),t.head.appendChild(n))}function fs(t){return'[src="'+fe(t)+'"]'}function Ol(t){return"script[async]"+t}function iy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+fe(r.href)+'"]');if(l)return n.instance=l,le(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),le(l),Le(l,"style",c),bu(l,r.precedence,t),n.instance=l;case"stylesheet":c=hs(r.href);var f=t.querySelector(Vl(c));if(f)return n.state.loading|=4,n.instance=f,le(f),f;l=ny(r),(c=Cn.get(c))&&Af(l,c),f=(t.ownerDocument||t).createElement("link"),le(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",l),n.state.loading|=4,bu(f,r.precedence,t),n.instance=f;case"script":return f=fs(r.src),(c=t.querySelector(Ol(f)))?(n.instance=c,le(c),c):(l=r,(c=Cn.get(f))&&(l=A({},r),Sf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,bu(l,r.precedence,t));return n.instance}function bu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ru=null;function ry(t,n,r){if(Ru===null){var l=new Map,c=Ru=new Map;c.set(r,l)}else c=Ru,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Lr]||f[ye]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function ay(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function AT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function sy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ml=null;function ST(){}function bT(t,n,r){if(Ml===null)throw Error(s(475));var l=Ml;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=hs(r.href),f=t.querySelector(Vl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=wu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,le(f);return}f=t.ownerDocument||t,r=ny(r),(c=Cn.get(c))&&Af(r,c),f=f.createElement("link"),le(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=wu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function RT(){if(Ml===null)throw Error(s(475));var t=Ml;return t.stylesheets&&t.count===0&&bf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&bf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function wu(){if(this.count--,this.count===0){if(this.stylesheets)bf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Cu=null;function bf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Cu=new Map,n.forEach(wT,t),Cu=null,wu.call(t))}function wT(t,n){if(!(n.state.loading&4)){var r=Cu.get(t);if(r)var l=r.get(null);else{r=new Map,Cu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=wu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Nl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function CT(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ly(t,n,r,l,c,f,y,E,b,P,G,Q){return t=new CT(t,n,r,y,E,b,P,Q),n=1,f===!0&&(n|=24),f=ln(3,null,null,n),t.current=f,f.stateNode=t,n=rh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},oh(f),t}function oy(t){return t?(t=Ha,t):Ha}function uy(t,n,r,l,c,f){c=oy(c),l.context===null?l.context=c:l.pendingContext=c,l=Qi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Yi(t,l,n),r!==null&&(fn(r,t,n),ul(r,t,n))}function cy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Rf(t,n){cy(t,n),(t=t.alternate)&&cy(t,n)}function hy(t){if(t.tag===13){var n=ja(t,67108864);n!==null&&fn(n,t,67108864),Rf(t,67108864)}}var Iu=!0;function IT(t,n,r,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=2,wf(t,n,r,l)}finally{tt.p=f,H.T=c}}function DT(t,n,r,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=8,wf(t,n,r,l)}finally{tt.p=f,H.T=c}}function wf(t,n,r,l){if(Iu){var c=Cf(l);if(c===null)df(t,n,l,Du,r),dy(t,l);else if(OT(c,t,n,r,l))l.stopPropagation();else if(dy(t,l),n&4&&-1<VT.indexOf(t)){for(;c!==null;){var f=Pn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=In(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-ke(y);E.entanglements[1]|=b,y&=~b}Jn(f),(Ht&6)===0&&(fu=gn()+500,wl(0))}}break;case 13:E=ja(f,2),E!==null&&fn(E,f,2),mu(),Rf(f,2)}if(f=Cf(l),f===null&&df(t,n,l,Du,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else df(t,n,l,null,r)}}function Cf(t){return t=_n(t),If(t)}var Du=null;function If(t){if(Du=null,t=ui(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Du=t,null}function fy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vc()){case Os:return 2;case Ta:return 8;case Or:case Oc:return 32;case Aa:return 268435456;default:return 32}default:return 32}}var Df=!1,sr=null,lr=null,or=null,xl=new Map,Ul=new Map,ur=[],VT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dy(t,n){switch(t){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(n.pointerId)}}function Ll(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Pn(n),n!==null&&hy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function OT(t,n,r,l,c){switch(n){case"focusin":return sr=Ll(sr,t,n,r,l,c),!0;case"dragenter":return lr=Ll(lr,t,n,r,l,c),!0;case"mouseover":return or=Ll(or,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return xl.set(f,Ll(xl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ul.set(f,Ll(Ul.get(f)||null,t,n,r,l,c)),!0}return!1}function my(t){var n=ui(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,mo(t.priority,function(){if(r.tag===13){var l=hn();l=zi(l);var c=ja(r,l);c!==null&&fn(c,r,l),Rf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Cf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);di=l,r.target.dispatchEvent(l),di=null}else return n=Pn(r),n!==null&&hy(n),t.blockedOn=r,!1;n.shift()}return!0}function gy(t,n,r){Vu(t)&&r.delete(n)}function MT(){Df=!1,sr!==null&&Vu(sr)&&(sr=null),lr!==null&&Vu(lr)&&(lr=null),or!==null&&Vu(or)&&(or=null),xl.forEach(gy),Ul.forEach(gy)}function Ou(t,n){t.blockedOn===n&&(t.blockedOn=null,Df||(Df=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,MT)))}var Mu=null;function py(t){Mu!==t&&(Mu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Mu===t&&(Mu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(If(l||r)===null)continue;break}var f=Pn(r);f!==null&&(t.splice(n,3),n-=3,Ch(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function zl(t){function n(b){return Ou(b,t)}sr!==null&&Ou(sr,t),lr!==null&&Ou(lr,t),or!==null&&Ou(or,t),xl.forEach(n),Ul.forEach(n);for(var r=0;r<ur.length;r++){var l=ur[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ur.length&&(r=ur[0],r.blockedOn===null);)my(r),r.blockedOn===null&&ur.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[he]||null;if(typeof f=="function")y||py(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[he]||null)E=y.formAction;else if(If(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),py(r)}}}function Vf(t){this._internalRoot=t}Nu.prototype.render=Vf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=hn();uy(r,l,t,n,null,null)},Nu.prototype.unmount=Vf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;uy(t.current,2,null,t,null,null),mu(),n[pn]=null}};function Nu(t){this._internalRoot=t}Nu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Pi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ur.length&&n!==0&&n<ur[r].priority;r++);ur.splice(r,0,t),r===0&&my(t)}};var yy=e.version;if(yy!=="19.1.0")throw Error(s(527,yy,"19.1.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var NT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{re=xu.inject(NT),jt=xu}catch{}}return Bl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=Ng,f=xg,y=Ug,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ly(t,1,!1,null,null,r,l,c,f,y,E,null),t[pn]=n.current,ff(t),new Vf(n)},Bl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=Ng,y=xg,E=Ug,b=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=ly(t,1,!0,n,r??null,l,c,f,y,E,b,P),n.context=oy(null),r=n.current,l=hn(),l=zi(l),c=Qi(l),c.callback=null,Yi(r,c,l),r=l,n.current.lanes=r,oi(n,r),Jn(n),t[pn]=n.current,ff(t),new Nu(n)},Bl.version="19.1.0",Bl}var Cy;function HT(){if(Cy)return Nf.exports;Cy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Nf.exports=jT(),Nf.exports}var GT=HT();const FT=({search:a,setsearch:e})=>yt.jsx("div",{className:"search",children:yt.jsxs("div",{children:[yt.jsx("img",{src:"./Search.svg",alt:"search"}),yt.jsx("input",{type:"text",placeholder:"Search",value:a,onChange:i=>e(i.target.value)})]})}),QT=()=>yt.jsxs("div",{role:"status",children:[yt.jsxs("svg",{"aria-hidden":"true",class:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-indigo-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[yt.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),yt.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),yt.jsx("span",{class:"sr-only",children:"Loading..."})]}),YT=({movie:a})=>{const{title:e,vote_average:i,poster_path:s,release_date:o,original_language:h}=a;return yt.jsx(yt.Fragment,{children:yt.jsxs("div",{className:"movie-card",children:[yt.jsx("img",{src:s?`https://image.tmdb.org/t/p/w500/${s}`:"/no-movie.png",alt:e}),yt.jsxs("div",{className:"mt-4",children:[yt.jsx("h3",{children:e}),yt.jsxs("div",{className:"content",children:[yt.jsxs("div",{className:"rating",children:[yt.jsx("img",{src:"./Star.svg",alt:"star"}),yt.jsx("p",{children:i?i.toFixed(1):"N/A"})]}),yt.jsx("span",{children:""}),yt.jsx("p",{className:"year",children:o?o.split("-")[0]:"N/A"})]})]})]})})};function KT(a,e=500){const[i,s]=Wn.useState(a);return Wn.useEffect(()=>{const o=setTimeout(()=>s(a),e);return()=>clearTimeout(o)},[a,e]),i}const XT=()=>{};var Iy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},ZT=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Z_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,_=o+2<a.length,v=_?a[o+2]:0,A=h>>2,I=(h&3)<<4|g>>4;let D=(g&15)<<2|v>>6,q=v&63;_||(q=64,d||(D=64)),s.push(i[A],i[I],i[D],i[q])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(X_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):ZT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const v=o<a.length?i[a.charAt(o)]:64;++o;const I=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||v==null||I==null)throw new $T;const D=h<<2|g>>4;if(s.push(D),v!==64){const q=g<<4&240|v>>2;if(s.push(q),I!==64){const Z=v<<6&192|I;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class $T extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JT=function(a){const e=X_(a);return Z_.encodeByteArray(e,!0)},Yu=function(a){return JT(a).replace(/\./g,"")},WT=function(a){try{return Z_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=()=>t1().__FIREBASE_DEFAULTS__,n1=()=>{if(typeof process>"u"||typeof Iy>"u")return;const a=Iy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},i1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&WT(a[1]);return e&&JSON.parse(e)},_d=()=>{try{return XT()||e1()||n1()||i1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},r1=a=>{var e,i;return(i=(e=_d())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},a1=a=>{const e=r1(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},$_=()=>{var a;return(a=_d())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(a){return a.endsWith(".cloudworkstations.dev")}async function l1(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Yu(JSON.stringify(i)),Yu(JSON.stringify(d)),""].join(".")}const Hl={};function u1(){const a={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?a.emulator.push(e):a.prod.push(e);return a}function c1(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Dy=!1;function h1(a,e){if(typeof window>"u"||typeof document>"u"||!vd(window.location.host)||Hl[a]===e||Hl[a]||Dy)return;Hl[a]=e;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",h=u1().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function _(D,q){D.setAttribute("width","24"),D.setAttribute("id",q),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function v(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{Dy=!0,d()},D}function A(D,q){D.setAttribute("id",q),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function I(){const D=c1(s),q=i("text"),Z=document.getElementById(q)||document.createElement("span"),et=i("learnmore"),$=document.getElementById(et)||document.createElement("a"),vt=i("preprendIcon"),gt=document.getElementById(vt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ft=D.element;g(ft),A($,et);const Ut=v();_(gt,vt),ft.append(gt,Z,$,Ut),document.body.appendChild(ft)}h?(Z.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d1(){var a;const e=(a=_d())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m1(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function g1(){return!d1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J_(){try{return typeof indexedDB=="object"}catch{return!1}}function W_(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}function p1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="FirebaseError";class br extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=y1,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uc.prototype.create)}}class uc{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?_1(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new br(o,g,s)}}function _1(a,e){return a.replace(v1,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const v1=/\{\$([^}]+)}/g;function Xl(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(Vy(h)&&Vy(d)){if(!Xl(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Vy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=1e3,T1=2,A1=4*60*60*1e3,S1=.5;function Oy(a,e=E1,i=T1){const s=e*Math.pow(i,a),o=Math.round(S1*s*(Math.random()-.5)*2);return Math.min(A1,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(a){return a&&a._delegate?a._delegate:a}class Mi{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new s1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w1(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:R1(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R1(a){return a===ha?void 0:a}function w1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new b1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(xt||(xt={}));const I1={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},D1=xt.INFO,V1={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},O1=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=V1[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ed{constructor(e){this.name=e,this._logLevel=D1,this._logHandler=O1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const M1=(a,e)=>e.some(i=>a instanceof i);let My,Ny;function N1(){return My||(My=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x1(){return Ny||(Ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tv=new WeakMap,Kf=new WeakMap,ev=new WeakMap,zf=new WeakMap,Td=new WeakMap;function U1(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(fr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&tv.set(i,a)}).catch(()=>{}),Td.set(e,a),e}function L1(a){if(Kf.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Kf.set(a,e)}let Xf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Kf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||ev.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return fr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function z1(a){Xf=a(Xf)}function P1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Pf(this),e,...i);return ev.set(s,e.sort?e.sort():[e]),fr(s)}:x1().includes(a)?function(...e){return a.apply(Pf(this),e),fr(tv.get(this))}:function(...e){return fr(a.apply(Pf(this),e))}}function B1(a){return typeof a=="function"?P1(a):(a instanceof IDBTransaction&&L1(a),M1(a,N1())?new Proxy(a,Xf):a)}function fr(a){if(a instanceof IDBRequest)return U1(a);if(zf.has(a))return zf.get(a);const e=B1(a);return e!==a&&(zf.set(a,e),Td.set(e,a)),e}const Pf=a=>Td.get(a);function nv(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=fr(d);return s&&d.addEventListener("upgradeneeded",_=>{s(fr(d.result),_.oldVersion,_.newVersion,fr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const k1=["get","getKey","getAll","getAllKeys","count"],q1=["put","add","delete","clear"],Bf=new Map;function xy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Bf.get(e))return Bf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=q1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||k1.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return Bf.set(e,h),h}z1(a=>({...a,get:(e,i,s)=>xy(e,i)||a.get(e,i,s),has:(e,i)=>!!xy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(H1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function H1(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zf="@firebase/app",Uy="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new Ed("@firebase/app"),G1="@firebase/app-compat",F1="@firebase/analytics-compat",Q1="@firebase/analytics",Y1="@firebase/app-check-compat",K1="@firebase/app-check",X1="@firebase/auth",Z1="@firebase/auth-compat",$1="@firebase/database",J1="@firebase/data-connect",W1="@firebase/database-compat",tA="@firebase/functions",eA="@firebase/functions-compat",nA="@firebase/installations",iA="@firebase/installations-compat",rA="@firebase/messaging",aA="@firebase/messaging-compat",sA="@firebase/performance",lA="@firebase/performance-compat",oA="@firebase/remote-config",uA="@firebase/remote-config-compat",cA="@firebase/storage",hA="@firebase/storage-compat",fA="@firebase/firestore",dA="@firebase/ai",mA="@firebase/firestore-compat",gA="firebase",pA="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="[DEFAULT]",yA={[Zf]:"fire-core",[G1]:"fire-core-compat",[Q1]:"fire-analytics",[F1]:"fire-analytics-compat",[K1]:"fire-app-check",[Y1]:"fire-app-check-compat",[X1]:"fire-auth",[Z1]:"fire-auth-compat",[$1]:"fire-rtdb",[J1]:"fire-data-connect",[W1]:"fire-rtdb-compat",[tA]:"fire-fn",[eA]:"fire-fn-compat",[nA]:"fire-iid",[iA]:"fire-iid-compat",[rA]:"fire-fcm",[aA]:"fire-fcm-compat",[sA]:"fire-perf",[lA]:"fire-perf-compat",[oA]:"fire-rc",[uA]:"fire-rc-compat",[cA]:"fire-gcs",[hA]:"fire-gcs-compat",[fA]:"fire-fst",[mA]:"fire-fst-compat",[dA]:"fire-vertex","fire-js":"fire-js",[gA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=new Map,_A=new Map,Jf=new Map;function Ly(a,e){try{a.container.addComponent(e)}catch(i){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function yr(a){const e=a.name;if(Jf.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;Jf.set(e,a);for(const i of Ku.values())Ly(i,a);for(const i of _A.values())Ly(i,a);return!0}function ro(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function vA(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new uc("app","Firebase",EA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=pA;function iv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:$f,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw dr.create("bad-app-name",{appName:String(o)});if(i||(i=$_()),!i)throw dr.create("no-options");const h=Ku.get(o);if(h){if(Xl(i,h.options)&&Xl(s,h.config))return h;throw dr.create("duplicate-app",{appName:o})}const d=new C1(o);for(const _ of Jf.values())d.addComponent(_);const g=new TA(i,s,d);return Ku.set(o,g),g}function rv(a=$f){const e=Ku.get(a);if(!e&&a===$f&&$_())return iv();if(!e)throw dr.create("no-app",{appName:a});return e}function ei(a,e,i){var s;let o=(s=yA[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(g.join(" "));return}yr(new Mi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="firebase-heartbeat-database",bA=1,Zl="firebase-heartbeat-store";let kf=null;function av(){return kf||(kf=nv(SA,bA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Zl)}catch(i){console.warn(i)}}}}).catch(a=>{throw dr.create("idb-open",{originalErrorMessage:a.message})})),kf}async function RA(a){try{const i=(await av()).transaction(Zl),s=await i.objectStore(Zl).get(sv(a));return await i.done,s}catch(e){if(e instanceof br)Ni.warn(e.message);else{const i=dr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(i.message)}}}async function zy(a,e){try{const s=(await av()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,sv(a)),await s.done}catch(i){if(i instanceof br)Ni.warn(i.message);else{const s=dr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ni.warn(s.message)}}}function sv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=1024,CA=30;class IA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new VA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Py();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>CA){const d=OA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ni.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Py(),{heartbeatsToSend:s,unsentEntries:o}=DA(this._heartbeatsCache.heartbeats),h=Yu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ni.warn(i),""}}}function Py(){return new Date().toISOString().substring(0,10)}function DA(a,e=wA){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),By(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),By(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class VA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J_()?W_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await RA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return zy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return zy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function By(a){return Yu(JSON.stringify({version:2,heartbeats:a})).length}function OA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(a){yr(new Mi("platform-logger",e=>new j1(e),"PRIVATE")),yr(new Mi("heartbeat",e=>new IA(e),"PRIVATE")),ei(Zf,Uy,a),ei(Zf,Uy,"esm2017"),ei("fire-js","")}MA("");var NA="firebase",xA="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei(NA,xA,"app");var ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mr,lv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,S){function w(){}w.prototype=S.prototype,M.D=S.prototype,M.prototype=new w,M.prototype.constructor=M,M.C=function(O,N,U){for(var R=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)R[Oe-2]=arguments[Oe];return S.prototype[N].apply(O,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,S,w){w||(w=0);var O=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)O[N]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(N=0;16>N;++N)O[N]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=M.g[0],w=M.g[1],N=M.g[2];var U=M.g[3],R=S+(U^w&(N^U))+O[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=U+(N^S&(w^N))+O[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(w^U&(S^w))+O[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=w+(S^N&(U^S))+O[3]+3250441966&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(U^w&(N^U))+O[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(N^S&(w^N))+O[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(w^U&(S^w))+O[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=w+(S^N&(U^S))+O[7]+4249261313&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(U^w&(N^U))+O[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(N^S&(w^N))+O[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(w^U&(S^w))+O[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=w+(S^N&(U^S))+O[11]+2304563134&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(U^w&(N^U))+O[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(N^S&(w^N))+O[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(w^U&(S^w))+O[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=w+(S^N&(U^S))+O[15]+1236535329&4294967295,w=N+(R<<22&4294967295|R>>>10),R=S+(N^U&(w^N))+O[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^N&(S^w))+O[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(U^S))+O[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(N^U))+O[0]+3921069994&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(w^N))+O[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^N&(S^w))+O[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(U^S))+O[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(N^U))+O[4]+3889429448&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(w^N))+O[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^N&(S^w))+O[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(U^S))+O[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(N^U))+O[8]+1163531501&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(w^N))+O[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^N&(S^w))+O[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^w&(U^S))+O[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(N^U))+O[12]+2368359562&4294967295,w=N+(R<<20&4294967295|R>>>12),R=S+(w^N^U)+O[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^N)+O[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^w)+O[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=w+(N^U^S)+O[14]+4259657740&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^U)+O[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^N)+O[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^w)+O[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=w+(N^U^S)+O[10]+3200236656&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^U)+O[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^N)+O[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^w)+O[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=w+(N^U^S)+O[6]+76029189&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(w^N^U)+O[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^N)+O[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^w)+O[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=w+(N^U^S)+O[2]+3299628645&4294967295,w=N+(R<<23&4294967295|R>>>9),R=S+(N^(w|~U))+O[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~N))+O[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~w))+O[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=w+(U^(N|~S))+O[5]+4237533241&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~U))+O[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~N))+O[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~w))+O[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=w+(U^(N|~S))+O[1]+2240044497&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~U))+O[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~N))+O[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~w))+O[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=w+(U^(N|~S))+O[13]+1309151649&4294967295,w=N+(R<<21&4294967295|R>>>11),R=S+(N^(w|~U))+O[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~N))+O[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~w))+O[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=w+(U^(N|~S))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,M.g[2]=M.g[2]+N&4294967295,M.g[3]=M.g[3]+U&4294967295}s.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var w=S-this.blockSize,O=this.B,N=this.h,U=0;U<S;){if(N==0)for(;U<=w;)o(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<S;)if(O[N++]=M.charCodeAt(U++),N==this.blockSize){o(this,O),N=0;break}}else for(;U<S;)if(O[N++]=M[U++],N==this.blockSize){o(this,O),N=0;break}}this.h=N,this.o+=S},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var w=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=w&255,w/=256;for(this.u(M),M=Array(16),S=w=0;4>S;++S)for(var O=0;32>O;O+=8)M[w++]=this.g[S]>>>O&255;return M};function h(M,S){var w=g;return Object.prototype.hasOwnProperty.call(w,M)?w[M]:w[M]=S(M)}function d(M,S){this.h=S;for(var w=[],O=!0,N=M.length-1;0<=N;N--){var U=M[N]|0;O&&U==S||(w[N]=U,O=!1)}this.g=w}var g={};function _(M){return-128<=M&&128>M?h(M,function(S){return new d([S|0],0>S?-1:0)}):new d([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return I;if(0>M)return $(v(-M));for(var S=[],w=1,O=0;M>=w;O++)S[O]=M/w|0,w*=4294967296;return new d(S,0)}function A(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return $(A(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(S,8)),O=I,N=0;N<M.length;N+=8){var U=Math.min(8,M.length-N),R=parseInt(M.substring(N,N+U),S);8>U?(U=v(Math.pow(S,U)),O=O.j(U).add(v(R))):(O=O.j(w),O=O.add(v(R)))}return O}var I=_(0),D=_(1),q=_(16777216);a=d.prototype,a.m=function(){if(et(this))return-$(this).m();for(var M=0,S=1,w=0;w<this.g.length;w++){var O=this.i(w);M+=(0<=O?O:4294967296+O)*S,S*=4294967296}return M},a.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(Z(this))return"0";if(et(this))return"-"+$(this).toString(M);for(var S=v(Math.pow(M,6)),w=this,O="";;){var N=Ut(w,S).g;w=vt(w,N.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(M);if(w=N,Z(w))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},a.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function Z(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function et(M){return M.h==-1}a.l=function(M){return M=vt(this,M),et(M)?-1:Z(M)?0:1};function $(M){for(var S=M.g.length,w=[],O=0;O<S;O++)w[O]=~M.g[O];return new d(w,~M.h).add(D)}a.abs=function(){return et(this)?$(this):this},a.add=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],O=0,N=0;N<=S;N++){var U=O+(this.i(N)&65535)+(M.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(M.i(N)>>>16);O=R>>>16,U&=65535,R&=65535,w[N]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function vt(M,S){return M.add($(S))}a.j=function(M){if(Z(this)||Z(M))return I;if(et(this))return et(M)?$(this).j($(M)):$($(this).j(M));if(et(M))return $(this.j($(M)));if(0>this.l(q)&&0>M.l(q))return v(this.m()*M.m());for(var S=this.g.length+M.g.length,w=[],O=0;O<2*S;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var N=0;N<M.g.length;N++){var U=this.i(O)>>>16,R=this.i(O)&65535,Oe=M.i(N)>>>16,ie=M.i(N)&65535;w[2*O+2*N]+=R*ie,gt(w,2*O+2*N),w[2*O+2*N+1]+=U*ie,gt(w,2*O+2*N+1),w[2*O+2*N+1]+=R*Oe,gt(w,2*O+2*N+1),w[2*O+2*N+2]+=U*Oe,gt(w,2*O+2*N+2)}for(O=0;O<S;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=S;O<2*S;O++)w[O]=0;return new d(w,0)};function gt(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function ft(M,S){this.g=M,this.h=S}function Ut(M,S){if(Z(S))throw Error("division by zero");if(Z(M))return new ft(I,I);if(et(M))return S=Ut($(M),S),new ft($(S.g),$(S.h));if(et(S))return S=Ut(M,$(S)),new ft($(S.g),S.h);if(30<M.g.length){if(et(M)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var w=D,O=S;0>=O.l(M);)w=Tt(w),O=Tt(O);var N=zt(w,1),U=zt(O,1);for(O=zt(O,2),w=zt(w,2);!Z(O);){var R=U.add(O);0>=R.l(M)&&(N=N.add(w),U=R),O=zt(O,1),w=zt(w,1)}return S=vt(M,N.j(S)),new ft(N,S)}for(N=I;0<=M.l(S);){for(w=Math.max(1,Math.floor(M.m()/S.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=v(w),R=U.j(S);et(R)||0<R.l(M);)w-=O,U=v(w),R=U.j(S);Z(U)&&(U=D),N=N.add(U),M=vt(M,R)}return new ft(N,M)}a.A=function(M){return Ut(this,M).h},a.and=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)&M.i(O);return new d(w,this.h&M.h)},a.or=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)|M.i(O);return new d(w,this.h|M.h)},a.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)^M.i(O);return new d(w,this.h^M.h)};function Tt(M){for(var S=M.g.length+1,w=[],O=0;O<S;O++)w[O]=M.i(O)<<1|M.i(O-1)>>>31;return new d(w,M.h)}function zt(M,S){var w=S>>5;S%=32;for(var O=M.g.length-w,N=[],U=0;U<O;U++)N[U]=0<S?M.i(U+w)>>>S|M.i(U+w+1)<<32-S:M.i(U+w);return new d(N,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,lv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,mr=d}).apply(typeof ky<"u"?ky:typeof self<"u"?self:typeof window<"u"?window:{});var Uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ov,kl,uv,qu,Wf,cv,hv,fv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uu=="object"&&Uu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,L={next:function(){if(!T&&p<u.length){var j=p++;return{value:m(j,u[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function I(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function D(u,m,p){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,D.apply(null,arguments)}function q(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Z(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,L,j){for(var W=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)W[Vt-2]=arguments[Vt];return m.prototype[L].apply(T,W)}}function et(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function $(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const L=u.length||0,j=T.length||0;u.length=L+j;for(let W=0;W<j;W++)u[L+W]=T[W]}else u.push(T)}}class vt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function gt(u){return/^[\s\xa0]*$/.test(u)}function ft(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Ut(u){return Ut[" "](u),u}Ut[" "]=function(){};var Tt=ft().indexOf("Gecko")!=-1&&!(ft().toLowerCase().indexOf("webkit")!=-1&&ft().indexOf("Edge")==-1)&&!(ft().indexOf("Trident")!=-1||ft().indexOf("MSIE")!=-1)&&ft().indexOf("Edge")==-1;function zt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function M(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let j=0;j<w.length;j++)p=w[j],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function N(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function U(u){g.setTimeout(()=>{throw u},0)}function R(){var u=Pt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Oe{constructor(){this.h=this.g=null}add(m,p){const T=ie.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new vt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,lt=!1,Pt=new Oe,C=()=>{const u=g.Promise.resolve(void 0);tt=()=>{u.then(X)}};var X=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(p){U(p)}var m=ie;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}lt=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function Rt(u,m){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Tt){t:{try{Ut(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:pt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}Z(Rt,J);var pt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Ln(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function Li(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function si(u){this.src=u,this.g={},this.h=0}si.prototype.add=function(u,m,p,T,L){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var W=Dr(u,m,T,L);return-1<W?(m=u[W],p||(m.fa=!1)):(m=new Ln(m,this.src,j,!!T,L),m.fa=p,u.push(m)),m};function Ir(u,m){var p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=L)&&Array.prototype.splice.call(T,L,1),j&&(Li(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Dr(u,m,p,T){for(var L=0;L<u.length;++L){var j=u[L];if(!j.da&&j.listener==m&&j.capture==!!p&&j.ha==T)return L}return-1}var Vr="closure_lm_"+(1e6*Math.random()|0),Vs={};function co(u,m,p,T,L){if(Array.isArray(m)){for(var j=0;j<m.length;j++)co(u,m[j],p,T,L);return null}return p=ho(p),u&&u[be]?u.K(m,p,v(T)?!!T.capture:!1,L):gn(u,m,p,!1,T,L)}function gn(u,m,p,T,L,j){if(!m)throw Error("Invalid event type");var W=v(L)?!!L.capture:!!L,Vt=Aa(u);if(Vt||(u[Vr]=Vt=new si(u)),p=Vt.add(m,p,T,W,j),p.proxy)return p;if(T=Vc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ut||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Or(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Vc(){function u(p){return m.call(u.src,u.listener,p)}const m=Oc;return u}function Os(u,m,p,T,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)Os(u,m[j],p,T,L);else T=v(T)?!!T.capture:!!T,p=ho(p),u&&u[be]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],p=Dr(j,p,T,L),-1<p&&(Li(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=Aa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Dr(m,p,T,L)),(p=-1<u?m[u]:null)&&Ta(p))}function Ta(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[be])Ir(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Or(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Aa(m))?(Ir(p,u),p.h==0&&(p.src=null,m[Vr]=null)):Li(u)}}}function Or(u){return u in Vs?Vs[u]:Vs[u]="on"+u}function Oc(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&Ta(u),u=p.call(T,m)}return u}function Aa(u){return u=u[Vr],u instanceof si?u:null}var Ms="__closure_events_fn_"+(1e9*Math.random()>>>0);function ho(u){return typeof u=="function"?u:(u[Ms]||(u[Ms]=function(m){return u.handleEvent(m)}),u[Ms])}function re(){nt.call(this),this.i=new si(this),this.M=this,this.F=null}Z(re,nt),re.prototype[be]=!0,re.prototype.removeEventListener=function(u,m,p,T){Os(this,u,m,p,T)};function jt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new J(m,u);else if(m instanceof J)m.target=m.target||u;else{var L=m;m=new J(T,u),O(m,L)}if(L=!0,p)for(var j=p.length-1;0<=j;j--){var W=m.g=p[j];L=rn(W,T,!0,m)&&L}if(W=m.g=u,L=rn(W,T,!0,m)&&L,L=rn(W,T,!1,m)&&L,p)for(j=0;j<p.length;j++)W=m.g=p[j],L=rn(W,T,!1,m)&&L}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Li(p[T]);delete u.g[m],u.h--}}this.F=null},re.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},re.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function rn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,j=0;j<m.length;++j){var W=m[j];if(W&&!W.da&&W.capture==p){var Vt=W.listener,_e=W.ha||W.src;W.fa&&Ir(u.i,W),L=Vt.call(_e,T)!==!1&&L}}return L&&!T.defaultPrevented}function ke(u,m,p){if(typeof u=="function")p&&(u=D(u,p));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function fo(u){u.g=ke(()=>{u.g=null,u.i&&(u.i=!1,fo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Mc extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:fo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(u){nt.call(this),this.h=u,this.g={}}Z(Mr,nt);var Nr=[];function xr(u){zt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Ta(m)},u),u.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),xr(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=g.JSON.stringify,Sa=g.JSON.parse,Ur=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ns(){}Ns.prototype.h=null;function xs(u){return u.h||(u.h=u.i())}function Us(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oi(){J.call(this,"d")}Z(oi,J);function Ls(){J.call(this,"c")}Z(Ls,J);var zn={},zs=null;function zi(){return zs=zs||new re}zn.La="serverreachability";function ba(u){J.call(this,zn.La,u)}Z(ba,J);function Pi(u){const m=zi();jt(m,new ba(m))}zn.STAT_EVENT="statevent";function mo(u,m){J.call(this,zn.STAT_EVENT,u),this.stat=m}Z(mo,J);function Wt(u){const m=zi();jt(m,new mo(m,u))}zn.Ma="timingevent";function ye(u,m){J.call(this,zn.Ma,u),this.size=m}Z(ye,J);function he(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function Ps(u,m,p,T,L,j){u.info(function(){if(u.g)if(j)for(var W="",Vt=j.split("&"),_e=0;_e<Vt.length;_e++){var Ot=Vt[_e].split("=");if(1<Ot.length){var we=Ot[0];Ot=Ot[1];var ve=we.split("_");W=2<=ve.length&&ve[1]=="type"?W+(we+"="+Ot+"&"):W+(we+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+W})}function Nc(u,m,p,T,L,j,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+j+" "+W})}function Bi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lr(u,p)+(T?" "+T:"")})}function go(u,m){u.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function Lr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return In(p)}catch{return m}}var ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pn;function Bn(){}Z(Bn,Ns),Bn.prototype.g=function(){return new XMLHttpRequest},Bn.prototype.i=function(){return{}},Pn=new Bn;function Qe(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Bs={},Ra={};function Dn(u,m,p){u.L=1,u.v=qr(an(m)),u.m=p,u.P=!0,ci(u,null)}function ci(u,m){u.F=Date.now(),zr(u),u.A=an(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Fs(p.i,"t",T),u.C=0,p=u.j.J,u.h=new le,u.g=Oo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Mc(D(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Nr[0]=L.toString()),L=Nr);for(var j=0;j<L.length;j++){var W=co(p,L[j],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Pi(),Ps(u.i,u.u,u.A,u.l,u.R,u.m)}Qe.prototype.ca=function(u){u=u.target;const m=this.M;m&&En(u)==3?m.j():this.Y(u)},Qe.prototype.Y=function(u){try{if(u==this.g)t:{const ve=En(this.g);var m=this.g.Ba();const _i=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||So(this.g)))){this.J||ve!=4||m==7||(m==8||0>=_i?Pi(3):Pi(2)),qi(this);var p=this.g.Z();this.X=p;e:if(po(this)){var T=So(this.g);u="";var L=T.length,j=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),kn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(j&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,Nc(this.i,this.u,this.A,this.l,this.R,ve,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,_e=this.g;if((Vt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gt(Vt)){var Ot=Vt;break e}}Ot=null}if(p=Ot)Bi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pr(this,p);else{this.o=!1,this.s=3,Wt(12),Me(this),kn(this);break t}}if(this.P){p=!0;let Ne;for(;!this.J&&this.C<W.length;)if(Ne=yo(this,W),Ne==Ra){ve==4&&(this.s=4,Wt(14),p=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ne==Bs){this.s=4,Wt(15),Bi(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else Bi(this.i,this.l,Ne,null),Pr(this,Ne);if(po(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||W.length!=0||this.h.h||(this.s=1,Wt(16),p=!1),this.o=this.o&&p,!p)Bi(this.i,this.l,W,"[Invalid Chunked Response]"),Me(this),kn(this);else if(0<W.length&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.ba&&!we.M&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Xr(we),we.M=!0,Wt(11))}}else Bi(this.i,this.l,W,null),Pr(this,W);ve==4&&Me(this),this.o&&!this.J&&(ve==4?Io(this.j,this):(this.o=!1,zr(this)))}else Pc(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Me(this),kn(this)}}}catch{}finally{}};function po(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function yo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Ra:(p=Number(m.substring(p,T)),isNaN(p)?Bs:(T+=1,T+p>m.length?Ra:(m=m.slice(T,T+p),u.C=T+p,m)))}Qe.prototype.cancel=function(){this.J=!0,Me(this)};function zr(u){u.S=Date.now()+u.I,_o(u,u.I)}function _o(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=he(D(u.ba,u),m)}function qi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Qe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(go(this.i,this.A),this.L!=2&&(Pi(),Wt(17)),Me(this),this.s=2,kn(this)):_o(this,this.S-u)};function kn(u){u.j.G==0||u.J||Io(u.j,u)}function Me(u){qi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,xr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Pr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||ks(p.h,u))){if(!u.K&&ks(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)za(p),Ua(p);else break t;Zs(p),Wt(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=he(D(p.Za,p),6e3));if(1>=Ca(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else yi(p,11)}else if((u.K||p.g==u)&&za(p),!gt(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Ot=L[m];if(p.T=Ot[0],Ot=Ot[1],p.G==2)if(Ot[0]=="c"){p.K=Ot[1],p.ia=Ot[2];const we=Ot[3];we!=null&&(p.la=we,p.j.info("VER="+p.la));const ve=Ot[4];ve!=null&&(p.Aa=ve,p.j.info("SVER="+p.Aa));const _i=Ot[5];_i!=null&&typeof _i=="number"&&0<_i&&(T=1.5*_i,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Ne=u.g;if(Ne){const Yn=Ne.g?Ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var j=T.h;j.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ia(j,j.h),j.h=null))}if(T.D){const Js=Ne.g?Ne.g.getResponseHeader("X-HTTP-Session-Id"):null;Js&&(T.ya=Js,Ft(T.I,T.D,Js))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var W=u;if(T.qa=Vo(T,T.J?T.ia:null,T.W),W.K){Ye(T.h,W);var Vt=W,_e=T.L;_e&&(Vt.I=_e),Vt.B&&(qi(Vt),zr(Vt)),T.g=W}else wo(T);0<p.i.length&&La(p)}else Ot[0]!="stop"&&Ot[0]!="close"||yi(p,7);else p.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?yi(p,7):Ks(p):Ot[0]!="noop"&&p.l&&p.l.ta(Ot),p.v=0)}}Pi(4)}catch{}}var vo=class{constructor(u,m){this.g=u,this.map=m}};function hi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ca(u){return u.h?1:u.g?u.g.size:0}function ks(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ia(u,m){u.g?u.g.add(m):u.h=m}function Ye(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}hi.prototype.cancel=function(){if(this.i=qs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function qs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return et(u.i)}function xc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Da(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function js(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Da(u),T=xc(u),L=T.length,j=0;j<L;j++)m.call(void 0,T[j],p&&p[j],u)}var Br=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),L=null;if(0<=T){var j=u[p].substring(0,T);L=u[p].substring(T+1)}else j=u[p];m(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function fe(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof fe){this.h=u.h,kr(this,u.j),this.o=u.o,this.g=u.g,ji(this,u.s),this.l=u.l;var m=u.i,p=new di;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),fi(this,p),this.m=u.m}else u&&(m=String(u).match(Br))?(this.h=!1,kr(this,m[1]||"",!0),this.o=yn(m[2]||""),this.g=yn(m[3]||"",!0),ji(this,m[4]),this.l=yn(m[5]||"",!0),fi(this,m[6]||"",!0),this.m=yn(m[7]||"")):(this.h=!1,this.i=new di(null,this.h))}fe.prototype.toString=function(){var u=[],m=this.j;m&&u.push(jr(m,Hs,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(jr(m,Hs,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(jr(p,p.charAt(0)=="/"?Lc:Gs,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",jr(p,Va)),u.join("")};function an(u){return new fe(u)}function kr(u,m,p){u.j=p?yn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ji(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function fi(u,m,p){m instanceof di?(u.i=m,To(u.i,u.h)):(p||(m=jr(m,zc)),u.i=new di(m,u.h))}function Ft(u,m,p){u.i.set(m,p)}function qr(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function yn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function jr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Eo),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Eo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hs=/[#\/\?@]/g,Gs=/[#\?:]/g,Lc=/[#\?]/g,zc=/[#\?@]/g,Va=/#/g;function di(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&Uc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=di.prototype,a.add=function(u,m){_n(this),this.i=null,u=qn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function mi(u,m){_n(u),m=qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function gi(u,m){return _n(u),m=qn(u,m),u.g.has(m)}a.forEach=function(u,m){_n(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)},a.na=function(){_n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=u[T];for(let j=0;j<L.length;j++)p.push(m[T])}return p},a.V=function(u){_n(this);let m=[];if(typeof u=="string")gi(this,u)&&(m=m.concat(this.g.get(qn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},a.set=function(u,m){return _n(this),this.i=null,u=qn(this,u),gi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Fs(u,m,p){mi(u,m),0<p.length&&(u.i=null,u.g.set(qn(u,m),et(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const j=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var L=j;W[T]!==""&&(L+="="+encodeURIComponent(String(W[T]))),u.push(L)}}return this.i=u.join("&")};function qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function To(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(mi(this,T),Fs(this,L,p))},u)),u.j=m}function Hr(u,m){const p=new pn;if(g.Image){const T=new Image;T.onload=q(vn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=q(vn,p,"TestLoadImage: error",!1,m,T),T.onabort=q(vn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=q(vn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Vn(u,m){const p=new pn,T=new AbortController,L=setTimeout(()=>{T.abort(),vn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(L),j.ok?vn(p,"TestPingServer: ok",!0,m):vn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),vn(p,"TestPingServer: error",!1,m)})}function vn(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Gr(){this.g=new Ur}function jn(u,m,p){const T=p||"";try{js(u,function(L,j){let W=L;v(L)&&(W=In(L)),m.push(T+j+"="+encodeURIComponent(W))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Hi(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(Hi,Ns),Hi.prototype.g=function(){return new pi(this.l,this.j)},Hi.prototype.i=function(u){return function(){return u}}({});function pi(u,m){re.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(pi,re),a=pi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Gn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Hn(this):Gn(this),this.readyState==3&&Qs(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Hn(this))},a.Qa=function(u){this.g&&(this.response=u,Hn(this))},a.ga=function(){this.g&&Hn(this)};function Hn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Gn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ys(u){let m="";return zt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Re(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Ys(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Ft(u,m,p))}function kt(u){re.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(kt,re);var Oa=/^https?$/i,Fr=["POST","PUT"];a=kt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pn.g(),this.v=this.o?xs(this.o):xs(Pn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){Ao(this,j);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())p.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Fr,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of p)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qr(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){Ao(this,j)}};function Ao(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ma(u),Fn(u)}function Ma(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),Fn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),kt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Na(this):this.bb())},a.bb=function(){Na(this)};function Na(u){if(u.h&&typeof d<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)ke(u.Ea,0,u);else if(jt(u,"readystatechange"),En(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=W===0){var L=String(u.D).match(Br)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Oa.test(L?L.toLowerCase():"")}p=T}if(p)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var j=2<En(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Ma(u)}}finally{Fn(u)}}}}function Fn(u,m){if(u.g){Qr(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||jt(u,"ready");try{p.onreadystatechange=T}catch{}}}function Qr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Sa(m)}};function So(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Pc(u){const m={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(gt(u[T]))continue;var p=N(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=m[L]||[];m[L]=j,j.push(p)}M(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function xa(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yr("baseRetryDelayMs",5e3,u),this.cb=Yr("retryDelaySeedMs",1e4,u),this.Wa=Yr("forwardChannelMaxRetries",2,u),this.wa=Yr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(u&&u.concurrentRequestLimit),this.Da=new Gr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=xa.prototype,a.la=8,a.G=1,a.connect=function(u,m,p,T){Wt(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Vo(this,null,this.W),La(this)};function Ks(u){if(bo(u),u.G==3){var m=u.U++,p=an(u.I);if(Ft(p,"SID",u.K),Ft(p,"RID",m),Ft(p,"TYPE","terminate"),Kr(u,p),m=new Qe(u,u.j,m),m.L=2,m.v=qr(an(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Oo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),zr(m)}Do(u)}function Ua(u){u.g&&(Xr(u),u.g.cancel(),u.g=null)}function bo(u){Ua(u),u.u&&(g.clearTimeout(u.u),u.u=null),za(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function La(u){if(!wa(u.h)&&!u.s){u.s=!0;var m=u.Ga;tt||C(),lt||(tt(),lt=!0),Pt.add(m,u),u.B=0}}function Bc(u,m){return Ca(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=he(D(u.Ga,u,m),$s(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Qe(this,this.j,u);let j=this.o;if(this.S&&(j?(j=S(j),O(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Ro(this,L,m),p=an(this.I),Ft(p,"RID",u),Ft(p,"CVER",22),this.D&&Ft(p,"X-HTTP-Session-Id",this.D),Kr(this,p),j&&(this.O?m="headers="+encodeURIComponent(String(Ys(j)))+"&"+m:this.m&&Re(p,this.m,j)),Ia(this.h,L),this.Ua&&Ft(p,"TYPE","init"),this.P?(Ft(p,"$req",m),Ft(p,"SID","null"),L.T=!0,Dn(L,p,null)):Dn(L,p,m),this.G=2}}else this.G==3&&(u?Xs(this,u):this.i.length==0||wa(this.h)||Xs(this))};function Xs(u,m){var p;m?p=m.l:p=u.U++;const T=an(u.I);Ft(T,"SID",u.K),Ft(T,"RID",p),Ft(T,"AID",u.T),Kr(u,T),u.m&&u.o&&Re(T,u.m,u.o),p=new Qe(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ro(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ia(u.h,p),Dn(p,T,m)}function Kr(u,m){u.H&&zt(u.H,function(p,T){Ft(m,T,p)}),u.l&&js({},function(p,T){Ft(m,T,p)})}function Ro(u,m,p){p=Math.min(u.i.length,p);var T=u.l?D(u.l.Na,u.l,u):null;t:{var L=u.i;let j=-1;for(;;){const W=["count="+p];j==-1?0<p?(j=L[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let Vt=!0;for(let _e=0;_e<p;_e++){let Ot=L[_e].g;const we=L[_e].map;if(Ot-=j,0>Ot)j=Math.max(0,L[_e].g-100),Vt=!1;else try{jn(we,W,"req"+Ot+"_")}catch{T&&T(we)}}if(Vt){T=W.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function wo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;tt||C(),lt||(tt(),lt=!0),Pt.add(m,u),u.v=0}}function Zs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=he(D(u.Fa,u),$s(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Co(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=he(D(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Ua(this),Co(this))};function Xr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Co(u){u.g=new Qe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Ft(m,"RID","rpc"),Ft(m,"SID",u.K),Ft(m,"AID",u.T),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ft(m,"TO",u.ja),Ft(m,"TYPE","xmlhttp"),Kr(u,m),u.m&&u.o&&Re(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=qr(an(m)),p.m=null,p.P=!0,ci(p,u)}a.Za=function(){this.C!=null&&(this.C=null,Ua(this),Zs(this),Wt(19))};function za(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Io(u,m){var p=null;if(u.g==m){za(u),Xr(u),u.g=null;var T=2}else if(ks(u.h,m))p=m.D,Ye(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=zi(),jt(T,new ye(T,p)),La(u)}else wo(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Bc(u,m)||T==2&&Zs(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),L){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function $s(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var p=D(u.fb,u),T=u.Xa;const L=!T;T=new fe(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||kr(T,"https"),qr(T),L?Hr(T.toString(),p):Vn(T.toString(),p)}else Wt(2);u.G=0,u.l&&u.l.sa(m),Do(u),bo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Do(u){if(u.G=0,u.ka=[],u.l){const m=qs(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,et(u.i),u.i.length=0),u.l.ra()}}function Vo(u,m,p){var T=p instanceof fe?an(p):new fe(p);if(T.g!="")m&&(T.g=m+"."+T.g),ji(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var j=new fe(null);T&&kr(j,T),m&&(j.g=m),L&&ji(j,L),p&&(j.l=p),T=j}return p=u.D,m=u.ya,p&&m&&Ft(T,p,m),Ft(T,"VER",u.la),Kr(u,T),T}function Oo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new kt(new Hi({eb:p})):new kt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mo(){}a=Mo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Pa(){}Pa.prototype.g=function(u,m){return new Ke(u,m)};function Ke(u,m){re.call(this),this.g=new xa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!gt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!gt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qn(this)}Z(Ke,re),Ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){Ks(this.g)},Ke.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=In(u),u=p);m.i.push(new vo(m.Ya++,u)),m.G==3&&La(m)},Ke.prototype.N=function(){this.g.l=null,delete this.j,Ks(this.g),delete this.g,Ke.aa.N.call(this)};function No(u){oi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z(No,oi);function xo(){Ls.call(this),this.status=1}Z(xo,Ls);function Qn(u){this.g=u}Z(Qn,Mo),Qn.prototype.ua=function(){jt(this.g,"a")},Qn.prototype.ta=function(u){jt(this.g,new No(u))},Qn.prototype.sa=function(u){jt(this.g,new xo)},Qn.prototype.ra=function(){jt(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,fv=function(){return new Pa},hv=function(){return zi()},cv=zn,Wf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ki.NO_ERROR=0,ki.TIMEOUT=8,ki.HTTP_ERROR=6,qu=ki,ui.COMPLETE="complete",uv=ui,Us.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",re.prototype.listen=re.prototype.K,kl=Us,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,ov=kt}).apply(typeof Uu<"u"?Uu:typeof self<"u"?self:typeof window<"u"?window:{});const qy="@firebase/firestore",jy="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rs="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new Ed("@firebase/firestore");function ds(){return ma.logLevel}function it(a,...e){if(ma.logLevel<=xt.DEBUG){const i=e.map(Ad);ma.debug(`Firestore (${Rs}): ${a}`,...i)}}function xi(a,...e){if(ma.logLevel<=xt.ERROR){const i=e.map(Ad);ma.error(`Firestore (${Rs}): ${a}`,...i)}}function _s(a,...e){if(ma.logLevel<=xt.WARN){const i=e.map(Ad);ma.warn(`Firestore (${Rs}): ${a}`,...i)}}function Ad(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,dv(a,s,i)}function dv(a,e,i){let s=`FIRESTORE (${Rs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw xi(s),new Error(s)}function qt(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||dv(e,o,s)}function Et(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends br{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class LA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class zA{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let h=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new gr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},g=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new gr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new mv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Ge(e)}}class PA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new PA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const s=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Hy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Hy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=qA(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function bt(a,e){return a<e?-1:a>e?1:0}function td(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return bt(s,o);{const h=gv(),d=jA(h.encode(Gy(a,i)),h.encode(Gy(e,i)));return d!==0?d:bt(s,o)}}i+=s>65535?2:1}return bt(a.length,e.length)}function Gy(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function jA(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return bt(a[i],e[i]);return bt(a.length,e.length)}function vs(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=-62135596800,Qy=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Qy);return new Ae(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Fy)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qy}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Fy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Ae(0,0))}static max(){return new _t(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="__name__";class ti{constructor(e,i,s){i===void 0?i=0:i>e.length&&dt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&dt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=ti.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return bt(e.length,i.length)}static compareSegments(e,i){const s=ti.isNumericId(e),o=ti.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ti.extractNumericId(e).compare(ti.extractNumericId(i)):td(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}}class Jt extends ti{construct(e,i,s){return new Jt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new rt(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Jt(i)}static emptyPath(){return new Jt([])}}const HA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends ti{construct(e,i,s){return new Pe(e,i,s)}static isValidIdentifier(e){return HA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yy}static keyField(){return new Pe([Yy])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new rt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new rt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new rt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.path=e}static fromPath(e){return new ot(Jt.fromString(e))}static fromName(e){return new ot(Jt.fromString(e).popFirst(5))}static empty(){return new ot(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function GA(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(s===1e9?new Ae(i+1,0):new Ae(i,s));return new _r(o,ot.empty(),e)}function FA(a){return new _r(a.readTime,a.key,$l)}class _r{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new _r(_t.min(),ot.empty(),$l)}static max(){return new _r(_t.max(),ot.empty(),$l)}}function QA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=ot.comparator(a.documentKey,e.documentKey),i!==0?i:bt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ws(a){if(a.code!==K.FAILED_PRECONDITION||a.message!==YA)throw a;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Y((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.reject(i)}static resolve(e){return new Y((i,s)=>{i(e)})}static reject(e){return new Y((i,s)=>{s(e)})}static waitFor(e){return new Y((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},_=>s(_))}),d=!0,h===o&&i()})}static or(e){let i=Y.resolve(!1);for(const s of e)i=i.next(o=>o?Y.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new Y((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===h&&s(d)},A=>o(A))}})}static doWhile(e,i){return new Y((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function XA(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Cs(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}cc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=-1;function hc(a){return a==null}function Xu(a){return a===0&&1/a==-1/0}function ZA(a){return typeof a=="number"&&Number.isInteger(a)&&!Xu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="";function $A(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Ky(e)),e=JA(a.get(i),e);return Ky(e)}function JA(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case yv:i+="";break;default:i+=h}}return i}function Ky(a){return a+yv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Rr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function _v(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lu(this.root,e,this.comparator,!0)}}class Lu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new ze(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Zy(this.data.getIterator())}getIteratorFrom(e){return new Zy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Se(this.comparator);return i.data=e,i}}class Zy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new dn([])}unionWith(e){let i=new Se(Pe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new dn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return vs(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new vv("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const WA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(a){if(qt(!!a,39018),typeof a=="string"){let e=0;const i=WA.exec(a);if(qt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ce(a.seconds),nanos:ce(a.nanos)}}function ce(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Er(a){return typeof a=="string"?Be.fromBase64String(a):Be.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="server_timestamp",Tv="__type__",Av="__previous_value__",Sv="__local_write_time__";function bd(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Tv])===null||i===void 0?void 0:i.stringValue)===Ev}function fc(a){const e=a.mapValue.fields[Av];return bd(e)?fc(e):e}function Jl(a){const e=vr(a.mapValue.fields[Sv].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,i,s,o,h,d,g,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const Zu="(default)";class Wl{constructor(e,i){this.projectId=e,this.database=i||Zu}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===Zu}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="__type__",eS="__max__",zu={mapValue:{}},Rv="__vector__",$u="value";function Tr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?bd(a)?4:iS(a)?9007199254740991:nS(a)?10:11:dt(28295,{value:a})}function ai(a,e){if(a===e)return!0;const i=Tr(a);if(i!==Tr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Jl(a).isEqual(Jl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=vr(o.timestampValue),g=vr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,h){return Er(o.bytesValue).isEqual(Er(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,h){return ce(o.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(a,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return ce(o.integerValue)===ce(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ce(o.doubleValue),g=ce(h.doubleValue);return d===g?Xu(d)===Xu(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return vs(a.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Xy(d)!==Xy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ai(d[_],g[_])))return!1;return!0}(a,e);default:return dt(52216,{left:a})}}function to(a,e){return(a.values||[]).find(i=>ai(i,e))!==void 0}function Es(a,e){if(a===e)return 0;const i=Tr(a),s=Tr(e);if(i!==s)return bt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return bt(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ce(h.integerValue||h.doubleValue),_=ce(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(a,e);case 3:return $y(a.timestampValue,e.timestampValue);case 4:return $y(Jl(a),Jl(e));case 5:return td(a.stringValue,e.stringValue);case 6:return function(h,d){const g=Er(h),_=Er(d);return g.compareTo(_)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=bt(g[v],_[v]);if(A!==0)return A}return bt(g.length,_.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=bt(ce(h.latitude),ce(d.latitude));return g!==0?g:bt(ce(h.longitude),ce(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return Jy(a.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,A;const I=h.fields||{},D=d.fields||{},q=(g=I[$u])===null||g===void 0?void 0:g.arrayValue,Z=(_=D[$u])===null||_===void 0?void 0:_.arrayValue,et=bt(((v=q==null?void 0:q.values)===null||v===void 0?void 0:v.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return et!==0?et:Jy(q,Z)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===zu.mapValue&&d===zu.mapValue)return 0;if(h===zu.mapValue)return 1;if(d===zu.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let I=0;I<_.length&&I<A.length;++I){const D=td(_[I],A[I]);if(D!==0)return D;const q=Es(g[_[I]],v[A[I]]);if(q!==0)return q}return bt(_.length,A.length)}(a.mapValue,e.mapValue);default:throw dt(23264,{Pe:i})}}function $y(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return bt(a,e);const i=vr(a),s=vr(e),o=bt(i.seconds,s.seconds);return o!==0?o:bt(i.nanos,s.nanos)}function Jy(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Es(i[o],s[o]);if(h)return h}return bt(i.length,s.length)}function Ts(a){return ed(a)}function ed(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=vr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Er(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return ot.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=ed(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${ed(i.fields[d])}`;return o+"}"}(a.mapValue):dt(61005,{value:a})}function ju(a){switch(Tr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fc(a);return e?16+ju(e):16;case 5:return 2*a.stringValue.length;case 6:return Er(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+ju(h),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return Rr(s.fields,(h,d)=>{o+=h.length+ju(d)}),o}(a.mapValue);default:throw dt(13486,{value:a})}}function Wy(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function nd(a){return!!a&&"integerValue"in a}function Rd(a){return!!a&&"arrayValue"in a}function t_(a){return!!a&&"nullValue"in a}function e_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Hu(a){return!!a&&"mapValue"in a}function nS(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[bv])===null||i===void 0?void 0:i.stringValue)===Rv}function Gl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Rr(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Gl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Gl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function iS(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===eS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Hu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(i)}setAll(e){let i=Pe.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Gl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Hu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Hu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Rr(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new tn(Gl(this.value))}}function wv(a){const e=[];return Rr(a.fields,(i,s)=>{const o=new Pe([i]);if(Hu(s)){const h=wv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Fe(e,0,_t.min(),_t.min(),_t.min(),tn.empty(),0)}static newFoundDocument(e,i,s,o){return new Fe(e,1,i,_t.min(),s,o,0)}static newNoDocument(e,i){return new Fe(e,2,i,_t.min(),_t.min(),tn.empty(),0)}static newUnknownDocument(e,i){return new Fe(e,3,i,_t.min(),_t.min(),tn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,i){this.position=e,this.inclusive=i}}function n_(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=ot.comparator(ot.fromName(d.referenceValue),i.key):s=Es(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function i_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ai(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,i="asc"){this.field=e,this.dir=i}}function rS(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{}class pe extends Cv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new sS(e,i,s):i==="array-contains"?new uS(e,s):i==="in"?new cS(e,s):i==="not-in"?new hS(e,s):i==="array-contains-any"?new fS(e,s):new pe(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new lS(e,s):new oS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Es(i,this.value)):i!==null&&Tr(this.value)===Tr(i)&&this.matchesComparison(Es(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends Cv{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new Un(e,i)}matches(e){return Iv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Iv(a){return a.op==="and"}function Dv(a){return aS(a)&&Iv(a)}function aS(a){for(const e of a.filters)if(e instanceof Un)return!1;return!0}function id(a){if(a instanceof pe)return a.field.canonicalString()+a.op.toString()+Ts(a.value);if(Dv(a))return a.filters.map(e=>id(e)).join(",");{const e=a.filters.map(i=>id(i)).join(",");return`${a.op}(${e})`}}function Vv(a,e){return a instanceof pe?function(s,o){return o instanceof pe&&s.op===o.op&&s.field.isEqual(o.field)&&ai(s.value,o.value)}(a,e):a instanceof Un?function(s,o){return o instanceof Un&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&Vv(d,o.filters[g]),!0):!1}(a,e):void dt(19439)}function Ov(a){return a instanceof pe?function(i){return`${i.field.canonicalString()} ${i.op} ${Ts(i.value)}`}(a):a instanceof Un?function(i){return i.op.toString()+" {"+i.getFilters().map(Ov).join(" ,")+"}"}(a):"Filter"}class sS extends pe{constructor(e,i,s){super(e,i,s),this.key=ot.fromName(s.referenceValue)}matches(e){const i=ot.comparator(e.key,this.key);return this.matchesComparison(i)}}class lS extends pe{constructor(e,i){super(e,"in",i),this.keys=Mv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class oS extends pe{constructor(e,i){super(e,"not-in",i),this.keys=Mv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Mv(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ot.fromName(s.referenceValue))}class uS extends pe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Rd(i)&&to(i.arrayValue,this.value)}}class cS extends pe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&to(this.value.arrayValue,i)}}class hS extends pe{constructor(e,i){super(e,"not-in",i)}matches(e){if(to(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!to(this.value.arrayValue,i)}}class fS extends pe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Rd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>to(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function r_(a,e=null,i=[],s=[],o=null,h=null,d=null){return new dS(a,e,i,s,o,h,d)}function wd(a){const e=Et(a);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>id(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),hc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ts(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ts(s)).join(",")),e.Ie=i}return e.Ie}function Cd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!rS(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Vv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!i_(a.startAt,e.startAt)&&i_(a.endAt,e.endAt)}function rd(a){return ot.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function mS(a,e,i,s,o,h,d,g){return new Is(a,e,i,s,o,h,d,g)}function Nv(a){return new Is(a)}function a_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function xv(a){return a.collectionGroup!==null}function Fl(a){const e=Et(a);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Se(Pe.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new eo(h,s))}),i.has(Pe.keyField().canonicalString())||e.Ee.push(new eo(Pe.keyField(),s))}return e.Ee}function ni(a){const e=Et(a);return e.de||(e.de=gS(e,Fl(a))),e.de}function gS(a,e){if(a.limitType==="F")return r_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new eo(o.field,h)});const i=a.endAt?new Ju(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Ju(a.startAt.position,a.startAt.inclusive):null;return r_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function ad(a,e){const i=a.filters.concat([e]);return new Is(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Wu(a,e,i){return new Is(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function dc(a,e){return Cd(ni(a),ni(e))&&a.limitType===e.limitType}function Uv(a){return`${wd(ni(a))}|lt:${a.limitType}`}function ms(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>Ov(o)).join(", ")}]`),hc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ts(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ts(o)).join(",")),`Target(${s})`}(ni(a))}; limitType=${a.limitType})`}function mc(a,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ot.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,o){for(const h of Fl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,_){const v=n_(d,g,_);return d.inclusive?v<=0:v<0}(s.startAt,Fl(s),o)||s.endAt&&!function(d,g,_){const v=n_(d,g,_);return d.inclusive?v>=0:v>0}(s.endAt,Fl(s),o))}(a,e)}function pS(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Lv(a){return(e,i)=>{let s=!1;for(const o of Fl(a)){const h=yS(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function yS(a,e,i){const s=a.field.isKeyField()?ot.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?Es(_,v):dt(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return dt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Rr(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return _v(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=new ne(ot.comparator);function Ui(){return _S}const zv=new ne(ot.comparator);function ql(...a){let e=zv;for(const i of a)e=e.insert(i.key,i);return e}function Pv(a){let e=zv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function fa(){return Ql()}function Bv(){return Ql()}function Ql(){return new va(a=>a.toString(),(a,e)=>a.isEqual(e))}const vS=new ne(ot.comparator),ES=new Se(ot.comparator);function Dt(...a){let e=ES;for(const i of a)e=e.add(i);return e}const TS=new Se(bt);function AS(){return TS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xu(e)?"-0":e}}function kv(a){return{integerValue:""+a}}function SS(a,e){return ZA(e)?kv(e):Id(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(){this._=void 0}}function bS(a,e,i){return a instanceof tc?function(o,h){const d={fields:{[Tv]:{stringValue:Ev},[Sv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&bd(h)&&(h=fc(h)),h&&(d.fields[Av]=h),{mapValue:d}}(i,e):a instanceof no?jv(a,e):a instanceof io?Hv(a,e):function(o,h){const d=qv(o,h),g=s_(d)+s_(o.Re);return nd(d)&&nd(o.Re)?kv(g):Id(o.serializer,g)}(a,e)}function RS(a,e,i){return a instanceof no?jv(a,e):a instanceof io?Hv(a,e):i}function qv(a,e){return a instanceof ec?function(s){return nd(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class tc extends gc{}class no extends gc{constructor(e){super(),this.elements=e}}function jv(a,e){const i=Gv(e);for(const s of a.elements)i.some(o=>ai(o,s))||i.push(s);return{arrayValue:{values:i}}}class io extends gc{constructor(e){super(),this.elements=e}}function Hv(a,e){let i=Gv(e);for(const s of a.elements)i=i.filter(o=>!ai(o,s));return{arrayValue:{values:i}}}class ec extends gc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function s_(a){return ce(a.integerValue||a.doubleValue)}function Gv(a){return Rd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function wS(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof no&&o instanceof no||s instanceof io&&o instanceof io?vs(s.elements,o.elements,ai):s instanceof ec&&o instanceof ec?ai(s.Re,o.Re):s instanceof tc&&o instanceof tc}(a.transform,e.transform)}class CS{constructor(e,i){this.version=e,this.transformResults=i}}class ii{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class pc{}function Fv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Yv(a.key,ii.none()):new ao(a.key,a.data,ii.none());{const i=a.data,s=tn.empty();let o=new Se(Pe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new wr(a.key,s,new dn(o.toArray()),ii.none())}}function IS(a,e,i){a instanceof ao?function(o,h,d){const g=o.value.clone(),_=o_(o.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof wr?function(o,h,d){if(!Gu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=o_(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(Qv(o)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(a,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Yl(a,e,i,s){return a instanceof ao?function(h,d,g,_){if(!Gu(h.precondition,d))return g;const v=h.value.clone(),A=u_(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(a,e,i,s):a instanceof wr?function(h,d,g,_){if(!Gu(h.precondition,d))return g;const v=u_(h.fieldTransforms,_,d),A=d.data;return A.setAll(Qv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(I=>I.field))}(a,e,i,s):function(h,d,g){return Gu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function DS(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),h=qv(s.transform,o||null);h!=null&&(i===null&&(i=tn.empty()),i.set(s.field,h))}return i||null}function l_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vs(s,o,(h,d)=>wS(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class ao extends pc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class wr extends pc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Qv(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function o_(a,e,i){const s=new Map;qt(a.length===i.length,32656,{Ve:i.length,me:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,RS(d,g,i[o]))}return s}function u_(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,bS(h,d,e))}return s}class Yv extends pc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VS extends pc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&IS(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Yl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Yl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Bv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const _=Fv(d,g);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Dt())}isEqual(e){return this.batchId===e.batchId&&vs(this.mutations,e.mutations,(i,s)=>l_(i,s))&&vs(this.baseMutations,e.baseMutations,(i,s)=>l_(i,s))}}class Dd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){qt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return vS}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Dd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Nt;function xS(a){switch(a){case K.OK:return dt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return dt(15467,{code:a})}}function Kv(a){if(a===void 0)return xi("GRPC error has no .code"),K.UNKNOWN;switch(a){case ge.OK:return K.OK;case ge.CANCELLED:return K.CANCELLED;case ge.UNKNOWN:return K.UNKNOWN;case ge.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ge.INTERNAL:return K.INTERNAL;case ge.UNAVAILABLE:return K.UNAVAILABLE;case ge.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ge.NOT_FOUND:return K.NOT_FOUND;case ge.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ge.ABORTED:return K.ABORTED;case ge.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ge.DATA_LOSS:return K.DATA_LOSS;default:return dt(39323,{code:a})}}(Nt=ge||(ge={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=new mr([4294967295,4294967295],0);function c_(a){const e=gv().encode(a),i=new lv;return i.update(e),new Uint8Array(i.digest())}function h_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new mr([i,s],0),new mr([o,h],0)]}class Vd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new jl(`Invalid padding: ${i}`);if(s<0)throw new jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new jl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=mr.fromNumber(this.pe)}we(e,i,s){let o=e.add(i.multiply(mr.fromNumber(s)));return o.compare(US)===1&&(o=new mr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=c_(e),[s,o]=h_(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,o,h);if(!this.Se(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Vd(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=c_(e),[s,o]=h_(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,so.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new yc(_t.min(),o,new ne(bt),Ui(),Dt())}}class so{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new so(s,i,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,i,s,o){this.De=e,this.removedTargetIds=i,this.key=s,this.ve=o}}class Xv{constructor(e,i){this.targetId=e,this.Ce=i}}class Zv{constructor(e,i,s=Be.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class f_{constructor(){this.Fe=0,this.Me=d_(),this.xe=Be.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Dt(),i=Dt(),s=Dt();return this.Me.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:dt(38017,{changeType:h})}}),new so(this.xe,this.Oe,e,i,s)}Qe(){this.Ne=!1,this.Me=d_()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class LS{constructor(e){this.ze=e,this.je=new Map,this.He=Ui(),this.Je=Pu(),this.Ye=Pu(),this.Ze=new ne(bt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const s=this.rt(i);switch(e.state){case 0:this.it(i)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(e.resumeToken));break;default:dt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((s,o)=>{this.it(o)&&i(o)})}ot(e){const i=e.targetId,s=e.Ce.count,o=this._t(i);if(o){const h=o.target;if(rd(h))if(s===0){const d=new ot(h.path);this.tt(i,d,Fe.newNoDocument(d,_t.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this.ut(i);if(d!==s){const g=this.ct(e),_=g?this.lt(g,e,d):1;if(_!==0){this.st(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Er(s).toUint8Array()}catch(_){if(_ instanceof vv)return _s("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Vd(d,o,h)}catch(_){return _s(_ instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.pe===0?null:g}lt(e,i,s){return i.Ce.count===s-this.Tt(e,i.targetId)?0:2}Tt(e,i){const s=this.ze.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,h,null),o++)}),o}It(e){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&rd(g.target)){const _=new ot(g.target.path);this.Et(_).has(d)||this.dt(d,_)||this.tt(d,_,Fe.newNoDocument(_,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let s=Dt();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this._t(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const o=new yc(e,i,this.Ze,this.He,s);return this.He=Ui(),this.Je=Pu(),this.Ye=Pu(),this.Ze=new ne(bt),o}et(e,i){if(!this.it(e))return;const s=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),s&&(this.He=this.He.insert(i,s))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new f_,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new Se(bt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new Se(bt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new f_),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Pu(){return new ne(ot.comparator)}function d_(){return new ne(ot.comparator)}const zS={asc:"ASCENDING",desc:"DESCENDING"},PS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BS={and:"AND",or:"OR"};class kS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function sd(a,e){return a.useProto3Json||hc(e)?e:{value:e}}function nc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $v(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function qS(a,e){return nc(a,e.toTimestamp())}function ri(a){return qt(!!a,49232),_t.fromTimestamp(function(i){const s=vr(i);return new Ae(s.seconds,s.nanos)}(a))}function Od(a,e){return ld(a,e).canonicalString()}function ld(a,e){const i=function(o){return new Jt(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function Jv(a){const e=Jt.fromString(a);return qt(i0(e),10190,{key:e.toString()}),e}function od(a,e){return Od(a.databaseId,e.path)}function qf(a,e){const i=Jv(e);if(i.get(1)!==a.databaseId.projectId)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ot(t0(i))}function Wv(a,e){return Od(a.databaseId,e)}function jS(a){const e=Jv(a);return e.length===4?Jt.emptyPath():t0(e)}function ud(a){return new Jt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function t0(a){return qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function m_(a,e,i){return{name:od(a,e),fields:i.value.mapValue.fields}}function HS(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:dt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?K.UNKNOWN:Kv(v.code);return new rt(A,v.message||"")}(d);i=new Zv(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=qf(a,s.document.name),h=ri(s.document.updateTime),d=s.document.createTime?ri(s.document.createTime):_t.min(),g=new tn({mapValue:{fields:s.document.fields}}),_=Fe.newFoundDocument(o,h,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new Fu(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=qf(a,s.document),h=s.readTime?ri(s.readTime):_t.min(),d=Fe.newNoDocument(o,h),g=s.removedTargetIds||[];i=new Fu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=qf(a,s.document),h=s.removedTargetIds||[];i=new Fu([],h,o,null)}else{if(!("filter"in e))return dt(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new NS(o,h),g=s.targetId;i=new Xv(g,d)}}return i}function GS(a,e){let i;if(e instanceof ao)i={update:m_(a,e.key,e.value)};else if(e instanceof Yv)i={delete:od(a,e.key)};else if(e instanceof wr)i={update:m_(a,e.key,e.data),updateMask:WS(e.fieldMask)};else{if(!(e instanceof VS))return dt(16599,{ft:e.type});i={verify:od(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof tc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof no)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof io)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ec)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw dt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:qS(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt(27497)}(a,e.precondition)),i}function FS(a,e){return a&&a.length>0?(qt(e!==void 0,14353),a.map(i=>function(o,h){let d=o.updateTime?ri(o.updateTime):ri(h);return d.isEqual(_t.min())&&(d=ri(h)),new CS(d,o.transformResults||[])}(i,e))):[]}function QS(a,e){return{documents:[Wv(a,e.path)]}}function YS(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Wv(a,o);const h=function(v){if(v.length!==0)return n0(Un.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(D){return{field:gs(D.field),direction:ZS(D.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=sd(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{gt:i,parent:o}}function KS(a){let e=jS(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){qt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(I){const D=e0(I);return D instanceof Un&&Dv(D)?D.getFilters():[D]}(i.where));let d=[];i.orderBy&&(d=function(I){return I.map(D=>function(Z){return new eo(ps(Z.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(D))}(i.orderBy));let g=null;i.limit&&(g=function(I){let D;return D=typeof I=="object"?I.value:I,hc(D)?null:D}(i.limit));let _=null;i.startAt&&(_=function(I){const D=!!I.before,q=I.values||[];return new Ju(q,D)}(i.startAt));let v=null;return i.endAt&&(v=function(I){const D=!I.before,q=I.values||[];return new Ju(q,D)}(i.endAt)),mS(e,o,d,h,g,"F",_,v)}function XS(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function e0(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ps(i.unaryFilter.field);return pe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ps(i.unaryFilter.field);return pe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ps(i.unaryFilter.field);return pe.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ps(i.unaryFilter.field);return pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}}(a):a.fieldFilter!==void 0?function(i){return pe.create(ps(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return Un.create(i.compositeFilter.filters.map(s=>e0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return dt(1026)}}(i.compositeFilter.op))}(a):dt(30097,{filter:a})}function ZS(a){return zS[a]}function $S(a){return PS[a]}function JS(a){return BS[a]}function gs(a){return{fieldPath:a.canonicalString()}}function ps(a){return Pe.fromServerFormat(a.fieldPath)}function n0(a){return a instanceof pe?function(i){if(i.op==="=="){if(e_(i.value))return{unaryFilter:{field:gs(i.field),op:"IS_NAN"}};if(t_(i.value))return{unaryFilter:{field:gs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(e_(i.value))return{unaryFilter:{field:gs(i.field),op:"IS_NOT_NAN"}};if(t_(i.value))return{unaryFilter:{field:gs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gs(i.field),op:$S(i.op),value:i.value}}}(a):a instanceof Un?function(i){const s=i.getFilters().map(o=>n0(o));return s.length===1?s[0]:{compositeFilter:{op:JS(i.op),filters:s}}}(a):dt(54877,{filter:a})}function WS(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function i0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,i,s,o,h=_t.min(),d=_t.min(),g=Be.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e){this.wt=e}}function eb(a){const e=KS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Wu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this.Cn=new ib}addToCollectionParentIndex(e,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(e,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Y.resolve()}deleteFieldIndex(e,i){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,i){return Y.resolve()}getDocumentsMatchingTarget(e,i){return Y.resolve(null)}getIndexType(e,i){return Y.resolve(0)}getFieldIndexes(e,i){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,i){return Y.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,i){return Y.resolve(_r.min())}updateCollectionGroup(e,i,s){return Y.resolve()}updateIndexEntries(e,i){return Y.resolve()}}class ib{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Se(Jt.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Se(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},r0=41943040;class We{static withCacheSize(e){return new We(e,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */We.DEFAULT_COLLECTION_PERCENTILE=10,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,We.DEFAULT=new We(r0,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),We.DISABLED=new We(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new As(0)}static lr(){return new As(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="LruGarbageCollector",rb=1048576;function y_([a,e],[i,s]){const o=bt(a,i);return o===0?bt(e,s):o}class ab{constructor(e){this.Er=e,this.buffer=new Se(y_),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();y_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class sb{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){it(p_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Cs(i)?it(p_,"Ignoring IndexedDB error during garbage collection: ",i):await ws(i)}await this.mr(3e5)})}}class lb{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return Y.resolve(cc.le);const s=new ab(i);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.gr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(g_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g_):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let s,o,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,d=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(s=I,g=Date.now(),this.removeTargets(e,s,i))).next(I=>(h=I,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(I=>(v=Date.now(),ds()<=xt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${I} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:I})))}}function ob(a,e){return new lb(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.changes=new va(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Y.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Yl(s.mutation,o,dn.empty(),Ae.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Dt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Dt()){const o=fa();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=ql();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=fa();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Dt()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=Ui();const d=Ql(),g=function(){return Ql()}();return i.forEach((_,v)=>{const A=s.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof wr)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Yl(A.mutation,v,A.mutation.getFieldMask(),Ae.now())):d.set(v.key,dn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var I;return g.set(v,new cb(A,(I=d.get(v))!==null&&I!==void 0?I:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Ql();let o=new ne((d,g)=>d-g),h=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=s.get(_)||dn.empty();A=g.applyToLocalView(v,A),s.set(_,A);const I=(o.get(g.batchId)||Dt()).add(_);o=o.insert(g.batchId,I)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,I=Bv();A.forEach(D=>{if(!h.has(D)){const q=Fv(i.get(D),s.get(D));q!==null&&I.set(D,q),h=h.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,I))}return Y.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return ot.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):xv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):Y.resolve(fa());let g=$l,_=h;return d.next(v=>Y.forEach(v,(A,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),h.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(e,A).next(D=>{_=_.insert(A,D)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Dt())).next(A=>({batchId:g,changes:Pv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ot(i)).next(s=>{let o=ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=ql();return this.indexManager.getCollectionParents(e,h).next(g=>Y.forEach(g,_=>{const v=function(I,D){return new Is(D,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(A=>{A.forEach((I,D)=>{d=d.insert(I,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Fe.newInvalidDocument(A)))});let g=ql();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Yl(A.mutation,v,dn.empty(),Ae.now()),mc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return Y.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ri(o.createTime)}}(i)),Y.resolve()}getNamedQuery(e,i){return Y.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(o){return{name:o.name,query:eb(o.bundledQuery),readTime:ri(o.readTime)}}(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(){this.overlays=new ne(ot.comparator),this.Qr=new Map}getOverlay(e,i){return Y.resolve(this.overlays.get(i))}getOverlays(e,i){const s=fa();return Y.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.bt(e,i,h)}),Y.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(s)),Y.resolve()}getOverlaysForCollection(e,i,s){const o=fa(),h=i.length+1,d=new ot(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>s&&o.set(_.getKey(),_)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new ne((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=h.get(v.largestBatchId);A===null&&(A=fa(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=fa(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=o)););return Y.resolve(g)}bt(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new MS(i,s));let h=this.Qr.get(i);h===void 0&&(h=Dt(),this.Qr.set(i,h)),this.Qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(){this.$r=new Se(Ve.Ur),this.Kr=new Se(Ve.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const s=new Ve(e,i);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.zr(new Ve(e,i))}jr(e,i){e.forEach(s=>this.removeReference(s,i))}Hr(e){const i=new ot(new Jt([])),s=new Ve(i,e),o=new Ve(i,e+1),h=[];return this.Kr.forEachInRange([s,o],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new ot(new Jt([])),s=new Ve(i,e),o=new Ve(i,e+1);let h=Dt();return this.Kr.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ve(e,0),s=this.$r.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ve{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return ot.comparator(e.key,i.key)||bt(e.Zr,i.Zr)}static Wr(e,i){return bt(e.Zr,i.Zr)||ot.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Se(Ve.Ur)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new OS(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Xr=this.Xr.add(new Ve(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(e,i){return Y.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ti(s),h=o<0?0:o;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Sd:this.nr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([s,o],d=>{const g=this.ei(d.Zr);h.push(g)}),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Se(bt);return i.forEach(o=>{const h=new Ve(o,0),d=new Ve(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],g=>{s=s.add(g.Zr)})}),Y.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;ot.isDocumentKey(h)||(h=h.child(""));const d=new Ve(new ot(h),0);let g=new Se(bt);return this.Xr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Zr)),!0)},d),Y.resolve(this.ni(g))}ni(e){const i=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){qt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return Y.forEach(i.mutations,o=>{const h=new Ve(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,i){const s=new Ve(i,0),o=this.Xr.firstAfterOrEqual(s);return Y.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.ii=e,this.docs=function(){return new ne(ot.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ii(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Y.resolve(s?s.document.mutableCopy():Fe.newInvalidDocument(i))}getEntries(e,i){let s=Ui();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Fe.newInvalidDocument(o))}),Y.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Ui();const d=i.path,g=new ot(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||QA(FA(A),s)<=0||(o.has(A.key)||mc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(e,i,s,o){dt(9500)}si(e,i){return Y.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new yb(this)}getSize(e){return Y.resolve(this.size)}}class yb extends ub{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),Y.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.persistence=e,this.oi=new va(i=>wd(i),Cd),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this._i=0,this.ai=new Md,this.targetCount=0,this.ui=As.cr()}forEachTarget(e,i){return this.oi.forEach((s,o)=>i(o)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this._i&&(this._i=i),Y.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new As(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,Y.resolve()}updateTargetData(e,i){return this.Tr(i),Y.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),Y.waitFor(h).next(()=>o)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,i){const s=this.oi.get(i)||null;return Y.resolve(s)}addMatchingKeys(e,i,s){return this.ai.Gr(i,s),Y.resolve()}removeMatchingKeys(e,i,s){this.ai.jr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),Y.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),Y.resolve()}getMatchingKeysForTargetId(e,i){const s=this.ai.Yr(i);return Y.resolve(s)}containsKey(e,i){return Y.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,i){this.ci={},this.overlays={},this.li=new cc(0),this.hi=!1,this.hi=!0,this.Pi=new mb,this.referenceDelegate=e(this),this.Ti=new _b(this),this.indexManager=new nb,this.remoteDocumentCache=function(o){return new pb(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new tb(i),this.Ei=new fb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new db,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ci[e.toKey()];return s||(s=new gb(i,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,s){it("MemoryPersistence","Starting transaction:",e);const o=new vb(this.li.next());return this.referenceDelegate.di(),s(o).next(h=>this.referenceDelegate.Ai(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ri(e,i){return Y.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,i)))}}class vb extends KA{constructor(e){super(),this.currentSequenceNumber=e}}class Nd{constructor(e){this.persistence=e,this.Vi=new Md,this.mi=null}static fi(e){return new Nd(e)}get gi(){if(this.mi)return this.mi;throw dt(60996)}addReference(e,i,s){return this.Vi.addReference(s,i),this.gi.delete(s.toString()),Y.resolve()}removeReference(e,i,s){return this.Vi.removeReference(s,i),this.gi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),Y.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.gi.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.gi,s=>{const o=ot.fromPath(s);return this.pi(e,o).next(h=>{h||i.removeEntry(o,_t.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(s=>{s?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return Y.or([()=>Y.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class ic{constructor(e,i){this.persistence=e,this.yi=new va(s=>$A(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=ob(this,i)}static fi(e,i){return new ic(e,i)}di(){}Ai(e){return Y.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}Sr(e){let i=0;return this.yr(e,s=>{i++}).next(()=>i)}yr(e,i){return Y.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(h=>h?Y.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.si(e,d=>this.Dr(e,d,i).next(g=>{g||(s++,h.removeEntry(d,_t.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),Y.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.yi.set(s,e.currentSequenceNumber),Y.resolve()}removeReference(e,i,s){return this.yi.set(s,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),Y.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ju(e.data.value)),i}Dr(e,i,s){return Y.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.yi.get(i);return Y.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.ds=s,this.As=o}static Rs(e,i){let s=Dt(),o=Dt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new xd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return g1()?8:XA(f1())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.Ss(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new Eb;return this.bs(e,i,d).next(g=>{if(h.result=g,this.fs)return this.Ds(e,i,d,g.size)})}).next(()=>h.result)}Ds(e,i,s,o){return s.documentReadCount<this.gs?(ds()<=xt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",ms(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Y.resolve()):(ds()<=xt.DEBUG&&it("QueryEngine","Query:",ms(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(ds()<=xt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",ms(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(i))):Y.resolve())}ws(e,i){if(a_(i))return Y.resolve(null);let s=ni(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Wu(i,null,"F"),s=ni(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Dt(...h);return this.ys.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(_=>{const v=this.vs(i,g);return this.Cs(i,v,d,_.readTime)?this.ws(e,Wu(i,null,"F")):this.Fs(e,v,i,_)}))})))}Ss(e,i,s,o){return a_(i)||o.isEqual(_t.min())?Y.resolve(null):this.ys.getDocuments(e,s).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,s,o)?Y.resolve(null):(ds()<=xt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ms(i)),this.Fs(e,d,i,GA(o,$l)).next(g=>g))})}vs(e,i){let s=new Se(Lv(e));return i.forEach((o,h)=>{mc(e,h)&&(s=s.add(h))}),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}bs(e,i,s){return ds()<=xt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",ms(i)),this.ys.getDocumentsMatchingQuery(e,i,_r.min(),s)}Fs(e,i,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="LocalStore",Ab=3e8;class Sb{constructor(e,i,s,o){this.persistence=e,this.Ms=i,this.serializer=o,this.xs=new ne(bt),this.Os=new va(h=>wd(h),Cd),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hb(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function bb(a,e,i,s){return new Sb(a,e,i,s)}async function s0(a,e){const i=Et(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let _=Dt();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next(v=>({ks:v,removedBatchIds:d,addedBatchIds:g}))})})}function Rb(a,e){const i=Et(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const I=v.batch,D=I.keys();let q=Y.resolve();return D.forEach(Z=>{q=q.next(()=>A.getEntry(_,Z)).next(et=>{const $=v.docVersions.get(Z);qt($!==null,48541),et.version.compareTo($)<0&&(I.applyToRemoteDocument(et,v),et.isValidDocument()&&(et.setReadTime(v.commitVersion),A.addEntry(et)))})}),q.next(()=>g.mutationQueue.removeMutationBatch(_,I))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let _=Dt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function l0(a){const e=Et(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function wb(a,e){const i=Et(a),s=e.snapshotVersion;let o=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});o=i.xs;const g=[];e.targetChanges.forEach((A,I)=>{const D=o.get(I);if(!D)return;g.push(i.Ti.removeMatchingKeys(h,A.removedDocuments,I).next(()=>i.Ti.addMatchingKeys(h,A.addedDocuments,I)));let q=D.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(I)!==null?q=q.withResumeToken(Be.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,s)),o=o.insert(I,q),function(et,$,vt){return et.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=Ab?!0:vt.addedDocuments.size+vt.modifiedDocuments.size+vt.removedDocuments.size>0}(D,q,A)&&g.push(i.Ti.updateTargetData(h,q))});let _=Ui(),v=Dt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(Cb(h,d,e.documentUpdates).next(A=>{_=A.qs,v=A.Qs})),!s.isEqual(_t.min())){const A=i.Ti.getLastRemoteSnapshotVersion(h).next(I=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return Y.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.xs=o,h))}function Cb(a,e,i){let s=Dt(),o=Dt();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=Ui();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(_t.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):it(Ud,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{qs:d,Qs:o}})}function Ib(a,e){const i=Et(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Sd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Db(a,e){const i=Et(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Ti.getTargetData(s,e).next(h=>h?(o=h,Y.resolve(o)):i.Ti.allocateTargetId(s).next(d=>(o=new hr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.xs=i.xs.insert(s.targetId,s),i.Os.set(e,s.targetId)),s})}async function cd(a,e,i){const s=Et(a),o=s.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Cs(d))throw d;it(Ud,`Failed to update sequence numbers for target ${e}: ${d}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function __(a,e,i){const s=Et(a);let o=_t.min(),h=Dt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const I=Et(_),D=I.Os.get(A);return D!==void 0?Y.resolve(I.xs.get(D)):I.Ti.getTargetData(v,A)}(s,d,ni(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,e,i?o:_t.min(),i?h:Dt())).next(g=>(Vb(s,pS(e),g),{documents:g,$s:h})))}function Vb(a,e,i){let s=a.Ns.get(e)||_t.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.Ns.set(e,s)}class v_{constructor(){this.activeTargetIds=AS()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ob{constructor(){this.xo=new v_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,s){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new v_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="ConnectivityMonitor";class T_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){it(E_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){it(E_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu=null;function hd(){return Bu===null?Bu=function(){return 268435456+Math.round(2147483648*Math.random())}():Bu++,"0x"+Bu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="RestConnection",Nb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xb{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Zu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,i,s,o,h){const d=hd(),g=this.jo(e,i.toUriEncodedString());it(jf,`Sending RPC '${e}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(_,o,h);const{host:v}=new URL(g),A=vd(v);return this.Jo(e,g,_,s,A).then(I=>(it(jf,`Received RPC '${e}' ${d}: `,I),I),I=>{throw _s(jf,`RPC '${e}' ${d} failed with error: `,I,"url: ",g,"request:",s),I})}Yo(e,i,s,o,h,d){return this.zo(e,i,s,o,h)}Ho(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}jo(e,i){const s=Nb[e];return`${this.Ko}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class Lb extends xb{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,h){const d=hd();return new Promise((g,_)=>{const v=new ov;v.setWithCredentials(!0),v.listenOnce(uv.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case qu.NO_ERROR:const I=v.getResponseJson();it(He,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(I)),g(I);break;case qu.TIMEOUT:it(He,`RPC '${e}' ${d} timed out`),_(new rt(K.DEADLINE_EXCEEDED,"Request time out"));break;case qu.HTTP_ERROR:const D=v.getStatus();if(it(He,`RPC '${e}' ${d} failed with status:`,D,"response text:",v.getResponseText()),D>0){let q=v.getResponseJson();Array.isArray(q)&&(q=q[0]);const Z=q==null?void 0:q.error;if(Z&&Z.status&&Z.message){const et=function(vt){const gt=vt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(gt)>=0?gt:K.UNKNOWN}(Z.status);_(new rt(et,Z.message))}else _(new rt(K.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new rt(K.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{it(He,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);it(He,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",A,s,15)})}T_(e,i,s){const o=hd(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=fv(),g=hv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Ho(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const A=h.join("");it(He,`Creating RPC '${e}' stream ${o}: ${A}`,_);const I=d.createWebChannel(A,_);let D=!1,q=!1;const Z=new Ub({Zo:$=>{q?it(He,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(D||(it(He,`Opening RPC '${e}' stream ${o} transport.`),I.open(),D=!0),it(He,`RPC '${e}' stream ${o} sending:`,$),I.send($))},Xo:()=>I.close()}),et=($,vt,gt)=>{$.listen(vt,ft=>{try{gt(ft)}catch(Ut){setTimeout(()=>{throw Ut},0)}})};return et(I,kl.EventType.OPEN,()=>{q||(it(He,`RPC '${e}' stream ${o} transport opened.`),Z.__())}),et(I,kl.EventType.CLOSE,()=>{q||(q=!0,it(He,`RPC '${e}' stream ${o} transport closed`),Z.u_())}),et(I,kl.EventType.ERROR,$=>{q||(q=!0,_s(He,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),Z.u_(new rt(K.UNAVAILABLE,"The operation could not be completed")))}),et(I,kl.EventType.MESSAGE,$=>{var vt;if(!q){const gt=$.data[0];qt(!!gt,16349);const ft=gt,Ut=(ft==null?void 0:ft.error)||((vt=ft[0])===null||vt===void 0?void 0:vt.error);if(Ut){it(He,`RPC '${e}' stream ${o} received error:`,Ut);const Tt=Ut.status;let zt=function(w){const O=ge[w];if(O!==void 0)return Kv(O)}(Tt),M=Ut.message;zt===void 0&&(zt=K.INTERNAL,M="Unknown error status: "+Tt+" with message "+Ut.message),q=!0,Z.u_(new rt(zt,M)),I.close()}else it(He,`RPC '${e}' stream ${o} received:`,gt),Z.c_(gt)}}),et(g,cv.STAT_EVENT,$=>{$.stat===Wf.PROXY?it(He,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===Wf.NOPROXY&&it(He,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Z.a_()},0),Z}}function Hf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(a){return new kS(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,i,s=1e3,o=1.5,h=6e4){this.xi=e,this.timerId=i,this.I_=s,this.E_=o,this.d_=h,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const i=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),o=Math.max(0,i-s);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="PersistentStream";class u0{constructor(e,i,s,o,h,d,g,_){this.xi=e,this.y_=s,this.w_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new o0(e,i)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,i){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(xi(i.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.S_===i&&this.K_(s,o)},s=>{e(()=>{const o=new rt(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(o)})})}K_(e,i){const s=this.U_(this.S_);this.stream=this.G_(e,i),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.W_(o))}),this.stream.onMessage(o=>{s(()=>++this.v_==1?this.z_(o):this.onNext(o))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return it(A_,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return i=>{this.xi.enqueueAndForget(()=>this.S_===e?i():(it(A_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zb extends u0{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}G_(e,i){return this.connection.T_("Listen",e,i)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const i=HS(this.serializer,e),s=function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?ri(d.readTime):_t.min()}(e);return this.listener.j_(i,s)}H_(e){const i={};i.database=ud(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=rd(_)?{documents:QS(h,_)}:{query:YS(h,_).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=$v(h,d.resumeToken);const v=sd(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=nc(h,d.snapshotVersion.toTimestamp());const v=sd(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const s=XS(this.serializer,e);s&&(i.labels=s),this.L_(i)}J_(e){const i={};i.database=ud(this.serializer),i.removeTarget=e,this.L_(i)}}class Pb extends u0{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,i){return this.connection.T_("Write",e,i)}z_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const i=FS(e.writeResults,e.commitTime),s=ri(e.commitTime);return this.listener.ea(s,i)}ta(){const e={};e.database=ud(this.serializer),this.L_(e)}Z_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>GS(this.serializer,s))};this.L_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{}class kb extends Bb{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.na=!1}ra(){if(this.na)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,ld(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new rt(K.UNKNOWN,h.toString())})}Yo(e,i,s,o,h){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(e,ld(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(K.UNKNOWN,d.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class qb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(xi(i),this.oa=!1):it("OnlineStateTracker",i)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RemoteStore";class jb{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=h,this.Ea.No(d=>{s.enqueueAndForget(async()=>{Ea(this)&&(it(ga,"Restarting streams for network reachability change."),await async function(_){const v=Et(_);v.Ta.add(4),await lo(v),v.da.set("Unknown"),v.Ta.delete(4),await vc(v)}(this))})}),this.da=new qb(s,o)}}async function vc(a){if(Ea(a))for(const e of a.Ia)await e(!0)}async function lo(a){for(const e of a.Ia)await e(!1)}function c0(a,e){const i=Et(a);i.Pa.has(e.targetId)||(i.Pa.set(e.targetId,e),Bd(i)?Pd(i):Ds(i).M_()&&zd(i,e))}function Ld(a,e){const i=Et(a),s=Ds(i);i.Pa.delete(e),s.M_()&&h0(i,e),i.Pa.size===0&&(s.M_()?s.N_():Ea(i)&&i.da.set("Unknown"))}function zd(a,e){if(a.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ds(a).H_(e)}function h0(a,e){a.Aa.Ke(e),Ds(a).J_(e)}function Pd(a){a.Aa=new LS({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>a.Pa.get(e)||null,Pt:()=>a.datastore.serializer.databaseId}),Ds(a).start(),a.da._a()}function Bd(a){return Ea(a)&&!Ds(a).F_()&&a.Pa.size>0}function Ea(a){return Et(a).Ta.size===0}function f0(a){a.Aa=void 0}async function Hb(a){a.da.set("Online")}async function Gb(a){a.Pa.forEach((e,i)=>{zd(a,e)})}async function Fb(a,e){f0(a),Bd(a)?(a.da.ca(e),Pd(a)):a.da.set("Unknown")}async function Qb(a,e,i){if(a.da.set("Online"),e instanceof Zv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Pa.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Pa.delete(g),o.Aa.removeTarget(g))}(a,e)}catch(s){it(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await rc(a,s)}else if(e instanceof Fu?a.Aa.Xe(e):e instanceof Xv?a.Aa.ot(e):a.Aa.nt(e),!i.isEqual(_t.min()))try{const s=await l0(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.Aa.It(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Pa.get(v);A&&h.Pa.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h.Pa.get(_);if(!A)return;h.Pa.set(_,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),h0(h,_);const I=new hr(A.target,_,v,A.sequenceNumber);zd(h,I)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){it(ga,"Failed to raise snapshot:",s),await rc(a,s)}}async function rc(a,e,i){if(!Cs(e))throw e;a.Ta.add(1),await lo(a),a.da.set("Offline"),i||(i=()=>l0(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{it(ga,"Retrying IndexedDB access"),await i(),a.Ta.delete(1),await vc(a)})}function d0(a,e){return e().catch(i=>rc(a,i,e))}async function Ec(a){const e=Et(a),i=Ar(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:Sd;for(;Yb(e);)try{const o=await Ib(e.localStore,s);if(o===null){e.ha.length===0&&i.N_();break}s=o.batchId,Kb(e,o)}catch(o){await rc(e,o)}m0(e)&&g0(e)}function Yb(a){return Ea(a)&&a.ha.length<10}function Kb(a,e){a.ha.push(e);const i=Ar(a);i.M_()&&i.Y_&&i.Z_(e.mutations)}function m0(a){return Ea(a)&&!Ar(a).F_()&&a.ha.length>0}function g0(a){Ar(a).start()}async function Xb(a){Ar(a).ta()}async function Zb(a){const e=Ar(a);for(const i of a.ha)e.Z_(i.mutations)}async function $b(a,e,i){const s=a.ha.shift(),o=Dd.from(s,e,i);await d0(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await Ec(a)}async function Jb(a,e){e&&Ar(a).Y_&&await async function(s,o){if(function(d){return xS(d)&&d!==K.ABORTED}(o.code)){const h=s.ha.shift();Ar(s).O_(),await d0(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await Ec(s)}}(a,e),m0(a)&&g0(a)}async function S_(a,e){const i=Et(a);i.asyncQueue.verifyOperationInProgress(),it(ga,"RemoteStore received new credentials");const s=Ea(i);i.Ta.add(3),await lo(i),s&&i.da.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ta.delete(3),await vc(i)}async function Wb(a,e){const i=Et(a);e?(i.Ta.delete(2),await vc(i)):e||(i.Ta.add(2),await lo(i),i.da.set("Unknown"))}function Ds(a){return a.Ra||(a.Ra=function(i,s,o){const h=Et(i);return h.ra(),new zb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{e_:Hb.bind(null,a),n_:Gb.bind(null,a),i_:Fb.bind(null,a),j_:Qb.bind(null,a)}),a.Ia.push(async e=>{e?(a.Ra.O_(),Bd(a)?Pd(a):a.da.set("Unknown")):(await a.Ra.stop(),f0(a))})),a.Ra}function Ar(a){return a.Va||(a.Va=function(i,s,o){const h=Et(i);return h.ra(),new Pb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{e_:()=>Promise.resolve(),n_:Xb.bind(null,a),i_:Jb.bind(null,a),X_:Zb.bind(null,a),ea:$b.bind(null,a)}),a.Ia.push(async e=>{e?(a.Va.O_(),await Ec(a)):(await a.Va.stop(),a.ha.length>0&&(it(ga,`Stopping write stream with ${a.ha.length} pending writes`),a.ha=[]))})),a.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new kd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qd(a,e){if(xi("AsyncQueue",`${e}: ${a}`),Cs(a))return new rt(K.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{static emptySet(e){return new ys(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ot.comparator(i.key,s.key):(i,s)=>ot.comparator(i.key,s.key),this.keyedMap=ql(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ys)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ys;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(){this.ma=new ne(ot.comparator)}track(e){const i=e.doc.key,s=this.ma.get(i);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(i,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(i):e.type===1&&s.type===2?this.ma=this.ma.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):dt(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(i,e)}ga(){const e=[];return this.ma.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ss{constructor(e,i,s,o,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ss(e,i,ys.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class e2{constructor(){this.queries=R_(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(i,s){const o=Et(i),h=o.queries;o.queries=R_(),h.forEach((d,g)=>{for(const _ of g.ya)_.onError(s)})})(this,new rt(K.ABORTED,"Firestore shutting down"))}}function R_(){return new va(a=>Uv(a),dc)}async function n2(a,e){const i=Et(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.wa()&&e.Sa()&&(s=2):(h=new t2,s=e.Sa()?0:1);try{switch(s){case 0:h.pa=await i.onListen(o,!0);break;case 1:h.pa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=qd(d,`Initialization of query '${ms(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.ya.push(e),e.Da(i.onlineState),h.pa&&e.va(h.pa)&&jd(i)}async function i2(a,e){const i=Et(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.ya.indexOf(e);d>=0&&(h.ya.splice(d,1),h.ya.length===0?o=e.Sa()?0:1:!h.wa()&&e.Sa()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function r2(a,e){const i=Et(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.ya)g.va(o)&&(s=!0);d.pa=o}}s&&jd(i)}function a2(a,e,i){const s=Et(a),o=s.queries.get(e);if(o)for(const h of o.ya)h.onError(i);s.queries.delete(e)}function jd(a){a.ba.forEach(e=>{e.next()})}var fd,w_;(w_=fd||(fd={})).Ca="default",w_.Cache="cache";class s2{constructor(e,i,s){this.query=e,this.Fa=i,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ss(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),i=!0):this.Na(e,this.onlineState)&&(this.Ba(e),i=!0),this.xa=e,i}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let i=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),i=!0),i}Na(e,i){if(!e.fromCache||!this.Sa())return!0;const s=i!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const i=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ba(e){e=Ss.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==fd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){this.key=e}}class y0{constructor(e){this.key=e}}class l2{constructor(e,i){this.query=e,this.Ga=i,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Dt(),this.mutatedKeys=Dt(),this.Ha=Lv(e),this.Ja=new ys(this.Ha)}get Ya(){return this.Ga}Za(e,i){const s=i?i.Xa:new b_,o=i?i.Ja:this.Ja;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,I)=>{const D=o.get(A),q=mc(this.query,I)?I:null,Z=!!D&&this.mutatedKeys.has(D.key),et=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let $=!1;D&&q?D.data.isEqual(q.data)?Z!==et&&(s.track({type:3,doc:q}),$=!0):this.eu(D,q)||(s.track({type:2,doc:q}),$=!0,(_&&this.Ha(q,_)>0||v&&this.Ha(q,v)<0)&&(g=!0)):!D&&q?(s.track({type:0,doc:q}),$=!0):D&&!q&&(s.track({type:1,doc:D}),$=!0,(_||v)&&(g=!0)),$&&(q?(d=d.add(q),h=et?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{Ja:d,Xa:s,Cs:g,mutatedKeys:h}}eu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const d=e.Xa.ga();d.sort((A,I)=>function(q,Z){const et=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:$})}};return et(q)-et(Z)}(A.type,I.type)||this.Ha(A.doc,I.doc)),this.tu(s),o=o!=null&&o;const g=i&&!o?this.nu():[],_=this.ja.size===0&&this.current&&!o?1:0,v=_!==this.za;return this.za=_,d.length!==0||v?{snapshot:new Ss(this.query,e.Ja,h,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:g}:{ru:g}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new b_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(i=>this.Ga=this.Ga.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ga=this.Ga.delete(i)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Dt(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const i=[];return e.forEach(s=>{this.ja.has(s)||i.push(new y0(s))}),this.ja.forEach(s=>{e.has(s)||i.push(new p0(s))}),i}su(e){this.Ga=e.$s,this.ja=Dt();const i=this.Za(e.documents);return this.applyChanges(i,!0)}ou(){return Ss.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Hd="SyncEngine";class o2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class u2{constructor(e){this.key=e,this._u=!1}}class c2{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.au={},this.uu=new va(g=>Uv(g),dc),this.cu=new Map,this.lu=new Set,this.hu=new ne(ot.comparator),this.Pu=new Map,this.Tu=new Md,this.Iu={},this.Eu=new Map,this.du=As.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function h2(a,e,i=!0){const s=S0(a);let o;const h=s.uu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.ou()):o=await _0(s,e,i,!0),o}async function f2(a,e){const i=S0(a);await _0(i,e,!0,!1)}async function _0(a,e,i,s){const o=await Db(a.localStore,ni(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await d2(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&c0(a.remoteStore,o),g}async function d2(a,e,i,s,o){a.Ru=(I,D,q)=>async function(et,$,vt,gt){let ft=$.view.Za(vt);ft.Cs&&(ft=await __(et.localStore,$.query,!1).then(({documents:M})=>$.view.Za(M,ft)));const Ut=gt&&gt.targetChanges.get($.targetId),Tt=gt&&gt.targetMismatches.get($.targetId)!=null,zt=$.view.applyChanges(ft,et.isPrimaryClient,Ut,Tt);return I_(et,$.targetId,zt.ru),zt.snapshot}(a,I,D,q);const h=await __(a.localStore,e,!0),d=new l2(e,h.$s),g=d.Za(h.documents),_=so.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),v=d.applyChanges(g,a.isPrimaryClient,_);I_(a,i,v.ru);const A=new o2(e,i,d);return a.uu.set(e,A),a.cu.has(i)?a.cu.get(i).push(e):a.cu.set(i,[e]),v.snapshot}async function m2(a,e,i){const s=Et(a),o=s.uu.get(e),h=s.cu.get(o.targetId);if(h.length>1)return s.cu.set(o.targetId,h.filter(d=>!dc(d,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await cd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Ld(s.remoteStore,o.targetId),dd(s,o.targetId)}).catch(ws)):(dd(s,o.targetId),await cd(s.localStore,o.targetId,!0))}async function g2(a,e){const i=Et(a),s=i.uu.get(e),o=i.cu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Ld(i.remoteStore,s.targetId))}async function p2(a,e,i){const s=S2(a);try{const o=await function(d,g){const _=Et(d),v=Ae.now(),A=g.reduce((q,Z)=>q.add(Z.key),Dt());let I,D;return _.persistence.runTransaction("Locally write mutations","readwrite",q=>{let Z=Ui(),et=Dt();return _.Bs.getEntries(q,A).next($=>{Z=$,Z.forEach((vt,gt)=>{gt.isValidDocument()||(et=et.add(vt))})}).next(()=>_.localDocuments.getOverlayedDocuments(q,Z)).next($=>{I=$;const vt=[];for(const gt of g){const ft=DS(gt,I.get(gt.key).overlayedDocument);ft!=null&&vt.push(new wr(gt.key,ft,wv(ft.value.mapValue),ii.exists(!0)))}return _.mutationQueue.addMutationBatch(q,v,vt,g)}).next($=>{D=$;const vt=$.applyToLocalDocumentSet(I,et);return _.documentOverlayCache.saveOverlays(q,$.batchId,vt)})}).then(()=>({batchId:D.batchId,changes:Pv(I)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,_){let v=d.Iu[d.currentUser.toKey()];v||(v=new ne(bt)),v=v.insert(g,_),d.Iu[d.currentUser.toKey()]=v}(s,o.batchId,i),await oo(s,o.changes),await Ec(s.remoteStore)}catch(o){const h=qd(o,"Failed to persist write");i.reject(h)}}async function v0(a,e){const i=Et(a);try{const s=await wb(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Pu.get(h);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d._u=!0:o.modifiedDocuments.size>0?qt(d._u,14607):o.removedDocuments.size>0&&(qt(d._u,42227),d._u=!1))}),await oo(i,s,e)}catch(s){await ws(s)}}function C_(a,e,i){const s=Et(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.uu.forEach((h,d)=>{const g=d.view.Da(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const _=Et(d);_.onlineState=g;let v=!1;_.queries.forEach((A,I)=>{for(const D of I.ya)D.Da(g)&&(v=!0)}),v&&jd(_)}(s.eventManager,e),o.length&&s.au.j_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function y2(a,e,i){const s=Et(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Pu.get(e),h=o&&o.key;if(h){let d=new ne(ot.comparator);d=d.insert(h,Fe.newNoDocument(h,_t.min()));const g=Dt().add(h),_=new yc(_t.min(),new Map,new ne(bt),d,g);await v0(s,_),s.hu=s.hu.remove(h),s.Pu.delete(e),Gd(s)}else await cd(s.localStore,e,!1).then(()=>dd(s,e,i)).catch(ws)}async function _2(a,e){const i=Et(a),s=e.batch.batchId;try{const o=await Rb(i.localStore,e);T0(i,s,null),E0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await oo(i,o)}catch(o){await ws(o)}}async function v2(a,e,i){const s=Et(a);try{const o=await function(d,g){const _=Et(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(I=>(qt(I!==null,37113),A=I.keys(),_.mutationQueue.removeMutationBatch(v,I))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(s.localStore,e);T0(s,e,i),E0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await oo(s,o)}catch(o){await ws(o)}}function E0(a,e){(a.Eu.get(e)||[]).forEach(i=>{i.resolve()}),a.Eu.delete(e)}function T0(a,e,i){const s=Et(a);let o=s.Iu[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Iu[s.currentUser.toKey()]=o}}function dd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.cu.get(e))a.uu.delete(s),i&&a.au.Vu(s,i);a.cu.delete(e),a.isPrimaryClient&&a.Tu.Hr(e).forEach(s=>{a.Tu.containsKey(s)||A0(a,s)})}function A0(a,e){a.lu.delete(e.path.canonicalString());const i=a.hu.get(e);i!==null&&(Ld(a.remoteStore,i),a.hu=a.hu.remove(e),a.Pu.delete(i),Gd(a))}function I_(a,e,i){for(const s of i)s instanceof p0?(a.Tu.addReference(s.key,e),E2(a,s)):s instanceof y0?(it(Hd,"Document no longer in limbo: "+s.key),a.Tu.removeReference(s.key,e),a.Tu.containsKey(s.key)||A0(a,s.key)):dt(19791,{mu:s})}function E2(a,e){const i=e.key,s=i.path.canonicalString();a.hu.get(i)||a.lu.has(s)||(it(Hd,"New document in limbo: "+i),a.lu.add(s),Gd(a))}function Gd(a){for(;a.lu.size>0&&a.hu.size<a.maxConcurrentLimboResolutions;){const e=a.lu.values().next().value;a.lu.delete(e);const i=new ot(Jt.fromString(e)),s=a.du.next();a.Pu.set(s,new u2(i)),a.hu=a.hu.insert(i,s),c0(a.remoteStore,new hr(ni(Nv(i.path)),s,"TargetPurposeLimboResolution",cc.le))}}async function oo(a,e,i){const s=Et(a),o=[],h=[],d=[];s.uu.isEmpty()||(s.uu.forEach((g,_)=>{d.push(s.Ru(_,e,i).then(v=>{var A;if((v||i)&&s.isPrimaryClient){const I=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(_.targetId,I?"current":"not-current")}if(v){o.push(v);const I=xd.Rs(_.targetId,v);h.push(I)}}))}),await Promise.all(d),s.au.j_(o),await async function(_,v){const A=Et(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Y.forEach(v,D=>Y.forEach(D.ds,q=>A.persistence.referenceDelegate.addReference(I,D.targetId,q)).next(()=>Y.forEach(D.As,q=>A.persistence.referenceDelegate.removeReference(I,D.targetId,q)))))}catch(I){if(!Cs(I))throw I;it(Ud,"Failed to update sequence numbers: "+I)}for(const I of v){const D=I.targetId;if(!I.fromCache){const q=A.xs.get(D),Z=q.snapshotVersion,et=q.withLastLimboFreeSnapshotVersion(Z);A.xs=A.xs.insert(D,et)}}}(s.localStore,h))}async function T2(a,e){const i=Et(a);if(!i.currentUser.isEqual(e)){it(Hd,"User change. New user:",e.toKey());const s=await s0(i.localStore,e);i.currentUser=e,function(h,d){h.Eu.forEach(g=>{g.forEach(_=>{_.reject(new rt(K.CANCELLED,d))})}),h.Eu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await oo(i,s.ks)}}function A2(a,e){const i=Et(a),s=i.Pu.get(e);if(s&&s._u)return Dt().add(s.key);{let o=Dt();const h=i.cu.get(e);if(!h)return o;for(const d of h){const g=i.uu.get(d);o=o.unionWith(g.view.Ya)}return o}}function S0(a){const e=Et(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=v0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y2.bind(null,e),e.au.j_=r2.bind(null,e.eventManager),e.au.Vu=a2.bind(null,e.eventManager),e}function S2(a){const e=Et(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v2.bind(null,e),e}class ac{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_c(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,i){return null}bu(e,i){return null}wu(e){return bb(this.persistence,new Tb,e.initialUser,this.serializer)}yu(e){return new a0(Nd.fi,this.serializer)}pu(e){return new Ob}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ac.provider={build:()=>new ac};class b2 extends ac{constructor(e){super(),this.cacheSizeBytes=e}Su(e,i){qt(this.persistence.referenceDelegate instanceof ic,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new sb(s,e.asyncQueue,i)}yu(e){const i=this.cacheSizeBytes!==void 0?We.withCacheSize(this.cacheSizeBytes):We.DEFAULT;return new a0(s=>ic.fi(s,i),this.serializer)}}class md{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>C_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=T2.bind(null,this.syncEngine),await Wb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new e2}()}createDatastore(e){const i=_c(e.databaseInfo.databaseId),s=function(h){return new Lb(h)}(e.databaseInfo);return function(h,d,g,_){return new kb(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new jb(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>C_(this.syncEngine,i,0),function(){return T_.C()?new T_:new Mb}())}createSyncEngine(e,i){return function(o,h,d,g,_,v,A){const I=new c2(o,h,d,g,_,v);return A&&(I.Au=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=Et(o);it(ga,"RemoteStore shutting down."),h.Ta.add(5),await lo(h),h.Ea.shutdown(),h.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}md.provider={build:()=>new md};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="FirestoreClient";class w2{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ge.UNAUTHENTICATED,this.clientId=pv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{it(Sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(it(Sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=qd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Gf(a,e){a.asyncQueue.verifyOperationInProgress(),it(Sr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await s0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function D_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await C2(a);it(Sr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>S_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>S_(e.remoteStore,o)),a._onlineComponents=e}async function C2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){it(Sr,"Using user provided OfflineComponentProvider");try{await Gf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;_s("Error using user provided cache. Falling back to memory cache: "+i),await Gf(a,new ac)}}else it(Sr,"Using default OfflineComponentProvider"),await Gf(a,new b2(void 0));return a._offlineComponents}async function b0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(it(Sr,"Using user provided OnlineComponentProvider"),await D_(a,a._uninitializedComponentsProvider._online)):(it(Sr,"Using default OnlineComponentProvider"),await D_(a,new md))),a._onlineComponents}function I2(a){return b0(a).then(e=>e.syncEngine)}async function D2(a){const e=await b0(a),i=e.eventManager;return i.onListen=h2.bind(null,e.syncEngine),i.onUnlisten=m2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=f2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=g2.bind(null,e.syncEngine),i}function V2(a,e,i={}){const s=new gr;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new R2({next:D=>{A.Cu(),d.enqueueAndForget(()=>i2(h,I)),D.fromCache&&_.source==="server"?v.reject(new rt(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(D)},error:D=>v.reject(D)}),I=new s2(g,A,{includeMetadataChanges:!0,La:!0});return n2(h,I)}(await D2(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(a,e,i){if(!i)throw new rt(K.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function O2(a,e,i,s){if(e===!0&&s===!0)throw new rt(K.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function O_(a){if(!ot.isDocumentKey(a))throw new rt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function M_(a){if(ot.isDocumentKey(a))throw new rt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Tc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":dt(12329,{type:typeof a})}function pa(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new rt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Tc(a);throw new rt(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="firestore.googleapis.com",N_=!0;class x_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new rt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=C0,this.ssl=N_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:N_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=r0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rb)throw new rt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=R0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ac{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new UA;switch(s.type){case"firstParty":return new BA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=V_.get(i);s&&(it("ComponentProvider","Removing Datastore"),V_.delete(i),s.terminate())}(this),Promise.resolve()}}function M2(a,e,i,s={}){var o;a=pa(a,Ac);const h=vd(e),d=a._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:a._getEmulatorOptions()}),_=`${e}:${i}`;h&&(l1(`https://${_}`),h1("Firestore",!0)),d.host!==C0&&d.host!==_&&_s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:_,ssl:h,emulatorOptions:s});if(!Xl(v,g)&&(a._setSettings(v),s.mockUserToken)){let A,I;if(typeof s.mockUserToken=="string")A=s.mockUserToken,I=Ge.MOCK_USER;else{A=o1(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new rt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new Ge(D)}a._authCredentials=new LA(new mv(A,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Cr(this.firestore,e,this._query)}}class en{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class pr extends Cr{constructor(e,i,s){super(e,i,Nv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new ot(e))}withConverter(e){return new pr(this.firestore,e,this._path)}}function I0(a,e,...i){if(a=xn(a),w0("collection","path",e),a instanceof Ac){const s=Jt.fromString(e,...i);return M_(s),new pr(a,null,s)}{if(!(a instanceof en||a instanceof pr))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(e,...i));return M_(s),new pr(a.firestore,null,s)}}function N2(a,e,...i){if(a=xn(a),arguments.length===1&&(e=pv.newId()),w0("doc","path",e),a instanceof Ac){const s=Jt.fromString(e,...i);return O_(s),new en(a,null,new ot(s))}{if(!(a instanceof en||a instanceof pr))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(e,...i));return O_(s),new en(a.firestore,a instanceof pr?a.converter:null,new ot(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="AsyncQueue";class L_{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new o0(this,"async_queue_retry"),this.ec=()=>{const s=Hf();s&&it(U_,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const i=Hf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const i=Hf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const i=new gr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Cs(e))throw e;it(U_,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const i=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,xi("INTERNAL UNHANDLED ERROR: ",z_(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=i,i}enqueueAfterDelay(e,i,s){this.nc(),this.Xu.indexOf(e)>-1&&(i=0);const o=kd.createAndSchedule(this,e,i,s,h=>this.oc(h));return this.Hu.push(o),o}nc(){this.Ju&&dt(47125,{_c:z_(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const i of this.Hu)if(i.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const i=this.Hu.indexOf(e);this.Hu.splice(i,1)}}function z_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Sc extends Ac{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new L_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new L_(e),this._firestoreClient=void 0,await e}}}function x2(a,e){const i=typeof a=="object"?a:rv(),s=typeof a=="string"?a:Zu,o=ro(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=a1("firestore");h&&M2(o,...h)}return o}function D0(a){if(a._terminated)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||U2(a),a._firestoreClient}function U2(a){var e,i,s;const o=a._freezeSettings(),h=function(g,_,v,A){return new tS(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,R0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new w2(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bs(Be.fromBase64String(e))}catch(i){throw new rt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new bs(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=/^__.*__$/;class z2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,i,this.fieldTransforms):new ao(e,this.data,i,this.fieldTransforms)}}class V0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new wr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function O0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{hc:a})}}class Kd{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Pc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Kd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Tc({path:s,Ec:!1});return o.dc(e),o}Ac(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Tc({path:s,Ec:!1});return o.Pc(),o}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return sc(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(O0(this.hc)&&L2.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class P2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||_c(e)}gc(e,i,s,o=!1){return new Kd({hc:e,methodName:i,fc:s,path:Pe.emptyPath(),Ec:!1,mc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xd(a){const e=a._freezeSettings(),i=_c(a._databaseId);return new P2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function B2(a,e,i,s,o,h={}){const d=a.gc(h.merge||h.mergeFields?2:0,e,i,o);Zd("Data must be an object, but it was:",d,s);const g=M0(s,d);let _,v;if(h.merge)_=new dn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const I of h.mergeFields){const D=gd(e,I,i);if(!d.contains(D))throw new rt(K.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);x0(A,D)||A.push(D)}_=new dn(A),v=d.fieldTransforms.filter(I=>_.covers(I.field))}else _=null,v=d.fieldTransforms;return new z2(new tn(g),_,v)}class Rc extends Fd{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rc}}function k2(a,e,i,s){const o=a.gc(1,e,i);Zd("Data must be an object, but it was:",o,s);const h=[],d=tn.empty();Rr(s,(_,v)=>{const A=$d(e,_,i);v=xn(v);const I=o.Ac(A);if(v instanceof Rc)h.push(A);else{const D=uo(v,I);D!=null&&(h.push(A),d.set(A,D))}});const g=new dn(h);return new V0(d,g,o.fieldTransforms)}function q2(a,e,i,s,o,h){const d=a.gc(1,e,i),g=[gd(e,s,i)],_=[o];if(h.length%2!=0)throw new rt(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<h.length;D+=2)g.push(gd(e,h[D])),_.push(h[D+1]);const v=[],A=tn.empty();for(let D=g.length-1;D>=0;--D)if(!x0(v,g[D])){const q=g[D];let Z=_[D];Z=xn(Z);const et=d.Ac(q);if(Z instanceof Rc)v.push(q);else{const $=uo(Z,et);$!=null&&(v.push(q),A.set(q,$))}}const I=new dn(v);return new V0(A,I,d.fieldTransforms)}function j2(a,e,i,s=!1){return uo(i,a.gc(s?4:3,e))}function uo(a,e){if(N0(a=xn(a)))return Zd("Unsupported field value:",e,a),M0(a,e);if(a instanceof Fd)return function(s,o){if(!O0(o.hc))throw o.Vc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Vc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let _=uo(g,o.Rc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,o){if((s=xn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return SS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Ae.fromDate(s);return{timestampValue:nc(o.serializer,h)}}if(s instanceof Ae){const h=new Ae(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:nc(o.serializer,h)}}if(s instanceof Qd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof bs)return{bytesValue:$v(o.serializer,s._byteString)};if(s instanceof en){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Vc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Od(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Yd)return function(d,g){return{mapValue:{fields:{[bv]:{stringValue:Rv},[$u]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Vc("VectorValues must only contain numeric values.");return Id(g.serializer,v)})}}}}}}(s,o);throw o.Vc(`Unsupported field value: ${Tc(s)}`)}(a,e)}function M0(a,e){const i={};return _v(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rr(a,(s,o)=>{const h=uo(o,e.Ic(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function N0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Ae||a instanceof Qd||a instanceof bs||a instanceof en||a instanceof Fd||a instanceof Yd)}function Zd(a,e,i){if(!N0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Tc(i);throw s==="an object"?e.Vc(a+" a custom object"):e.Vc(a+" "+s)}}function gd(a,e,i){if((e=xn(e))instanceof bc)return e._internalPath;if(typeof e=="string")return $d(a,e);throw sc("Field path arguments must be of type string or ",a,!1,void 0,i)}const H2=new RegExp("[~\\*/\\[\\]]");function $d(a,e,i){if(e.search(H2)>=0)throw sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new bc(...e.split("."))._internalPath}catch{throw sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function sc(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new rt(K.INVALID_ARGUMENT,g+a+_)}function x0(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(wc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class G2 extends U0{data(){return super.data()}}function wc(a,e){return typeof e=="string"?$d(a,e):e instanceof bc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new rt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jd{}class Wd extends Jd{}function L0(a,e,...i){let s=[];e instanceof Jd&&s.push(e),s=s.concat(i),function(h){const d=h.filter(_=>_ instanceof tm).length,g=h.filter(_=>_ instanceof Cc).length;if(d>1||d>0&&g>0)throw new rt(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)a=o._apply(a);return a}class Cc extends Wd{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Cc(e,i,s)}_apply(e){const i=this._parse(e);return z0(e._query,i),new Cr(e.firestore,e.converter,ad(e._query,i))}_parse(e){const i=Xd(e.firestore);return function(h,d,g,_,v,A,I){let D;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){B_(I,A);const Z=[];for(const et of I)Z.push(P_(_,h,et));D={arrayValue:{values:Z}}}else D=P_(_,h,I)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||B_(I,A),D=j2(g,d,I,A==="in"||A==="not-in");return pe.create(v,A,D)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Q2(a,e,i){const s=e,o=wc("where",a);return Cc._create(o,s,i)}class tm extends Jd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new tm(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:Un.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,h){let d=o;const g=h.getFlattenedFilters();for(const _ of g)z0(d,_),d=ad(d,_)}(e._query,i),new Cr(e.firestore,e.converter,ad(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class em extends Wd{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new em(e,i)}_apply(e){const i=function(o,h,d){if(o.startAt!==null)throw new rt(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new rt(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eo(h,d)}(e._query,this._field,this._direction);return new Cr(e.firestore,e.converter,function(o,h){const d=o.explicitOrderBy.concat([h]);return new Is(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}function Y2(a,e="asc"){const i=e,s=wc("orderBy",a);return em._create(s,i)}class nm extends Wd{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new nm(e,i,s)}_apply(e){return new Cr(e.firestore,e.converter,Wu(e._query,this._limit,this._limitType))}}function K2(a){return nm._create("limit",a,"F")}function P_(a,e,i){if(typeof(i=xn(i))=="string"){if(i==="")throw new rt(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xv(e)&&i.indexOf("/")!==-1)throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Jt.fromString(i));if(!ot.isDocumentKey(s))throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Wy(a,new ot(s))}if(i instanceof en)return Wy(a,i._key);throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tc(i)}.`)}function B_(a,e){if(!Array.isArray(a)||a.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function z0(a,e){const i=function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(a.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new rt(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class X2{convertValue(e,i="none"){switch(Tr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Rr(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[$u].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>ce(d.doubleValue));return new Yd(h)}convertGeoPoint(e){return new Qd(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=fc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const i=vr(e);return new Ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Jt.fromString(e);qt(i0(s),9688,{name:e});const o=new Wl(s.get(1),s.get(3)),h=new ot(s.popFirst(5));return o.isEqual(i)||xi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $2 extends U0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(wc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Qu extends $2{data(e={}){return super.data(e)}}class J2{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ku(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Qu(this._firestore,this._userDataWriter,s.key,s,new ku(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const _=new Qu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ku(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Qu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ku(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:W2(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function W2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:a})}}class tR extends X2{constructor(e){super(),this.firestore=e}convertBytes(e){return new bs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,i)}}function P0(a){a=pa(a,Cr);const e=pa(a.firestore,Sc),i=D0(e),s=new tR(e);return F2(a._query),V2(i,a._query).then(o=>new J2(e,s,a,o))}function eR(a,e,i){a=pa(a,en);const s=pa(a.firestore,Sc),o=Z2(a.converter,e);return B0(s,[B2(Xd(s),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,ii.none())])}function nR(a,e,i,...s){a=pa(a,en);const o=pa(a.firestore,Sc),h=Xd(o);let d;return d=typeof(e=xn(e))=="string"||e instanceof bc?q2(h,"updateDoc",a._key,e,i,s):k2(h,"updateDoc",a._key,e),B0(o,[d.toMutation(a._key,ii.exists(!0))])}function B0(a,e){return function(s,o){const h=new gr;return s.asyncQueue.enqueueAndForget(async()=>p2(await I2(s),o,h)),h.promise}(D0(a),e)}(function(e,i=!0){(function(o){Rs=o})(AA),yr(new Mi("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Sc(new zA(s.getProvider("auth-internal")),new kA(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new rt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(v.options.projectId,A)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ei(qy,jy,e),ei(qy,jy,"esm2017")})();const k0="@firebase/installations",im="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=1e4,j0=`w:${im}`,H0="FIS_v2",iR="https://firebaseinstallations.googleapis.com/v1",rR=60*60*1e3,aR="installations",sR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ya=new uc(aR,sR,lR);function G0(a){return a instanceof br&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0({projectId:a}){return`${iR}/projects/${a}/installations`}function Q0(a){return{token:a.token,requestStatus:2,expiresIn:uR(a.expiresIn),creationTime:Date.now()}}async function Y0(a,e){const s=(await e.json()).error;return ya.create("request-failed",{requestName:a,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function K0({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function oR(a,{refreshToken:e}){const i=K0(a);return i.append("Authorization",cR(e)),i}async function X0(a){const e=await a();return e.status>=500&&e.status<600?a():e}function uR(a){return Number(a.replace("s","000"))}function cR(a){return`${H0} ${a}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR({appConfig:a,heartbeatServiceProvider:e},{fid:i}){const s=F0(a),o=K0(a),h=e.getImmediate({optional:!0});if(h){const v=await h.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={fid:i,authVersion:H0,appId:a.appId,sdkVersion:j0},g={method:"POST",headers:o,body:JSON.stringify(d)},_=await X0(()=>fetch(s,g));if(_.ok){const v=await _.json();return{fid:v.fid||i,registrationStatus:2,refreshToken:v.refreshToken,authToken:Q0(v.authToken)}}else throw await Y0("Create Installation",_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(a){return new Promise(e=>{setTimeout(e,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=/^[cdef][\w-]{21}$/,pd="";function mR(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const i=gR(a);return dR.test(i)?i:pd}catch{return pd}}function gR(a){return fR(a).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(a){return`${a.appName}!${a.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=new Map;function J0(a,e){const i=Ic(a);W0(i,e),pR(i,e)}function W0(a,e){const i=$0.get(a);if(i)for(const s of i)s(e)}function pR(a,e){const i=yR();i&&i.postMessage({key:a,fid:e}),_R()}let da=null;function yR(){return!da&&"BroadcastChannel"in self&&(da=new BroadcastChannel("[Firebase] FID Change"),da.onmessage=a=>{W0(a.data.key,a.data.fid)}),da}function _R(){$0.size===0&&da&&(da.close(),da=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="firebase-installations-database",ER=1,_a="firebase-installations-store";let Ff=null;function rm(){return Ff||(Ff=nv(vR,ER,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(_a)}}})),Ff}async function lc(a,e){const i=Ic(a),o=(await rm()).transaction(_a,"readwrite"),h=o.objectStore(_a),d=await h.get(i);return await h.put(e,i),await o.done,(!d||d.fid!==e.fid)&&J0(a,e.fid),e}async function tE(a){const e=Ic(a),s=(await rm()).transaction(_a,"readwrite");await s.objectStore(_a).delete(e),await s.done}async function Dc(a,e){const i=Ic(a),o=(await rm()).transaction(_a,"readwrite"),h=o.objectStore(_a),d=await h.get(i),g=e(d);return g===void 0?await h.delete(i):await h.put(g,i),await o.done,g&&(!d||d.fid!==g.fid)&&J0(a,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function am(a){let e;const i=await Dc(a.appConfig,s=>{const o=TR(s),h=AR(a,o);return e=h.registrationPromise,h.installationEntry});return i.fid===pd?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function TR(a){const e=a||{fid:mR(),registrationStatus:0};return eE(e)}function AR(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ya.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=SR(a,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:bR(a)}:{installationEntry:e}}async function SR(a,e){try{const i=await hR(a,e);return lc(a.appConfig,i)}catch(i){throw G0(i)&&i.customData.serverCode===409?await tE(a.appConfig):await lc(a.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function bR(a){let e=await k_(a.appConfig);for(;e.registrationStatus===1;)await Z0(100),e=await k_(a.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await am(a);return s||i}return e}function k_(a){return Dc(a,e=>{if(!e)throw ya.create("installation-not-found");return eE(e)})}function eE(a){return RR(a)?{fid:a.fid,registrationStatus:0}:a}function RR(a){return a.registrationStatus===1&&a.registrationTime+q0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR({appConfig:a,heartbeatServiceProvider:e},i){const s=CR(a,i),o=oR(a,i),h=e.getImmediate({optional:!0});if(h){const v=await h.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={installation:{sdkVersion:j0,appId:a.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},_=await X0(()=>fetch(s,g));if(_.ok){const v=await _.json();return Q0(v)}else throw await Y0("Generate Auth Token",_)}function CR(a,{fid:e}){return`${F0(a)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sm(a,e=!1){let i;const s=await Dc(a.appConfig,h=>{if(!nE(h))throw ya.create("not-registered");const d=h.authToken;if(!e&&VR(d))return h;if(d.requestStatus===1)return i=IR(a,e),h;{if(!navigator.onLine)throw ya.create("app-offline");const g=MR(h);return i=DR(a,g),g}});return i?await i:s.authToken}async function IR(a,e){let i=await q_(a.appConfig);for(;i.authToken.requestStatus===1;)await Z0(100),i=await q_(a.appConfig);const s=i.authToken;return s.requestStatus===0?sm(a,e):s}function q_(a){return Dc(a,e=>{if(!nE(e))throw ya.create("not-registered");const i=e.authToken;return NR(i)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function DR(a,e){try{const i=await wR(a,e),s=Object.assign(Object.assign({},e),{authToken:i});return await lc(a.appConfig,s),i}catch(i){if(G0(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await tE(a.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await lc(a.appConfig,s)}throw i}}function nE(a){return a!==void 0&&a.registrationStatus===2}function VR(a){return a.requestStatus===2&&!OR(a)}function OR(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+rR}function MR(a){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},a),{authToken:e})}function NR(a){return a.requestStatus===1&&a.requestTime+q0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(a){const e=a,{installationEntry:i,registrationPromise:s}=await am(e);return s?s.catch(console.error):sm(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(a,e=!1){const i=a;return await LR(i),(await sm(i,e)).token}async function LR(a){const{registrationPromise:e}=await am(a);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(a){if(!a||!a.options)throw Qf("App Configuration");if(!a.name)throw Qf("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!a.options[i])throw Qf(i);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function Qf(a){return ya.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="installations",PR="installations-internal",BR=a=>{const e=a.getProvider("app").getImmediate(),i=zR(e),s=ro(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},kR=a=>{const e=a.getProvider("app").getImmediate(),i=ro(e,iE).getImmediate();return{getId:()=>xR(i),getToken:o=>UR(i,o)}};function qR(){yr(new Mi(iE,BR,"PUBLIC")),yr(new Mi(PR,kR,"PRIVATE"))}qR();ei(k0,im);ei(k0,im,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc="analytics",jR="firebase_id",HR="origin",GR=60*1e3,FR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn=new Ed("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mn=new uc("analytics","Analytics",QR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(a){if(!a.startsWith(lm)){const e=mn.create("invalid-gtag-resource",{gtagURL:a});return nn.warn(e.message),""}return a}function rE(a){return Promise.all(a.map(e=>e.catch(i=>i)))}function KR(a,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(a,e)),i}function XR(a,e){const i=KR("firebase-js-sdk-policy",{createScriptURL:YR}),s=document.createElement("script"),o=`${lm}?l=${a}&id=${e}`;s.src=i?i==null?void 0:i.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function ZR(a){let e=[];return Array.isArray(window[a])?e=window[a]:window[a]=e,e}async function $R(a,e,i,s,o,h){const d=s[o];try{if(d)await e[d];else{const _=(await rE(i)).find(v=>v.measurementId===o);_&&await e[_.appId]}}catch(g){nn.error(g)}a("config",o,h)}async function JR(a,e,i,s,o){try{let h=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await rE(i);for(const _ of d){const v=g.find(I=>I.measurementId===_),A=v&&e[v.appId];if(A)h.push(A);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),a("event",s,o||{})}catch(h){nn.error(h)}}function WR(a,e,i,s){async function o(h,...d){try{if(h==="event"){const[g,_]=d;await JR(a,e,i,g,_)}else if(h==="config"){const[g,_]=d;await $R(a,e,i,s,g,_)}else if(h==="consent"){const[g,_]=d;a("consent",g,_)}else if(h==="get"){const[g,_,v]=d;a("get",g,_,v)}else if(h==="set"){const[g]=d;a("set",g)}else a(h,...d)}catch(g){nn.error(g)}}return o}function tw(a,e,i,s,o){let h=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(h=window[o]),window[o]=WR(h,a,e,i),{gtagCore:h,wrappedGtag:window[o]}}function ew(a){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(lm)&&i.src.includes(a))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=30,iw=1e3;class rw{constructor(e={},i=iw){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const aE=new rw;function aw(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function sw(a){var e;const{appId:i,apiKey:s}=a,o={method:"GET",headers:aw(s)},h=FR.replace("{app-id}",i),d=await fetch(h,o);if(d.status!==200&&d.status!==304){let g="";try{const _=await d.json();!((e=_.error)===null||e===void 0)&&e.message&&(g=_.error.message)}catch{}throw mn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:g})}return d.json()}async function lw(a,e=aE,i){const{appId:s,apiKey:o,measurementId:h}=a.options;if(!s)throw mn.create("no-app-id");if(!o){if(h)return{measurementId:h,appId:s};throw mn.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new cw;return setTimeout(async()=>{g.abort()},GR),sE({appId:s,apiKey:o,measurementId:h},d,g,e)}async function sE(a,{throttleEndTimeMillis:e,backoffCount:i},s,o=aE){var h;const{appId:d,measurementId:g}=a;try{await ow(s,e)}catch(_){if(g)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:d,measurementId:g};throw _}try{const _=await sw(a);return o.deleteThrottleMetadata(d),_}catch(_){const v=_;if(!uw(v)){if(o.deleteThrottleMetadata(d),g)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:d,measurementId:g};throw _}const A=Number((h=v==null?void 0:v.customData)===null||h===void 0?void 0:h.httpStatus)===503?Oy(i,o.intervalMillis,nw):Oy(i,o.intervalMillis),I={throttleEndTimeMillis:Date.now()+A,backoffCount:i+1};return o.setThrottleMetadata(d,I),nn.debug(`Calling attemptFetch again in ${A} millis`),sE(a,I,s,o)}}function ow(a,e){return new Promise((i,s)=>{const o=Math.max(e-Date.now(),0),h=setTimeout(i,o);a.addEventListener(()=>{clearTimeout(h),s(mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function uw(a){if(!(a instanceof br)||!a.customData)return!1;const e=Number(a.customData.httpStatus);return e===429||e===500||e===503||e===504}class cw{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function hw(a,e,i,s,o){if(o&&o.global){a("event",i,s);return}else{const h=await e,d=Object.assign(Object.assign({},s),{send_to:h});a("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fw(){if(J_())try{await W_()}catch(a){return nn.warn(mn.create("indexeddb-unavailable",{errorInfo:a==null?void 0:a.toString()}).message),!1}else return nn.warn(mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function dw(a,e,i,s,o,h,d){var g;const _=lw(a);_.then(q=>{i[q.measurementId]=q.appId,a.options.measurementId&&q.measurementId!==a.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${q.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(q=>nn.error(q)),e.push(_);const v=fw().then(q=>{if(q)return s.getId()}),[A,I]=await Promise.all([_,v]);ew(h)||XR(h,A.measurementId),o("js",new Date);const D=(g=d==null?void 0:d.config)!==null&&g!==void 0?g:{};return D[HR]="firebase",D.update=!0,I!=null&&(D[jR]=I),o("config",A.measurementId,D),A.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this.app=e}_delete(){return delete Kl[this.app.options.appId],Promise.resolve()}}let Kl={},j_=[];const H_={};let Yf="dataLayer",gw="gtag",G_,lE,F_=!1;function pw(){const a=[];if(m1()&&a.push("This is a browser extension environment."),p1()||a.push("Cookies are not available."),a.length>0){const e=a.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=mn.create("invalid-analytics-context",{errorInfo:e});nn.warn(i.message)}}function yw(a,e,i){pw();const s=a.options.appId;if(!s)throw mn.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mn.create("no-api-key");if(Kl[s]!=null)throw mn.create("already-exists",{id:s});if(!F_){ZR(Yf);const{wrappedGtag:h,gtagCore:d}=tw(Kl,j_,H_,Yf,gw);lE=h,G_=d,F_=!0}return Kl[s]=dw(a,j_,H_,e,G_,Yf,i),new mw(a)}function _w(a=rv()){a=xn(a);const e=ro(a,oc);return e.isInitialized()?e.getImmediate():vw(a)}function vw(a,e={}){const i=ro(a,oc);if(i.isInitialized()){const o=i.getImmediate();if(Xl(e,i.getOptions()))return o;throw mn.create("already-initialized")}return i.initialize({options:e})}function Ew(a,e,i,s){a=xn(a),hw(lE,Kl[a.app.options.appId],e,i,s).catch(o=>nn.error(o))}const Q_="@firebase/analytics",Y_="0.10.16";function Tw(){yr(new Mi(oc,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return yw(s,o,i)},"PUBLIC")),yr(new Mi("analytics-internal",a,"PRIVATE")),ei(Q_,Y_),ei(Q_,Y_,"esm2017");function a(e){try{const i=e.getProvider(oc).getImmediate();return{logEvent:(s,o,h)=>Ew(i,s,o,h)}}catch(i){throw mn.create("interop-component-reg-failed",{reason:i})}}}Tw();const Aw={apiKey:"AIzaSyA7Z3UcaaHiHvGmmZZs6IF-yqKD7ne7Cjs",authDomain:"movieapp-2aedc.firebaseapp.com",projectId:"movieapp-2aedc",storageBucket:"movieapp-2aedc.firebasestorage.app",messagingSenderId:"614443940443",appId:"1:614443940443:web:b3e44fa0e50a84d9e79d7e",measurementId:"G-Z9TRWWPHKS"},oE=iv(Aw);_w(oE);const uE=x2(oE),cE="movie",Sw=async(a,e)=>{try{const i=I0(uE,cE),s=L0(i,Q2("searchTerm","==",a)),o=await P0(s);if(o.empty){const h=N2(i);await eR(h,{searchTerm:a,count:1,movie_id:e.id,poster_url:`https://image.tmdb.org/t/p/w500${e.poster_path}`})}else{const h=o.docs[0].ref,d=o.docs[0].data();await nR(h,{count:d.count+1})}}catch(i){console.error("Error updating search count:",i)}},bw=async()=>{try{const a=I0(uE,cE),e=L0(a,Y2("count","desc"),K2(5));return(await P0(e)).docs.map(o=>({id:o.id,...o.data()}))}catch(a){return console.error("Error fetching trending movies:",a),[]}},K_="https://api.themoviedb.org/3",Rw="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjYzU0M2Y1YWViMjRhYmVmOTBkZjBjMjYwNDI2Mjg4YiIsIm5iZiI6MTc0NzkwOTg1MC44MDA5OTk5LCJzdWIiOiI2ODJlZmNkYTY1OTFmOGY2MTYxYzFlOGYiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.iRRad0NcFV3XxBsAy3w_m4m3dcPft7EzZtKHotvHN5c",ww={method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${Rw}`}},Cw=()=>{const[a,e]=Wn.useState(""),[i,s]=Wn.useState(""),[o,h]=Wn.useState([]),[d,g]=Wn.useState(!1),[_,v]=Wn.useState([]),A=KT(a,500),I=async(q="")=>{var Z;try{g(!0),s("");const et=q?`${K_}/search/movie?query=${encodeURIComponent(q)}`:`${K_}/discover/movie?sort_by=popularity.desc`,$=await fetch(et,ww);if(!$.ok)throw new Error("failed to fetch movies");const vt=await $.json();if(vt.response==="false"){s(vt.Error||"failed to fetch movies"),h([]);return}h(vt.results||[]),q&&((Z=vt.results)!=null&&Z[0])&&Sw(q,vt.results[0])}catch(et){console.error(`Error fetching Movies:${et}`),s("Error fetching movie. Please try again later")}finally{g(!1)}},D=async()=>{try{const q=await bw();v(q)}catch(q){console.error(`Error fetching trending movies:${q}`)}};return Wn.useEffect(()=>{I(A)},[A]),Wn.useEffect(()=>{D()},[]),yt.jsx(yt.Fragment,{children:yt.jsx("main",{children:yt.jsx("div",{className:"pattern",children:yt.jsxs("div",{className:"wrapper",children:[yt.jsxs("header",{children:[yt.jsx("img",{src:"./hero-img.png",alt:"Hero img"}),yt.jsxs("h1",{children:["Discover ",yt.jsx("span",{className:"text-gradient",children:"films"})," that fit your vibe"]})]}),yt.jsx(FT,{search:a,setsearch:e}),_.length>0&&yt.jsxs("section",{className:"trending",children:[yt.jsx("h2",{children:"Most Popular Movies"}),yt.jsx("ul",{children:_.map((q,Z)=>yt.jsxs("li",{children:[yt.jsx("p",{children:Z+1}),yt.jsx("img",{src:q.poster_url,alt:q.title})]},q.id))})]}),yt.jsxs("section",{className:"all-movies",children:[yt.jsx("h2",{children:"Movies"}),d?yt.jsx(QT,{}):i?yt.jsx("p",{className:"text-white",children:i}):yt.jsx("ul",{children:o.map(q=>yt.jsx(YT,{movie:q},q.id))})]})]})})})})};GT.createRoot(document.getElementById("root")).render(yt.jsx(Wn.StrictMode,{children:yt.jsx(Cw,{})}));
